var Live2DCubismCore,LIVE2DCUBISMFRAMEWORK;!function(e){var t,r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var r,i=void 0!==(e=e||{})?e:{},a={};for(r in i)i.hasOwnProperty(r)&&(a[r]=i[r]);i.arguments=[],i.thisProgram="./this.program",i.quit=function(e,t){throw t},i.preRun=[],i.postRun=[];var n=!1,s=!1,o=!1,l=!1;n="object"==typeof window,s="function"==typeof importScripts,o="object"==typeof process&&"function"==typeof require&&!n&&!s,l=!n&&!o&&!s;var u,f,c="";function A(e){return i.locateFile?i.locateFile(e,c):c+e}o?(c=__dirname+"/",i.read=function(e,t){var r;return(r=Se(e))||(u||(u=require("fs")),f||(f=require("path")),e=f.normalize(e),r=u.readFileSync(e)),t?r:r.toString()},i.readBinary=function(e){var t=i.read(e,!0);return t.buffer||(t=new Uint8Array(t)),I(t.buffer),t},process.argv.length>1&&(i.thisProgram=process.argv[1].replace(/\\/g,"/")),i.arguments=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Je))throw e})),process.on("unhandledRejection",je),i.quit=function(e){process.exit(e)},i.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(i.read=function(e){var t=Se(e);return t?Ve(t):read(e)}),i.readBinary=function(e){var t;return(t=Se(e))?t:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(I("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?i.arguments=scriptArgs:void 0!==arguments&&(i.arguments=arguments),"function"==typeof quit&&(i.quit=function(e){quit(e)})):(n||s)&&(s?c=self.location.href:document.currentScript&&(c=document.currentScript.src),t&&(c=t),c=0!==c.indexOf("blob:")?c.substr(0,c.lastIndexOf("/")+1):"",i.read=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var r=Se(e);if(r)return Ve(r);throw t}},s&&(i.readBinary=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var r=Se(e);if(r)return r;throw t}}),i.readAsync=function(e,t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status||0==i.status&&i.response)t(i.response);else{var a=Se(e);a?t(a.buffer):r()}},i.onerror=r,i.send(null)},i.setWindowTitle=function(e){document.title=e});var d=i.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),h=i.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||d);for(r in a)a.hasOwnProperty(r)&&(i[r]=a[r]);a=void 0;var m=16;function b(e){var t=T;return T=T+e+15&-16,t}function p(e,t){return t||(t=m),e=Math.ceil(e/t)*t}new Array(0);var y=0,v=function(e){y=e},g=function(){return y},w=8,_=!1;function I(e,t){e||je("Assertion failed: "+t)}function k(e){var t=i["_"+e];return I(t,"Cannot call unknown function "+e+", make sure it is exported"),t}var M={stackSave:function(){Oe()},stackRestore:function(){Ze()},arrayToC:function(e){var t=We(e.length);return he(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);V(e,t=We(r),r)}return t}},D={string:M.stringToC,array:M.arrayToC};function B(e,t,r,i,a){var n=k(e),s=[],o=0;if(i)for(var l=0;l<i.length;l++){var u=D[r[l]];u?(0===o&&(o=Oe()),s[l]=u(i[l])):s[l]=i[l]}var f=n.apply(null,s);return f=function(e){return"string"===t?P(e):"boolean"===t?Boolean(e):e}(f),0!==o&&Ze(o),f}function P(e,t){if(0===t||!e)return"";for(var r,i=0,a=0;i|=r=S[e+a>>0],(0!=r||t)&&(a++,!t||a!=t););t||(t=a);var n="";if(i<128){for(var s,o=1024;t>0;)s=String.fromCharCode.apply(String,S.subarray(e,e+Math.min(t,o))),n=n?n+s:s,e+=o,t-=o;return n}return G(e)}var R="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t){for(var r=t;e[r];)++r;if(r-t>16&&e.subarray&&R)return R.decode(e.subarray(t,r));for(var i,a,n,s,o,l="";;){if(!(i=e[t++]))return l;if(128&i)if(a=63&e[t++],192!=(224&i))if(n=63&e[t++],224==(240&i)?i=(15&i)<<12|a<<6|n:(s=63&e[t++],240==(248&i)?i=(7&i)<<18|a<<12|n<<6|s:(o=63&e[t++],i=248==(252&i)?(3&i)<<24|a<<18|n<<12|s<<6|o:(1&i)<<30|a<<24|n<<18|s<<12|o<<6|63&e[t++])),i<65536)l+=String.fromCharCode(i);else{var u=i-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&i)<<6|a);else l+=String.fromCharCode(i)}}function G(e){return C(S,e)}function E(e,t,r,i){if(!(i>0))return 0;for(var a=r,n=r+i-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(r>=n)break;t[r++]=o}else if(o<=2047){if(r+1>=n)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=n)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else if(o<=2097151){if(r+3>=n)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}else if(o<=67108863){if(r+4>=n)break;t[r++]=248|o>>24,t[r++]=128|o>>18&63,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+5>=n)break;t[r++]=252|o>>30,t[r++]=128|o>>24&63,t[r++]=128|o>>18&63,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}return t[r]=0,r-a}function V(e,t,r){return E(e,S,t,r)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var x,F,S,U,T,W,Z,O,X,Y,z,N=65536,H=16777216,J=16777216;function L(e,t){return e%t>0&&(e+=t-e%t),e}function j(e){i.buffer=x=e}function Q(){i.HEAP8=F=new Int8Array(x),i.HEAP16=new Int16Array(x),i.HEAP32=U=new Int32Array(x),i.HEAPU8=S=new Uint8Array(x),i.HEAPU16=new Uint16Array(x),i.HEAPU32=new Uint32Array(x),i.HEAPF32=new Float32Array(x),i.HEAPF64=new Float64Array(x)}function K(){je("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+ee+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function q(){var e=i.usingWasm?N:H,t=2147483648-e;if(U[Y>>2]>t)return!1;var r=ee;for(ee=Math.max(ee,J);ee<U[Y>>2];)ee=ee<=536870912?L(2*ee,e):Math.min(L((3*ee+2147483648)/4,e),t);var a=i.reallocBuffer(ee);return a&&a.byteLength==ee?(j(a),Q(),!0):(ee=r,!1)}T=W=Z=O=X=Y=0,i.reallocBuffer||(i.reallocBuffer=function(e){var t;try{var r=F;t=new ArrayBuffer(e),new Int8Array(t).set(r)}catch(e){return!1}return!!Te(t)&&t});try{(z=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get))(new ArrayBuffer(4))}catch(Qe){z=function(e){return e.byteLength}}var $=i.TOTAL_STACK||5242880,ee=i.TOTAL_MEMORY||16777216;function te(){return ee}function re(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?i.dynCall_v(r):i.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}ee<$&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+ee+"! (TOTAL_STACK="+$+")"),i.buffer?x=i.buffer:(x=new ArrayBuffer(ee),i.buffer=x),Q();var ie=[],ae=[],ne=[],se=[],oe=!1;function le(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)Ae(i.preRun.shift());re(ie)}function ue(){oe||(oe=!0,re(ae))}function fe(){re(ne)}function ce(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)de(i.postRun.shift());re(se)}function Ae(e){ie.unshift(e)}function de(e){se.unshift(e)}function he(e,t){F.set(e,t)}Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var r=65535&e,i=65535&t;return r*i+((e>>>16)*i+r*(t>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(e){var t=32,r=e>>16;return r&&(t-=16,e=r),(r=e>>8)&&(t-=8,e=r),(r=e>>4)&&(t-=4,e=r),(r=e>>2)&&(t-=2,e=r),(r=e>>1)?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.abs,Math.ceil,Math.floor,Math.min;var me=0,be=null,pe=null;function ye(e){me++,i.monitorRunDependencies&&i.monitorRunDependencies(me)}function ve(e){if(me--,i.monitorRunDependencies&&i.monitorRunDependencies(me),0==me&&(null!==be&&(clearInterval(be),be=null),pe)){var t=pe;pe=null,t()}}i.preloadedImages={},i.preloadedAudios={};var ge=null,we="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(we):0===e.indexOf(we)}T=w+6e3,ae.push(),ge="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUZUISIZDQECAxFLHAwQBAsdEh4naG5vcHFiIAUGDxMUFRoIFgcoJBcYCQoOGx8lI4OCfSYqKzw9Pj9DR0pNWFlaW1xdXl9gYWNkZWZnaWprbHJzdHl6e3wAAAAAAAAAAABJbGxlZ2FsIGJ5dGUgc2VxdWVuY2UARG9tYWluIGVycm9yAFJlc3VsdCBub3QgcmVwcmVzZW50YWJsZQBOb3QgYSB0dHkAUGVybWlzc2lvbiBkZW5pZWQAT3BlcmF0aW9uIG5vdCBwZXJtaXR0ZWQATm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeQBObyBzdWNoIHByb2Nlc3MARmlsZSBleGlzdHMAVmFsdWUgdG9vIGxhcmdlIGZvciBkYXRhIHR5cGUATm8gc3BhY2UgbGVmdCBvbiBkZXZpY2UAT3V0IG9mIG1lbW9yeQBSZXNvdXJjZSBidXN5AEludGVycnVwdGVkIHN5c3RlbSBjYWxsAFJlc291cmNlIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlAEludmFsaWQgc2VlawBDcm9zcy1kZXZpY2UgbGluawBSZWFkLW9ubHkgZmlsZSBzeXN0ZW0ARGlyZWN0b3J5IG5vdCBlbXB0eQBDb25uZWN0aW9uIHJlc2V0IGJ5IHBlZXIAT3BlcmF0aW9uIHRpbWVkIG91dABDb25uZWN0aW9uIHJlZnVzZWQASG9zdCBpcyBkb3duAEhvc3QgaXMgdW5yZWFjaGFibGUAQWRkcmVzcyBpbiB1c2UAQnJva2VuIHBpcGUASS9PIGVycm9yAE5vIHN1Y2ggZGV2aWNlIG9yIGFkZHJlc3MAQmxvY2sgZGV2aWNlIHJlcXVpcmVkAE5vIHN1Y2ggZGV2aWNlAE5vdCBhIGRpcmVjdG9yeQBJcyBhIGRpcmVjdG9yeQBUZXh0IGZpbGUgYnVzeQBFeGVjIGZvcm1hdCBlcnJvcgBJbnZhbGlkIGFyZ3VtZW50AEFyZ3VtZW50IGxpc3QgdG9vIGxvbmcAU3ltYm9saWMgbGluayBsb29wAEZpbGVuYW1lIHRvbyBsb25nAFRvbyBtYW55IG9wZW4gZmlsZXMgaW4gc3lzdGVtAE5vIGZpbGUgZGVzY3JpcHRvcnMgYXZhaWxhYmxlAEJhZCBmaWxlIGRlc2NyaXB0b3IATm8gY2hpbGQgcHJvY2VzcwBCYWQgYWRkcmVzcwBGaWxlIHRvbyBsYXJnZQBUb28gbWFueSBsaW5rcwBObyBsb2NrcyBhdmFpbGFibGUAUmVzb3VyY2UgZGVhZGxvY2sgd291bGQgb2NjdXIAU3RhdGUgbm90IHJlY292ZXJhYmxlAFByZXZpb3VzIG93bmVyIGRpZWQAT3BlcmF0aW9uIGNhbmNlbGVkAEZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZABObyBtZXNzYWdlIG9mIGRlc2lyZWQgdHlwZQBJZGVudGlmaWVyIHJlbW92ZWQARGV2aWNlIG5vdCBhIHN0cmVhbQBObyBkYXRhIGF2YWlsYWJsZQBEZXZpY2UgdGltZW91dABPdXQgb2Ygc3RyZWFtcyByZXNvdXJjZXMATGluayBoYXMgYmVlbiBzZXZlcmVkAFByb3RvY29sIGVycm9yAEJhZCBtZXNzYWdlAEZpbGUgZGVzY3JpcHRvciBpbiBiYWQgc3RhdGUATm90IGEgc29ja2V0AERlc3RpbmF0aW9uIGFkZHJlc3MgcmVxdWlyZWQATWVzc2FnZSB0b28gbGFyZ2UAUHJvdG9jb2wgd3JvbmcgdHlwZSBmb3Igc29ja2V0AFByb3RvY29sIG5vdCBhdmFpbGFibGUAUHJvdG9jb2wgbm90IHN1cHBvcnRlZABTb2NrZXQgdHlwZSBub3Qgc3VwcG9ydGVkAE5vdCBzdXBwb3J0ZWQAUHJvdG9jb2wgZmFtaWx5IG5vdCBzdXBwb3J0ZWQAQWRkcmVzcyBmYW1pbHkgbm90IHN1cHBvcnRlZCBieSBwcm90b2NvbABBZGRyZXNzIG5vdCBhdmFpbGFibGUATmV0d29yayBpcyBkb3duAE5ldHdvcmsgdW5yZWFjaGFibGUAQ29ubmVjdGlvbiByZXNldCBieSBuZXR3b3JrAENvbm5lY3Rpb24gYWJvcnRlZABObyBidWZmZXIgc3BhY2UgYXZhaWxhYmxlAFNvY2tldCBpcyBjb25uZWN0ZWQAU29ja2V0IG5vdCBjb25uZWN0ZWQAQ2Fubm90IHNlbmQgYWZ0ZXIgc29ja2V0IHNodXRkb3duAE9wZXJhdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzAE9wZXJhdGlvbiBpbiBwcm9ncmVzcwBTdGFsZSBmaWxlIGhhbmRsZQBSZW1vdGUgSS9PIGVycm9yAFF1b3RhIGV4Y2VlZGVkAE5vIG1lZGl1bSBmb3VuZABXcm9uZyBtZWRpdW0gdHlwZQBObyBlcnJvciBpbmZvcm1hdGlvbgAAAAAAAGQJAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAACgRAAAABAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAK/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASBcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAExpdmUyRCBDdWJpc20gU0RLIENvcmUgVmVyc2lvbiAlZC4lZC4lZABNT0MzAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBDb3JydXB0ZWQgIG1vYzMgZmlsZS4KAFtDU01dIFtFXWNzbVJldml2ZU1vY0luUGxhY2UgaXMgZmFpbGVkLiBUaGUgQ29yZSB1bnN1cHBvcnQgbGF0ZXIgdGhhbiBtb2MzIHZlcjpbJWRdLiBUaGlzIG1vYzMgdmVyIGlzIFslZF0uCgBbQ1NNXSBbRV0lczogJXMKAGNzbVJldml2ZU1vY0luUGxhY2UAImFkZHJlc3MiIGlzIG51bGwuACJhZGRyZXNzIiBhbGlnbm1lbnQgaXMgaW52YWxpZC4AInNpemUiIGlzIGludmFsaWQuAGNzbVJlYWRDYW52YXNJbmZvACJtb2RlbCIgaXMgaW52YWxpZC4AIm91dFNpemVJblBpeGVscyIgaXMgbnVsbC4AIm91dE9yaWdpbkluUGl4ZWxzIiBpcyBudWxsLgAib3V0UGl4ZWxzUGVyVW5pdCIgaXMgbnVsbC4AY3NtR2V0U2l6ZW9mTW9kZWwAIm1vYyIgaXMgaW52YWxpZC4AY3NtSW5pdGlhbGl6ZU1vZGVsSW5QbGFjZQAic2l6ZSIgaXMgaW52YWxpZABjc21VcGRhdGVNb2RlbABjc21HZXRQYXJhbWV0ZXJDb3VudABjc21HZXRQYXJhbWV0ZXJJZHMAY3NtR2V0UGFyYW1ldGVyTWluaW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJNYXhpbXVtVmFsdWVzAGNzbUdldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMAY3NtR2V0UGFyYW1ldGVyVmFsdWVzAGNzbUdldFBhcnRDb3VudABjc21HZXRQYXJ0SWRzAGNzbUdldFBhcnRPcGFjaXRpZXMAY3NtR2V0UGFydFBhcmVudFBhcnRJbmRpY2VzAGNzbUdldERyYXdhYmxlQ291bnQAY3NtR2V0RHJhd2FibGVJZHMAY3NtR2V0RHJhd2FibGVDb25zdGFudEZsYWdzAGNzbUdldERyYXdhYmxlRHluYW1pY0ZsYWdzAGNzbUdldERyYXdhYmxlVGV4dHVyZUluZGljZXMAY3NtR2V0RHJhd2FibGVEcmF3T3JkZXJzAGNzbUdldERyYXdhYmxlUmVuZGVyT3JkZXJzAGNzbUdldERyYXdhYmxlT3BhY2l0aWVzAGNzbUdldERyYXdhYmxlTWFza0NvdW50cwBjc21HZXREcmF3YWJsZU1hc2tzAGNzbUdldERyYXdhYmxlVmVydGV4Q291bnRzAGNzbUdldERyYXdhYmxlVmVydGV4UG9zaXRpb25zAGNzbUdldERyYXdhYmxlVmVydGV4VXZzAGNzbUdldERyYXdhYmxlSW5kZXhDb3VudHMAY3NtR2V0RHJhd2FibGVJbmRpY2VzAGNzbVJlc2V0RHJhd2FibGVEeW5hbWljRmxhZ3MAW0NTTV0gW0VdV2FycERlZm9ybWVyOjpUcmFuc2Zvcm1UYXJnZXQoKSBlcnJvci4gWyVkXSBwMDE9KCUuNGYgLCAlLjRmKQoAW0NTTV0gW1ddUm90YXRpb25EZWZvcm1lcjogTm90IGZvdW5kIHRyYW5zZm9ybWVkIERpcmVjdGlvbi4KAFtDU01dIFtFXVVwZGF0ZURlZm9ybWVySGllcmFyY2h5KCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KACVzCgAtKyAgIDBYMHgAKG51bGwpAC0wWCswWCAwWC0weCsweCAweABpbmYASU5GAG5hbgBOQU4ALg==";var Ie=T;T+=16;var ke={buffers:[null,[],[]],printChar:function(e,t){var r=ke.buffers[e];I(r),0===t||10===t?((1===e?d:h)(C(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return ke.varargs+=4,U[ke.varargs-4>>2]},getStr:function(){return P(ke.get())},get64:function(){var e=ke.get(),t=ke.get();return I(e>=0?0===t:-1===t),e},getZero:function(){I(0===ke.get())}};function Me(e,t){ke.varargs=t;try{var r=ke.getStreamFromFD(),i=(ke.get(),ke.get()),a=ke.get(),n=ke.get(),s=i;return FS.llseek(r,s,n),U[a>>2]=r.position,r.getdents&&0===s&&0===n&&(r.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||je(e),-e.errno}}function De(){var e=i._fflush;e&&e(0);var t=ke.buffers;t[1].length&&ke.printChar(1,10),t[2].length&&ke.printChar(2,10)}function Be(e,t){ke.varargs=t;try{for(var r=ke.get(),i=ke.get(),a=ke.get(),n=0,s=0;s<a;s++){for(var o=U[i+8*s>>2],l=U[i+(8*s+4)>>2],u=0;u<l;u++)ke.printChar(r,S[o+u]);n+=l}return n}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||je(e),-e.errno}}function Pe(e,t){ke.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||je(e),-e.errno}}function Re(e,t){ke.varargs=t;try{var r=ke.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||je(e),-e.errno}}function Ce(e,t,r){return S.set(S.subarray(t,t+r),e),e}function Ge(e){return i.___errno_location&&(U[i.___errno_location()>>2]=e),e}Y=b(4),W=Z=p(T),X=p(O=W+$),U[Y>>2]=X;var Ee=!1;function Ve(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i>255&&(Ee&&I(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+r+" not in 0x00-0xFF."),i&=255),t.push(String.fromCharCode(i))}return t.join("")}var xe="function"==typeof atob?atob:function(e){var t,r,i,a,n,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(n=o.indexOf(e.charAt(u++)))>>2,i=(3&n)<<6|(s=o.indexOf(e.charAt(u++))),l+=String.fromCharCode(t),64!==n&&(l+=String.fromCharCode(r)),64!==s&&(l+=String.fromCharCode(i))}while(u<e.length);return l};function Fe(e){if("boolean"==typeof o&&o){var t;try{t=Buffer.from(e,"base64")}catch(r){t=new Buffer(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var r=xe(e),i=new Uint8Array(r.length),a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function Se(e){if(_e(e))return Fe(e.slice(we.length))}i.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:z},i.asmLibraryArg={a:je,b:I,c:q,d:te,e:v,f:g,g:K,h:Ge,i:Me,j:Be,k:Pe,l:Re,m:Ce,n:De,o:Y,p:Ie,q:Z,r:O};var Ue=function(e,t,r){var i=e.Int8Array,a=new i(r),n=e.Int16Array,s=new n(r),o=e.Int32Array,l=new o(r),u=e.Uint8Array,f=new u(r),c=e.Uint16Array,A=new c(r),d=e.Uint32Array,h=(new d(r),e.Float32Array),m=new h(r),b=e.Float64Array,p=new b(r),y=e.byteLength,v=0|t.o,g=0|t.p,w=0|t.q,_=(t.r,0),I=(e.NaN,e.Infinity,e.Math.floor),k=(e.Math.abs,e.Math.sqrt,e.Math.pow),M=e.Math.cos,D=e.Math.sin,B=(e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2),P=(e.Math.exp,e.Math.log,e.Math.ceil,e.Math.imul),R=(e.Math.min,e.Math.max,e.Math.clz32),C=t.a,G=(t.b,t.c),E=t.d,V=t.e,x=t.f,F=t.g,S=t.h,U=t.i,T=t.j,W=t.k,Z=t.l,O=t.m;function X(e,t,r){t|=0,r|=0;var i,a,n,s=0;n=w,w=w+272|0,i=n+16|0,a=n,0<=(e|=0)>>>0&&0|(s=0)&&(l[a>>2]=r,ue(i,256,t,a),Je[0&s](i)),w=n}function Y(e,t,r){e|=0,r|=0;var i,a=0,n=0,s=0,o=0,u=0,f=0,c=0,A=0,d=0,h=0;if(l[(t|=0)>>2]=384,i=0|l[e>>2],(0|(u=0|l[i>>2]))>0){s=0|l[e+296>>2],o=0|l[e+16>>2],a=0,n=0;do{a=(1<<l[s+(l[o+(n<<2)>>2]<<2)>>2])+a|0,n=n+1|0}while((0|n)!=(0|u));a<<=2}else a=0;if(l[t+4>>2]=u<<3,l[t+8>>2]=l[i>>2]<<2,l[t+12>>2]=l[i>>2]<<2,l[t+16>>2]=l[i>>2]<<2,l[t+20>>2]=l[i>>2]<<2,l[t+24>>2]=l[i>>2]<<2,l[t+28>>2]=l[i>>2]<<2,l[t+32>>2]=a,l[t+36>>2]=a,l[t+40>>2]=a,(0|(o=0|l[(d=i+8|0)>>2]))>0){u=0|l[e+88>>2],f=0|l[e+296>>2],c=0|l[e+76>>2],n=0,s=0,A=0,a=0;do{s=(0|s)<(0|(h=0|l[u+(n<<2)>>2]))?h:s,a=(15+(h<<3)&-16)+a|0,A=(1<<l[f+(l[c+(n<<2)>>2]<<2)>>2])+A|0,n=n+1|0}while((0|n)!=(0|o));s<<=3,n=A<<2}else s=0,n=0,a=0;if(u=i+4|0,l[t+44>>2]=l[u>>2]<<5,l[t+48>>2]=24*(0|l[d>>2]),f=i+12|0,l[t+52>>2]=l[f>>2]<<5,l[t+56>>2]=l[u>>2]<<2,l[t+60>>2]=l[d>>2]<<2,l[t+64>>2]=l[f>>2]<<2,l[t+68>>2]=l[u>>2]<<2,l[t+72>>2]=l[u>>2]<<2,l[t+76>>2]=a,l[t+80>>2]=l[d>>2]<<2,l[t+84>>2]=l[d>>2]<<2,l[t+88>>2]=n,l[t+92>>2]=n,l[t+96>>2]=n,l[t+100>>2]=n,l[t+104>>2]=s,(0|(u=0|l[f>>2]))>0){s=0|l[e+296>>2],o=0|l[e+100>>2],a=0,n=0;do{n=(1<<l[s+(l[o+(a<<2)>>2]<<2)>>2])+n|0,a=a+1|0}while((0|a)!=(0|u));a=n<<2}else a=0;if(l[t+108>>2]=u<<2,l[t+112>>2]=l[f>>2]<<2,l[t+116>>2]=a,l[t+120>>2]=a,l[t+124>>2]=a,l[t+128>>2]=a,l[t+132>>2]=a,l[t+136>>2]=a,l[t+140>>2]=a,l[t+144>>2]=a,l[t+148>>2]=a,l[t+152>>2]=a,l[t+156>>2]=a,(0|(d=0|l[(A=i+16|0)>>2]))>0){o=0|l[e+172>>2],u=0|l[e+296>>2],f=0|l[e+136>>2],n=0,c=0,a=0,s=0;do{n=(0|n)<(0|(h=0|l[o+(s<<2)>>2]))?h:n,a=(15+(h<<3)&-16)+a|0,c=(1<<l[u+(l[f+(s<<2)>>2]<<2)>>2])+c|0,s=s+1|0}while((0|s)!=(0|d));s=n<<3,n=c<<2}else s=0,n=0,a=0;if(l[t+160>>2]=d<<4,l[t+164>>2]=l[A>>2]<<2,l[t+168>>2]=l[A>>2],l[t+172>>2]=l[A>>2]<<2,l[t+176>>2]=l[A>>2]<<2,l[t+180>>2]=l[A>>2]<<2,l[t+184>>2]=a,l[t+188>>2]=l[A>>2]<<2,l[t+192>>2]=l[A>>2]<<2,l[t+196>>2]=l[A>>2]<<2,l[t+200>>2]=l[A>>2]<<2,l[t+204>>2]=l[A>>2]<<2,l[t+208>>2]=l[A>>2]<<2,l[t+212>>2]=n,l[t+216>>2]=n,l[t+220>>2]=n,l[t+224>>2]=n,l[t+228>>2]=n,l[t+232>>2]=n,l[t+236>>2]=s,o=i+20|0,l[t+240>>2]=40*(0|l[o>>2]),l[t+244>>2]=l[o>>2]<<2,l[t+248>>2]=28*(0|l[i+52>>2]),(0|(o=0|l[i+48>>2]))>0){s=0|l[e+296>>2],a=0,n=0;do{a=(1<<l[s+(n<<2)>>2])+a|0,n=n+1|0}while((0|n)!=(0|o));a<<=2}else a=0;if(l[t+252>>2]=36*o,l[t+256>>2]=a,l[t+260>>2]=a,s=i+72|0,l[t+264>>2]=28*(0|l[s>>2]),(0|(s=0|l[s>>2]))>0){o=0|l[e+328>>2],u=0|l[e+336>>2],f=0|l[e+340>>2],a=0,c=0,n=0;do{a=(0|a)<(0|(h=0|l[o+(n<<2)>>2]))?h:a,c=(0|c)>(0|(h=(0|l[u+(n<<2)>>2])-(0|l[f+(n<<2)>>2])|0))?c:h+1|0,n=n+1|0}while((0|n)!=(0|s));n=a<<2,a=c<<2}else n=0,a=0;if(l[t+268>>2]=l[i+76>>2]<<4,l[t+272>>2]=a,l[t+276>>2]=n,l[t+280>>2]=a,(0|(f=0|l[(u=i+80|0)>>2]))>0){o=0|l[e+296>>2],s=0|l[e+364>>2],a=0,n=0;do{a=(1<<l[o+(l[s+(n<<2)>>2]<<2)>>2])+a|0,n=n+1|0}while((0|n)!=(0|f));a<<=2}else a=0;l[t+284>>2]=24*f,l[t+288>>2]=l[u>>2]<<2,l[t+292>>2]=l[u>>2]<<2,l[t+296>>2]=a,l[t+300>>2]=a,l[t+304>>2]=a,l[t>>2]=0,a=1,n=384;do{h=15+(0|l[t+(a<<2)>>2])&-16,l[t+(a<<2)>>2]=n,n=h+n|0,a=a+1|0}while(77!=(0|a));l[r>>2]=n}function z(e,t,r){t|=0,r|=0;var i,n,s,o,u,c,A,d,h,b,p,y=0,v=0,g=0,_=0,I=0,M=0,D=0,B=0,P=0,R=0,C=0,G=0,E=0,V=0,x=0,F=0,S=0,U=0,T=0,W=0,Z=0,O=0;if(p=w,w=w+320|0,S=p,y=p+4|0,B=704+(e|=0)|0,Ze(0|(C=p+8|0),0,308),Y(B,C,y),(y=0|l[y>>2])>>>0>r>>>0)return w=p,0|(e=0);if(Ze(0|t,0,0|y),b=t+(0|l[C>>2])|0,l[(E=b+8|0)>>2]=t+(0|l[C+4>>2]),l[b+36>>2]=t+(0|l[C+8>>2]),l[b+44>>2]=t+(0|l[C+12>>2]),l[b+48>>2]=t+(0|l[C+16>>2]),l[(V=b+52|0)>>2]=t+(0|l[C+20>>2]),l[(x=b+12|0)>>2]=t+(0|l[C+24>>2]),l[b+16>>2]=t+(0|l[C+28>>2]),l[b+20>>2]=t+(0|l[C+32>>2]),l[b+28>>2]=t+(0|l[C+36>>2]),l[b+32>>2]=t+(0|l[C+40>>2]),g=0|l[B>>2],l[(F=b+60|0)>>2]=t+(0|l[C+44>>2]),v=t+(0|l[C+48>>2])|0,l[(i=b+68|0)>>2]=v,l[(s=b+76|0)>>2]=t+(0|l[C+52>>2]),l[b+168>>2]=t+(0|l[C+56>>2]),l[b+172>>2]=t+(0|l[C+60>>2]),l[b+176>>2]=t+(0|l[C+64>>2]),l[b+192>>2]=t+(0|l[C+68>>2]),l[b+196>>2]=t+(0|l[C+72>>2]),(0|(g=0|l[g+8>>2]))>0)for(_=0|l[e+792>>2],r=t+(0|l[C+76>>2])|0,y=0;l[v+(24*y|0)+20>>2]=r,(0|(I=y+1|0))!=(0|g);)r=r+(15+(l[_+(y<<2)>>2]<<3)&-16)|0,y=I;if(l[(n=b+80|0)>>2]=t+(0|l[C+80>>2]),l[b+84>>2]=t+(0|l[C+84>>2]),l[b+88>>2]=t+(0|l[C+88>>2]),l[b+96>>2]=t+(0|l[C+92>>2]),l[b+100>>2]=t+(0|l[C+96>>2]),l[b+104>>2]=t+(0|l[C+100>>2]),l[b+108>>2]=t+(0|l[C+104>>2]),l[(o=b+112|0)>>2]=t+(0|l[C+108>>2]),l[b+116>>2]=t+(0|l[C+112>>2]),l[b+120>>2]=t+(0|l[C+116>>2]),l[b+128>>2]=t+(0|l[C+120>>2]),l[b+132>>2]=t+(0|l[C+124>>2]),l[b+136>>2]=t+(0|l[C+128>>2]),l[b+140>>2]=t+(0|l[C+132>>2]),l[b+144>>2]=t+(0|l[C+136>>2]),l[b+148>>2]=t+(0|l[C+140>>2]),l[b+152>>2]=t+(0|l[C+144>>2]),l[b+156>>2]=t+(0|l[C+148>>2]),l[b+160>>2]=t+(0|l[C+152>>2]),l[b+164>>2]=t+(0|l[C+156>>2]),_=0|l[B>>2],l[(A=b+204|0)>>2]=t+(0|l[C+160>>2]),l[b+248>>2]=t+(0|l[C+164>>2]),l[b+260>>2]=t+(0|l[C+168>>2]),l[b+264>>2]=t+(0|l[C+172>>2]),l[b+268>>2]=t+(0|l[C+176>>2]),r=t+(0|l[C+180>>2])|0,l[(g=b+272|0)>>2]=r,(0|(_=0|l[_+16>>2]))>0&&(M=t+(0|l[C+184>>2])|0,D=e+876|0,l[r>>2]=M,1!=(0|_)))for(y=M,r=0,v=1;y=y+(15+(l[(0|l[D>>2])+(r<<2)>>2]<<3)&-16)|0,l[(0|l[g>>2])+(v<<2)>>2]=y,!((0|(r=v+1|0))>=(0|_));)U=v,v=r,r=U;if(l[b+276>>2]=t+(0|l[C+188>>2]),l[b+280>>2]=t+(0|l[C+192>>2]),l[b+284>>2]=t+(0|l[C+196>>2]),l[b+288>>2]=t+(0|l[C+200>>2]),l[(c=b+208|0)>>2]=t+(0|l[C+204>>2]),l[b+212>>2]=t+(0|l[C+208>>2]),l[b+216>>2]=t+(0|l[C+212>>2]),l[b+224>>2]=t+(0|l[C+216>>2]),l[b+228>>2]=t+(0|l[C+220>>2]),l[b+232>>2]=t+(0|l[C+224>>2]),l[b+236>>2]=t+(0|l[C+228>>2]),l[b+240>>2]=t+(0|l[C+232>>2]),l[b+244>>2]=t+(0|l[C+236>>2]),R=0|l[C+244>>2],l[(D=b+296|0)>>2]=t+(0|l[C+240>>2]),l[(P=b+300|0)>>2]=t+R,l[(R=b+308|0)>>2]=t+(0|l[C+248>>2]),r=0|l[C+256>>2],y=0|l[C+260>>2],I=0|l[B>>2],_=t+(0|l[C+252>>2])|0,l[(U=b+316|0)>>2]=_,(0|(I=0|l[I+48>>2]))>0)for(M=0|l[e+1e3>>2],g=0,v=t+r|0,r=t+y|0;l[_+(36*g|0)+16>>2]=v,l[_+(36*g|0)+20>>2]=r,y=1<<l[M+(g<<2)>>2],(0|(g=g+1|0))!=(0|I);)v=v+(y<<2)|0,r=r+(y<<2)|0;if(g=0|l[B>>2],v=t+(0|l[C+264>>2])|0,l[(u=b+324|0)>>2]=v,(0|(g=0|l[g+72>>2]))>0)for(_=0|l[e+1032>>2],r=t+(0|l[C+268>>2])|0,y=0;l[v+(28*y|0)+12>>2]=r,(0|(I=y+1|0))!=(0|g);)r=r+(l[_+(y<<2)>>2]<<4)|0,y=I;if(l[b+328>>2]=t+(0|l[C+272>>2]),l[b+332>>2]=t+(0|l[C+276>>2]),l[b+336>>2]=t+(0|l[C+280>>2]),l[(d=b+344|0)>>2]=t+(0|l[C+284>>2]),l[(h=b+348|0)>>2]=t+(0|l[C+288>>2]),l[b+352>>2]=t+(0|l[C+292>>2]),l[b+356>>2]=t+(0|l[C+296>>2]),l[b+364>>2]=t+(0|l[C+300>>2]),l[b+368>>2]=t+(0|l[C+304>>2]),l[b+376>>2]=1,l[b+380>>2]=1&a[20+(0|l[e+708>>2])>>0],C=0|l[(G=e+704|0)>>2],r=0|l[C+20>>2],l[b+292>>2]=r,(0|r)>0){v=0|l[D>>2],g=0|l[e+912>>2],_=0|l[e+908>>2],I=0|l[e+920>>2],t=0|l[e+916>>2],M=0|l[e+924>>2],D=0|l[e+928>>2],B=0|l[e+932>>2],y=r;do{T=y,Z=g+((y=y+-1|0)<<2)|0,l[v+(40*y|0)>>2]=l[Z>>2],O=_+(y<<2)|0,l[v+(40*y|0)+4>>2]=l[O>>2],m[v+(40*y|0)+8>>2]=+m[O>>2]-+m[Z>>2],l[v+(40*y|0)+12>>2]=l[I+(y<<2)>>2],l[v+(40*y|0)+32>>2]=l[t+(y<<2)>>2],W=+k(.10000000149011612,+ +(0|l[M+(y<<2)>>2])),m[v+(40*y|0)+16>>2]=W,m[v+(40*y|0)+20>>2]=1.5*W,l[v+(40*y|0)+24>>2]=l[D+(y<<2)>>2],l[v+(40*y|0)+28>>2]=l[B+(y<<2)>>2],l[v+(40*y|0)+36>>2]=1}while((0|T)>1);y=0|l[P>>2];do{O=r,l[y+((r=r+-1|0)<<2)>>2]=l[t+(r<<2)>>2]}while((0|O)>1)}if(r=0|l[C+52>>2],l[b+304>>2]=r,(0|r)>0){y=0|l[R>>2],v=0|l[e+1008>>2],g=0|l[e+1012>>2],_=0|l[e+1004>>2];do{O=r,l[y+(28*(r=r+-1|0)|0)>>2]=l[v+(r<<2)>>2],l[y+(28*r|0)+4>>2]=g+(l[_+(r<<2)>>2]<<2),m[y+(28*r|0)+12>>2]=0,l[y+(28*r|0)+20>>2]=1,l[y+(28*r|0)+24>>2]=1}while((0|O)>1)}if(r=0|l[C+48>>2],l[b+312>>2]=r,(0|r)>0){y=0|l[U>>2],v=0|l[e+1e3>>2],g=0|l[e+992>>2],_=0|l[e+996>>2];do{O=r,Z=0|l[v+((r=r+-1|0)<<2)>>2],l[y+(36*r|0)>>2]=Z,l[y+(36*r|0)+4>>2]=1<<Z,l[y+(36*r|0)+12>>2]=g+(l[_+(r<<2)>>2]<<2),l[y+(36*r|0)+24>>2]=1,l[y+(36*r|0)+28>>2]=1}while((0|O)>1)}if(y=0|l[C>>2],l[b+4>>2]=y,D=0|l[e+720>>2],l[b+40>>2]=D,(0|y)>0){g=0|l[E>>2],_=0|l[e+740>>2],I=0|l[e+736>>2],M=0|l[e+732>>2],v=0|l[V>>2],r=y;do{O=r,l[g+((r=r+-1|0)<<3)>>2]=l[_+(r<<2)>>2],l[g+(r<<3)+4>>2]=l[I+(r<<2)>>2],m[v+(r<<2)>>2]=0|l[M+(r<<2)>>2]?1:0}while((0|O)>1);g=0|l[U>>2],v=0|l[x>>2],r=0;do{O=y,Z=0|l[g+(36*(0|l[D+((y=y+-1|0)<<2)>>2])|0)+4>>2],l[v+(y<<2)>>2]=Z,r=Z+r|0}while((0|O)>1)}else r=0;if(l[b+24>>2]=r,r=0|l[C+4>>2],l[b+56>>2]=r,l[b+180>>2]=l[e+752>>2],l[(t=b+184|0)>>2]=l[e+780>>2],l[(P=b+188|0)>>2]=l[e+804>>2],(0|r)>0){_=e+764|0,I=e+768|0,M=e+772|0,D=e+776|0,B=e+760|0;do{switch(y=r,r=r+-1|0,v=0|l[F>>2],l[v+(r<<5)>>2]=l[(0|l[_>>2])+(r<<2)>>2],l[v+(r<<5)+4>>2]=l[(0|l[I>>2])+(r<<2)>>2],O=0|l[(0|l[M>>2])+(r<<2)>>2],l[v+(r<<5)+8>>2]=O,g=0|l[(0|l[D>>2])+(r<<2)>>2],l[v+(r<<5)+12>>2]=g,l[v+(r<<5)+28>>2]=l[(0|l[B>>2])+(r<<2)>>2],0|O){case 0:l[v+(r<<5)+16>>2]=1,l[v+(r<<5)+20>>2]=1,l[v+(r<<5)+24>>2]=(0|l[i>>2])+(24*g|0);break;case 1:l[v+(r<<5)+16>>2]=2,l[v+(r<<5)+20>>2]=2,l[v+(r<<5)+24>>2]=(0|l[s>>2])+(g<<5);break;default:X(4,2896,S)}}while((0|y)>1);S=0|l[G>>2]}else S=C;if(D=0|l[S+8>>2],l[b+64>>2]=D,r=D+-1|0,M=(0|D)>0)if(v=0|l[i>>2],g=0|l[e+796>>2],_=0|l[e+800>>2],I=0|l[e+792>>2],(0|f[e+4>>0])>1)for(y=0|l[e+1108>>2];l[v+(24*r|0)>>2]=l[g+(r<<2)>>2],l[v+(24*r|0)+4>>2]=l[_+(r<<2)>>2],l[v+(24*r|0)+12>>2]=l[I+(r<<2)>>2],l[v+(24*r|0)+8>>2]=l[y+(r<<2)>>2],(0|r)>0;)r=r+-1|0;else for(;l[v+(24*r|0)>>2]=l[g+(r<<2)>>2],l[v+(24*r|0)+4>>2]=l[_+(r<<2)>>2],l[v+(24*r|0)+12>>2]=l[I+(r<<2)>>2],l[v+(24*r|0)+8>>2]=0,(0|r)>0;)r=r+-1|0;if(y=0|l[S+12>>2],l[(I=b+72|0)>>2]=y,(0|y)>0){v=0|l[s>>2],g=0|l[e+816>>2],r=y;do{O=r,l[v+((r=r+-1|0)<<5)>>2]=l[g+(r<<2)>>2]}while((0|O)>1)}if(M){_=0|l[U>>2],g=0|l[t>>2],v=0|l[n>>2],r=0,y=D;do{O=y,Z=0|l[_+(36*(0|l[g+((y=y+-1|0)<<2)>>2])|0)+4>>2],l[v+(y<<2)>>2]=Z,r=Z+r|0}while((0|O)>1);y=0|l[I>>2]}else r=0;if(l[b+92>>2]=r,(0|y)>0){_=0|l[U>>2],g=0|l[P>>2],v=0|l[o>>2],r=0;do{O=y,Z=0|l[_+(36*(0|l[g+((y=y+-1|0)<<2)>>2])|0)+4>>2],l[v+(y<<2)>>2]=Z,r=Z+r|0}while((0|O)>1)}else r=0;if(l[b+124>>2]=r,y=0|l[S+16>>2],l[b+200>>2]=y,D=0|l[e+840>>2],l[b+252>>2]=D,(0|y)>0){v=0|l[A>>2],g=0|l[e+860>>2],_=0|l[e+864>>2],I=0|l[e+876>>2],M=0|l[e+856>>2],r=y;do{O=r,l[v+((r=r+-1|0)<<4)>>2]=l[g+(r<<2)>>2],l[v+(r<<4)+4>>2]=l[_+(r<<2)>>2],l[v+(r<<4)+12>>2]=l[I+(r<<2)>>2],l[v+(r<<4)+8>>2]=l[M+(r<<2)>>2]}while((0|O)>1);g=0|l[U>>2],v=0|l[c>>2],r=0;do{O=y,Z=0|l[g+(36*(0|l[D+((y=y+-1|0)<<2)>>2])|0)+4>>2],l[v+(y<<2)>>2]=Z,r=Z+r|0}while((0|O)>1)}else r=0;if(l[b+220>>2]=r,F=0|l[S+72>>2],l[b+320>>2]=F,(0|F)>0){v=0|l[u>>2],g=0|l[e+1032>>2],_=0|l[e+1036>>2],I=0|l[e+1040>>2],M=0|l[e+1044>>2],D=0|l[e+1028>>2],B=e+1052|0,t=e+1048|0,P=e+1056|0,r=0;do{if(R=0|l[g+(r<<2)>>2],l[v+(28*r|0)+4>>2]=R,l[v+(28*r|0)>>2]=l[_+(r<<2)>>2],O=0|l[I+(r<<2)>>2],l[v+(28*r|0)+16>>2]=O,C=0|l[M+(r<<2)>>2],l[v+(28*r|0)+20>>2]=C,l[v+(28*r|0)+24>>2]=O+1-C,l[v+(28*r|0)+8>>2]=0,C=0|l[D+(r<<2)>>2],(0|R)>0){G=0|l[v+(28*r|0)+12>>2],E=0|l[B>>2],V=0|l[t>>2],x=0|l[P>>2],y=0;do{O=y+C|0,l[G+(y<<4)+4>>2]=l[E+(O<<2)>>2],l[G+(y<<4)>>2]=l[V+(O<<2)>>2],l[G+(y<<4)+8>>2]=l[x+(O<<2)>>2],l[G+(y<<4)+12>>2]=0,y=y+1|0}while((0|y)!=(0|R))}r=r+1|0}while((0|r)!=(0|F))}if(r=0|l[S+80>>2],l[(B=b+340|0)>>2]=r,t=0|l[e+1068>>2],l[b+372>>2]=t,(0|r)>0){y=0|l[d>>2],v=0|l[e+1080>>2],g=0|l[e+1084>>2],_=0|l[e+1092>>2],I=0|l[e+1096>>2],M=0|l[e+1088>>2],D=0|l[e+1100>>2];do{O=r,l[y+(24*(r=r+-1|0)|0)>>2]=l[v+(r<<2)>>2],l[y+(24*r|0)+4>>2]=l[g+(r<<2)>>2],l[y+(24*r|0)+8>>2]=l[_+(r<<2)>>2],Z=0|l[M+(r<<2)>>2],l[y+(24*r|0)+12>>2]=I+(Z<<2),l[y+(24*r|0)+16>>2]=D+(Z<<1)}while((0|O)>1);if((0|(y=0|l[B>>2]))>0){g=0|l[U>>2],v=0|l[h>>2],r=0;do{O=y,Z=0|l[g+(36*(0|l[t+((y=y+-1|0)<<2)>>2])|0)+4>>2],l[v+(y<<2)>>2]=Z,r=Z+r|0}while((0|O)>1)}else r=0}else r=0;return l[b+360>>2]=r,l[b>>2]=e,K(b),w=p,0|(O=b)}function N(e,t){e|=0,t|=0;var r,i=0,n=0,o=0,u=0,f=0,c=0,A=0,d=0,h=0,b=0,p=0,y=0,v=0;if(r=w,w=w+32|0,i=r+24|0,l[(n=r)>>2]=3,l[n+4>>2]=3,l[n+8>>2]=0,function(e,t){e|=0,t|=0;var r=0,i=0,a=0;r=w,w=w+272|0,i=r+16|0,l[(a=r)>>2]=t,ue(i,256,e,a),function(e){e|=0;var t=0,r=0,i=0;t=w,w=w+16|0,r=t,i=0|l[600],l[r>>2]=e,function(e,t,r){e|=0,t|=0,r|=0;var i=0,a=0;i=w,w=w+16|0,l[(a=i)>>2]=r,r=0|fe(e,t,a),w=i}(i,4314,r),w=t}(i),w=r}(2952,n),n=1,0|oe(e,2992,4))return X(4,2997,r+16|0),w=r,0|(v=0);if((255&(t=0|a[(f=e+4|0)>>0]))>2)return l[i>>2]=2,l[i+4>>2]=255&t,X(4,3060,i),w=r,0|(v=0);for((u=(0==(0|a[(t=e+5|0)>>0])|0)!=(0|n))?(v=e+64|0,L(f,1),j(v,4,160),a[t>>0]=0==(0|n)&1,t=v):t=e+64|0,n=o=e+704|0,i=102;i=i+-1|0,l[n>>2]=e+(0|l[t>>2]),i;)n=n+4|0,t=t+4|0;if(u&&(v=0|a[f>>0],j(0|l[o>>2],4,32),L(0|l[(y=e+708|0)>>2],4),L(4+(0|l[y>>2])|0,4),L(8+(0|l[y>>2])|0,4),L(12+(0|l[y>>2])|0,4),L(16+(0|l[y>>2])|0,4),L(20+(0|l[y>>2])|0,1),j(0|l[e+720>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+724>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+728>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+732>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+736>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+740>>2],4,0|l[l[o>>2]>>2]),j(0|l[e+752>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+756>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+760>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+764>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+768>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+772>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+776>>2],4,0|l[4+(0|l[o>>2])>>2]),j(0|l[e+780>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+784>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+788>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+792>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+796>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+800>>2],4,0|l[8+(0|l[o>>2])>>2]),j(0|l[e+804>>2],4,0|l[12+(0|l[o>>2])>>2]),j(0|l[e+808>>2],4,0|l[12+(0|l[o>>2])>>2]),j(0|l[e+812>>2],4,0|l[12+(0|l[o>>2])>>2]),j(0|l[e+816>>2],4,0|l[12+(0|l[o>>2])>>2]),j(0|l[e+840>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+844>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+848>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+852>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+856>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+860>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+864>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+868>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+872>>2],1,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+876>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+880>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+884>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+888>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+892>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+896>>2],4,0|l[16+(0|l[o>>2])>>2]),j(0|l[e+908>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+912>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+916>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+920>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+924>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+928>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+932>>2],4,0|l[20+(0|l[o>>2])>>2]),j(0|l[e+936>>2],4,0|l[24+(0|l[o>>2])>>2]),j(0|l[e+940>>2],4,0|l[28+(0|l[o>>2])>>2]),j(0|l[e+944>>2],4,0|l[28+(0|l[o>>2])>>2]),j(0|l[e+948>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+952>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+956>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+960>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+964>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+968>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+972>>2],4,0|l[32+(0|l[o>>2])>>2]),j(0|l[e+976>>2],4,0|l[36+(0|l[o>>2])>>2]),j(0|l[e+980>>2],4,0|l[36+(0|l[o>>2])>>2]),j(0|l[e+984>>2],4,0|l[36+(0|l[o>>2])>>2]),j(0|l[e+988>>2],4,0|l[40+(0|l[o>>2])>>2]),j(0|l[e+992>>2],4,0|l[44+(0|l[o>>2])>>2]),j(0|l[e+996>>2],4,0|l[48+(0|l[o>>2])>>2]),j(0|l[e+1e3>>2],4,0|l[48+(0|l[o>>2])>>2]),j(0|l[e+1004>>2],4,0|l[52+(0|l[o>>2])>>2]),j(0|l[e+1008>>2],4,0|l[52+(0|l[o>>2])>>2]),j(0|l[e+1012>>2],4,0|l[56+(0|l[o>>2])>>2]),j(0|l[e+1016>>2],4,0|l[60+(0|l[o>>2])>>2]),j(0|l[e+1020>>2],2,0|l[64+(0|l[o>>2])>>2]),j(0|l[e+1024>>2],4,0|l[68+(0|l[o>>2])>>2]),j(0|l[e+1028>>2],4,0|l[72+(0|l[o>>2])>>2]),j(0|l[e+1032>>2],4,0|l[72+(0|l[o>>2])>>2]),j(0|l[e+1036>>2],4,0|l[72+(0|l[o>>2])>>2]),j(0|l[e+1040>>2],4,0|l[72+(0|l[o>>2])>>2]),j(0|l[e+1044>>2],4,0|l[72+(0|l[o>>2])>>2]),j(0|l[e+1048>>2],4,0|l[76+(0|l[o>>2])>>2]),j(0|l[e+1052>>2],4,0|l[76+(0|l[o>>2])>>2]),j(0|l[e+1056>>2],4,0|l[76+(0|l[o>>2])>>2]),j(0|l[e+1068>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1072>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1076>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1080>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1084>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1088>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1092>>2],4,0|l[80+(0|l[o>>2])>>2]),j(0|l[e+1096>>2],4,0|l[84+(0|l[o>>2])>>2]),j(0|l[e+1100>>2],2,0|l[84+(0|l[o>>2])>>2]),j(0|l[e+1104>>2],4,0|l[88+(0|l[o>>2])>>2]),(255&v)>1)?(j(0|l[e+1108>>2],4,0|l[8+(0|l[o>>2])>>2]),v=o):v=o,t=0|l[v>>2],(0|l[t>>2])>0){n=e+716|0,o=e+712|0,i=0;do{l[(0|l[o>>2])+(i<<2)>>2]=(0|l[n>>2])+(i<<6),i=i+1|0,t=0|l[v>>2]}while((0|i)<(0|l[t>>2]))}if((0|l[t+4>>2])>0){n=e+748|0,o=e+744|0,i=0;do{l[(0|l[o>>2])+(i<<2)>>2]=(0|l[n>>2])+(i<<6),i=i+1|0,t=0|l[v>>2]}while((0|i)<(0|l[t+4>>2]))}if((0|l[t+16>>2])>0){n=e+836|0,o=e+820|0,u=e+1016|0,f=e+880|0,c=e+824|0,A=e+1020|0,d=e+884|0,h=e+828|0,b=e+1024|0,p=e+892|0,y=e+832|0,i=0;do{l[(0|l[o>>2])+(i<<2)>>2]=(0|l[n>>2])+(i<<6),l[(0|l[c>>2])+(i<<2)>>2]=(0|l[u>>2])+(l[(0|l[f>>2])+(i<<2)>>2]<<2),l[(0|l[h>>2])+(i<<2)>>2]=(0|l[A>>2])+(l[(0|l[d>>2])+(i<<2)>>2]<<1),l[(0|l[y>>2])+(i<<2)>>2]=(0|l[b>>2])+(l[(0|l[p>>2])+(i<<2)>>2]<<2),i=i+1|0,t=0|l[v>>2]}while((0|i)<(0|l[t+16>>2]))}if((0|l[t+20>>2])>0){n=e+904|0,o=e+900|0,i=0;do{l[(0|l[o>>2])+(i<<2)>>2]=(0|l[n>>2])+(i<<6),i=i+1|0,t=0|l[v>>2]}while((0|i)<(0|l[t+20>>2]))}if((0|l[t+80>>2])>0){n=e+1064|0,o=e+1060|0,i=0;do{l[(0|l[o>>2])+(i<<2)>>2]=(0|l[n>>2])+(i<<6),i=i+1|0,t=0|l[v>>2]}while((0|i)<(0|l[t+80>>2]))}if(1&a[20+(0|l[e+708>>2])>>0])return w=r,0|(v=e);if((0|(A=0|l[t+16>>2]))<=0)return w=r,0|(v=e);n=0|l[e+1020>>2],o=0|l[e+884>>2],u=0|l[e+888>>2],i=0;do{if(f=n+(l[o+(i<<2)>>2]<<1)|0,c=(v=0|l[u+(i<<2)>>2])-1|0,(0|v)>1){t=0;do{y=0|s[(p=f+(t<<1)|0)>>1],v=f+(t+2<<1)|0,s[p>>1]=0|s[v>>1],s[v>>1]=y,t=t+3|0}while((0|t)<(0|c))}i=i+1|0}while((0|i)!=(0|A));n=0|l[e+1016>>2],o=0|l[e+880>>2],u=0|l[e+876>>2],i=0;do{if(f=(t=n+(l[o+(i<<2)>>2]<<2)|0)+((v=l[u+(i<<2)>>2]<<1)<<2)|0,(0|v)>1){t=t+4|0;do{m[t>>2]=1-+m[t>>2],t=t+8|0}while(t>>>0<f>>>0)}i=i+1|0}while((0|i)!=(0|A));return w=r,0|e}function H(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|function(e){var t,r,i;return e|=0,r=w,w=w+320|0,t=r,Ze(0|(i=r+4|0),0,308),Y(e+704|0,i,t),w=r,0|l[t>>2]}(e),w=t,0|r):(l[r>>2]=3398,l[r+4>>2]=3416,X(4,3169,r),w=t,0|(r=0))}function J(e,t,r){t|=0,r|=0;var i,a,n,s=0,o=0;return n=w,w=w+32|0,o=n+24|0,a=n+16|0,s=n+8|0,i=n,(e|=0)?t?((s=t)+15&-16|0)!=(0|s)?(l[a>>2]=3434,l[a+4>>2]=3225,X(4,3169,a),w=n,0|(o=0)):(e=0|z(e,t,r))?(w=n,0|(o=e)):(l[o>>2]=3434,l[o+4>>2]=3460,X(4,3169,o),w=n,0|(o=0)):(l[s>>2]=3434,l[s+4>>2]=3206,X(4,3169,s),w=n,0|(o=0)):(l[i>>2]=3434,l[i+4>>2]=3416,X(4,3169,i),w=n,0|(o=0))}function L(e,t){var r=0;if(!((t=(e|=0)+(t|=0)-1|0)>>>0<=e>>>0))do{r=0|a[e>>0],a[e>>0]=0|a[t>>0],e=e+1|0,a[t>>0]=r,t=t+-1|0}while(t>>>0>e>>>0)}function j(e,t,r){e|=0,t|=0;var i=0,n=0,s=0;if(r|=0)do{if(r=r+-1|0,i=e,(n=(e=e+t|0)-1|0)>>>0>i>>>0)do{s=0|a[i>>0],a[i>>0]=0|a[n>>0],i=i+1|0,a[n>>0]=s,n=n+-1|0}while(n>>>0>i>>>0)}while(0!=(0|r))}function Q(e){var t,r=0,i=0,a=0,n=0,s=0,o=0,u=0,f=0,c=0,d=0,h=0,b=0,p=0,y=0,v=0,g=0,w=0,_=0;if(t=(r=0|l[344+(e|=0)>>2])+(24*(f=0|l[e+340>>2])|0)|0,!((0|f)<=0)){f=0|l[e+272>>2];do{if(i=0|l[r+8>>2],a=0|l[f+(l[r>>2]<<2)>>2],n=0|l[f+(l[r+4>>2]<<2)>>2],s=0|l[r+12>>2],o=0|l[r+16>>2],u=+m[r+20>>2],(0|i)>0){e=0;do{c=1|e,w=+m[s+(e<<2)>>2],b=+m[s+(c<<2)>>2],g=(0|A[o+(e<<1)>>1])<<1&65534,v=+m[(_=a+(g<<2)|0)>>2],h=+m[(g=a+((1|g)<<2)|0)>>2],c=(0|A[o+(c<<1)>>1])<<1&65534,y=+m[(p=n+(c<<2)|0)>>2],d=+m[(c=n+((1|c)<<2)|0)>>2],m[_>>2]=v+u*(w*(y-v)),m[g>>2]=h+u*(w*(d-h)),m[p>>2]=y+u*(b*(v-y)),m[c>>2]=d+u*(b*(h-d)),e=e+2|0}while((0|e)<(0|i))}r=r+24|0}while(r>>>0<t>>>0)}}function K(e){var t,r,i,n,s=0,o=0,u=0,c=0,A=0,d=0,h=0,b=0,p=0,y=0,v=0,g=0,_=0,k=0,M=0,D=0,B=0,R=0,C=0,G=0,E=0,V=0,x=0,F=0,S=0,U=0,T=0,W=0,Z=0,O=0,Y=0,z=0,N=0,H=0,J=0,L=0,j=0,K=0,q=0,$=0,ee=0,te=0,re=0,ie=0,ae=0,ne=0,se=0,oe=0,le=0,ue=0,fe=0,ce=0,Ae=0,de=0,he=0,me=0,be=0,pe=0,ye=0,ve=0,ge=0;if(n=w,w=w+16|0,O=n,0|l[(ve=256+(e|=0)|0)>>2]&&(be=l[e+200>>2]<<2,We(0|l[e+280>>2],0|l[e+264>>2],0|be),We(0|l[e+284>>2],0|l[e+268>>2],0|be),We(0|l[e+288>>2],0|l[e+276>>2],0|be)),A=0|l[e+292>>2],M=(h=0|l[e+296>>2])+(40*A|0)|0,A=(0|A)>0){for(u=0|l[e+300>>2],c=h;g=+m[u>>2],(d=0==(0|l[c+12>>2]))?($=+m[c>>2],ee=+m[c+4>>2],g=g<$?$:g>ee?ee:g):(ee=+m[c+8>>2],g=($=+m[c>>2])+ee*((g=(g-$)/ee)-+(0|~~+I(+g)))),o=c+36|0,+m[(s=c+32|0)>>2]!=g?(l[o>>2]=1,m[s>>2]=g):l[o>>2]=0,d&&(m[u>>2]=g),!((c=c+40|0)>>>0>=M>>>0);)u=u+4|0;if(A)for(B=0|l[(v=e+376|0)>>2],_=0|l[e+308>>2],k=0==(0|B);;){q=+m[h+32>>2],$=+m[h+16>>2],ee=+m[h+20>>2],y=(s=_+(28*(0|l[h+24>>2])|0)|0)+(28*(be=0|l[h+28>>2])|0)|0;e:do{if((0|be)>0){if(!k)for(;;){A=0|l[s>>2];do{if((0|A)>=1){if(u=0|l[s+4>>2],g=(E=+m[u>>2])-$,1==(0|A)){c=!(q<$+E)|!(g<q),A=0,g=0,ue=55;break}if(q<g){o=1,g=0,p=0,u=s+16|0,ue=57;break}if(q<$+E)c=0,A=0,g=0,ue=55;else{for(o=1;;){if(q<$+(g=+m[u+(o<<2)>>2])){ue=50;break}if(!((0|(o=o+1|0))<(0|A))){u=1,o=0,g=0;break}E=g}50==(0|ue)&&(g-$<q?(u=0,g=0):(o=o+-1|0,(g-=E)<ee?(u=0,g=0):(u=0,g=(q-E)/g))),c=u,A=u?A+-1|0:o,g=u?0:g,ue=55}}else c=0,A=0,g=0,ue=55}while(0);if(55==(0|ue)&&(ue=0,o=1&c,c|0==(0|l[(u=s+16|0)>>2])?(p=A,ue=57):(c=1,p=A,b=s+12|0,d=s+8|0,A=1)),57==(0|ue)&&(ue=0,A=1&(be=(E=+m[(b=s+12|0)>>2])!=g),c=(0|l[(d=s+8|0)>>2])!=(0|p),be&&(c|=0==g|0==E)),l[s+24>>2]=A,l[s+20>>2]=1&c,m[b>>2]=g,l[d>>2]=p,l[u>>2]=o,(s=s+28|0)>>>0>=y>>>0)break e}if(!(0|l[h+36>>2]))for(;;)if(l[s+24>>2]=0,l[s+20>>2]=0,(s=s+28|0)>>>0>=y>>>0)break e;do{A=0|l[s>>2];do{if((0|A)>=1){if(u=0|l[s+4>>2],g=(E=+m[u>>2])-$,1==(0|A)){c=!(q<$+E)|!(g<q),A=0,g=0,ue=37;break}if(q<g){o=1,g=0,p=0,u=s+16|0,ue=39;break}if(q<$+E)c=0,A=0,g=0,ue=37;else{for(o=1;;){if(q<$+(g=+m[u+(o<<2)>>2])){ue=31;break}if(!((0|(o=o+1|0))<(0|A))){u=1,o=0,g=0;break}E=g}31==(0|ue)&&(g-$<q?(u=0,g=0):(o=o+-1|0,(g-=E)<ee?(u=0,g=0):(u=0,g=(q-E)/g))),c=u,A=u?A+-1|0:o,g=u?0:g,ue=37}}else c=0,A=0,g=0,ue=37}while(0);37==(0|ue)&&(ue=0,o=1&c,c|0==(0|l[(u=s+16|0)>>2])?(p=A,ue=39):(c=1,p=A,b=s+12|0,d=s+8|0,A=1)),39==(0|ue)&&(ue=0,A=1&(be=(E=+m[(b=s+12|0)>>2])!=g),c=(0|l[(d=s+8|0)>>2])!=(0|p),be&&(c|=0==g|0==E)),l[s+24>>2]=A,l[s+20>>2]=1&c,m[b>>2]=g,l[d>>2]=p,l[u>>2]=o,s=s+28|0}while(s>>>0<y>>>0)}}while(0);if((h=h+40|0)>>>0>=M>>>0){be=v;break}}else ue=15}else ue=15;if(15==(0|ue)&&(be=B=e+376|0,B=0|l[B>>2]),D=(s=0|l[(i=e+316|0)>>2])+(36*(ne=0|l[e+312>>2])|0)|0,(0|ne)>0){M=e+308|0,R=0==(0|B);do{_=0|l[M>>2],k=(p=0|l[s+12>>2])+((h=0|l[s>>2])<<2)|0;e:do{if((0|h)>0)for(A=0,d=p,o=0,u=0;;){if(c=0|l[d>>2],0|l[_+(28*c|0)+16>>2]){c=0,o=0,u=1;break e}if(A||(A=0|l[_+(28*c|0)+24>>2]),u||(u=0|l[_+(28*c|0)+20>>2]),o=(0!=+m[_+(28*c|0)+12>>2]&1)+o|0,(d=d+4|0)>>>0>=k>>>0){d=o,ue=71;break}}else A=0,d=0,u=0,ue=71}while(0);e:do{if(71==(0|ue))if(ue=0,o=R?u:1,c=R?A:1,0!=(u|B|A|0)&&(C=1<<d,l[s+8>>2]=C,G=0|l[s+16>>2],V=0|l[s+20>>2],x=G+(C<<2)|0,31!=(0|d))){Ze(0|G,0,(x>>>0>(A=G+4|0)>>>0?x:A)+~G+4&-4|0),A=V+(C<<2)|0,u=V;do{m[u>>2]=1,u=u+4|0}while(u>>>0<A>>>0);if((0|h)>=1){if(!d)for(A=p,d=1;;){if(h=0|l[A>>2],g=+m[_+(28*h|0)+12>>2],b=0|P(0|l[_+(28*h|0)+8>>2],d),0==g){u=0;do{l[(ne=G+(u<<2)|0)>>2]=(0|l[ne>>2])+b,u=u+1|0}while((0|u)!=(0|C))}else l[G>>2]=(0|l[G>>2])+b,m[V>>2]=(1-g)*+m[V>>2];if(A=A+4|0,d=0|P(0|l[_+(28*h|0)>>2],d),A>>>0>=k>>>0){u=0;break e}}y=1,u=1;do{if(v=0|l[p>>2],g=+m[(h=_+(28*v|0)+12|0)>>2],A=0|l[_+(28*v|0)+8>>2],b=0|P(A,y),0==g){A=0;do{l[(ne=G+(A<<2)|0)>>2]=(0|l[ne>>2])+b,A=A+1|0}while((0|A)!=(0|C))}else{d=0|P(A+1|0,y),l[G>>2]=(0|l[G>>2])+b,m[V>>2]=(1-g)*+m[V>>2],A=1;do{ee=+m[h>>2],ae=0!=(A&u|0),l[(ne=G+(A<<2)|0)>>2]=(ae?d:b)+(0|l[ne>>2]),m[(ne=V+(A<<2)|0)>>2]=(ae?ee:1-ee)*+m[ne>>2],A=A+1|0}while((0|A)!=(0|C));u<<=1}p=p+4|0,y=0|P(0|l[_+(28*v|0)>>2],y)}while(p>>>0<k>>>0);u=0}else u=0}else u=0}while(0);l[s+28>>2]=c,l[s+24>>2]=o,l[s+32>>2]=u,s=s+36|0}while(s>>>0<D>>>0)}if(u=0|l[(ae=e+4|0)>>2],o=(s=0|l[(ne=e+52|0)>>2])+(u<<2)|0,A=(0|u)>0){do{ee=+m[s>>2],m[s>>2]=ee<0?0:ee>1?1:ee,s=s+4|0}while(s>>>0<o>>>0);if(h=(c=0|l[(o=e+8|0)>>2])+(u<<3)|0,b=0|l[i>>2],p=0|l[(s=e+36|0)>>2],A){for(u=0|l[e+40>>2],A=p;;){do{if(0|l[c+4>>2]){if(-1!=(0|(ie=0|l[c>>2]))&&0==(0|l[p+(ie<<2)>>2])){d=0;break}d=0==(0|l[b+(36*(0|l[u>>2])|0)+32>>2])}else d=0}while(0);if(l[A>>2]=1&d,(c=c+8|0)>>>0>=h>>>0)break;u=u+4|0,A=A+4|0}if(_=0|l[i>>2],k=0|l[ae>>2],u=0|l[e>>2],M=0|l[u+724>>2],(0|k)>0)for(D=e+20|0,B=e+28|0,p=u+936|0,y=e+16|0,d=0|l[e+40>>2],h=0,b=0;;){if(v=0|l[d>>2],(0!=(0|l[(u=_+(36*v|0)+24|0)>>2])||0|l[_+(36*v|0)+28>>2])&&(ue=108),108==(0|ue)&&(ue=0,F=_+(36*v|0)+8|0,l[(0|l[y>>2])+(b<<2)>>2]=l[F>>2],0|l[u>>2])&&(S=0|l[M+(b<<2)>>2],T=(U=0|l[_+(36*v|0)+16>>2])+((ie=0|l[F>>2])<<2)|0,(0|ie)>0))for(A=0|l[p>>2],u=(0|l[B>>2])+(h<<2)|0,c=U;l[u>>2]=l[A+((0|l[c>>2])+S<<2)>>2],!((c=c+4|0)>>>0>=T>>>0);)u=u+4|0;if(0|l[_+(36*v|0)+28>>2]&&(Z=(W=0|l[_+(36*v|0)+20>>2])+((ie=0|l[_+(36*v|0)+8>>2])<<2)|0,(0|ie)>0))for(u=W,c=(0|l[D>>2])+(h<<2)|0;l[c>>2]=l[u>>2],!((u=u+4|0)>>>0>=Z>>>0);)c=c+4|0;if((0|(b=b+1|0))==(0|k)){ie=s,te=e,re=o;break}d=d+4|0,h=(0|l[_+(36*v|0)+4>>2])+h|0}else ie=s,te=e,re=o}else ue=103}else s=e+36|0,o=e+8|0,ue=103;if(103==(0|ue)&&(ie=s,te=e,re=o),function(e){var t,r,i,a,n=0,s=0,o=0,u=0,f=0,c=0,A=0;if(a=0|l[4+(e|=0)>>2],A=0|l[e+36>>2],(0|(u=0|l[e+24>>2]))>0){f=0|l[e+28>>2],s=0|l[e+20>>2],o=0|l[e+32>>2],n=0;do{m[o+(n<<2)>>2]=+m[f+(n<<2)>>2]*+m[s+(n<<2)>>2],n=n+1|0}while((0|n)!=(0|u))}if(!((0|a)<=0))for(t=0|l[e+12>>2],r=e+16|0,i=e+44|0,e=e+32|0,f=0,u=0;;){if(0|l[A>>2]){if(s=(o=0|l[(0|l[r>>2])+(f<<2)>>2])+u|0,(0|o)>0){o=0|l[e>>2],c=0,n=u;do{c+=+m[o+(n<<2)>>2],n=n+1|0}while((0|n)<(0|s))}else c=0;l[(0|l[i>>2])+(f<<2)>>2]=~~(c+.0010000000474974513)}if(u=(0|l[t+(f<<2)>>2])+u|0,(0|(f=f+1|0))==(0|a))break;A=A+4|0}}(e),A=(s=0|l[(r=e+60|0)>>2])+((K=0|l[e+56>>2])<<5)|0,d=0|l[i>>2],h=0|l[ie>>2],b=0|l[(t=e+168|0)>>2],p=0|l[e+172>>2],y=0|l[e+176>>2],(0|K)>0){for(u=0|l[e+180>>2],c=b;;){do{if(0|l[s+28>>2]){if(-1!=(0|(K=0|l[s>>2]))&&0==(0|l[h+(K<<2)>>2])){o=0;break}if(-1!=(0|(K=0|l[s+4>>2]))&&0==(0|l[b+(K<<2)>>2])){o=0;break}o=0==(0|l[d+(36*(0|l[u>>2])|0)+32>>2])}else o=0}while(0);switch(o&=1,l[c>>2]=o,0|l[s+8>>2]){case 0:l[p+(l[s+12>>2]<<2)>>2]=o;break;case 1:l[y+(l[s+12>>2]<<2)>>2]=o;break;default:X(4,4254,O)}if((s=s+32|0)>>>0>=A>>>0)break;u=u+4|0,c=c+4|0}d=0|l[i>>2]}if(s=0|l[te>>2],v=0|l[s+784>>2],_=0|l[e+64>>2],k=0|l[s+988>>2],(0|_)>0){for(M=e+88|0,D=e+100|0,B=e+96|0,R=s+944|0,b=s+940|0,p=e+84|0,c=0,A=0,h=0|l[e+184>>2];;){if(y=0|l[h>>2],(0!=(0|l[(s=d+(36*y|0)+24|0)>>2])||0|l[d+(36*y|0)+28>>2])&&(ue=135),135==(0|ue)&&(ue=0,Y=d+(36*y|0)+8|0,l[(0|l[p>>2])+(A<<2)>>2]=l[Y>>2],0|l[s>>2])&&(z=0|l[v+(A<<2)>>2],H=(N=0|l[d+(36*y|0)+16>>2])+((K=0|l[Y>>2])<<2)|0,(0|K)>0))for(s=N,o=(0|l[B>>2])+(c<<2)|0,u=(0|l[D>>2])+(c<<2)|0;K=(0|l[s>>2])+z|0,l[u>>2]=k+(l[(0|l[R>>2])+(K<<2)>>2]<<2),l[o>>2]=l[(0|l[b>>2])+(K<<2)>>2],!((s=s+4|0)>>>0>=H>>>0);)o=o+4|0,u=u+4|0;if(0|l[d+(36*y|0)+28>>2]&&(L=(J=0|l[d+(36*y|0)+20>>2])+((K=0|l[d+(36*y|0)+8>>2])<<2)|0,(0|K)>0))for(s=J,o=(0|l[M>>2])+(c<<2)|0;l[o>>2]=l[s>>2],!((s=s+4|0)>>>0>=L>>>0);)o=o+4|0;if((0|(A=A+1|0))==(0|_))break;c=(0|l[d+(36*y|0)+4>>2])+c|0,h=h+4|0}s=0|l[te>>2],d=0|l[i>>2]}if(F=0|l[s+808>>2],S=0|l[e+72>>2],U=0|l[e+76>>2],(0|S)>0)for(T=e+120|0,W=e+132|0,Z=e+136|0,O=e+140|0,Y=e+144|0,z=e+128|0,N=s+968|0,H=s+972|0,J=s+952|0,L=s+956|0,j=s+960|0,K=s+964|0,G=s+948|0,V=e+116|0,B=0|l[e+188>>2],R=0,C=0;;){if(x=0|l[B>>2],(0!=(0|l[(s=d+(36*x|0)+24|0)>>2])||0|l[d+(36*x|0)+28>>2])&&(ue=149),149==(0|ue)&&(ue=0,se=d+(36*x|0)+8|0,l[(0|l[V>>2])+(C<<2)>>2]=l[se>>2],0|l[s>>2])){if(b=0|l[F+(C<<2)>>2],y=(p=0|l[d+(36*x|0)+16>>2])+((D=0|l[se>>2])<<2)|0,(0|D)>0)for(v=0|l[J>>2],_=0|l[L>>2],k=0|l[j>>2],M=0|l[K>>2],D=0|l[G>>2],s=(0|l[z>>2])+(R<<2)|0,o=(0|l[Y>>2])+(R<<2)|0,u=(0|l[O>>2])+(R<<2)|0,c=(0|l[Z>>2])+(R<<2)|0,A=(0|l[W>>2])+(R<<2)|0,h=p;ge=(0|l[h>>2])+b|0,l[A>>2]=l[v+(ge<<2)>>2],l[c>>2]=l[_+(ge<<2)>>2],l[u>>2]=l[k+(ge<<2)>>2],l[o>>2]=l[M+(ge<<2)>>2],l[s>>2]=l[D+(ge<<2)>>2],!((h=h+4|0)>>>0>=y>>>0);)s=s+4|0,o=o+4|0,u=u+4|0,c=c+4|0,A=A+4|0;ge=(0|l[p>>2])+b|0,l[U+(C<<5)+24>>2]=l[(0|l[N>>2])+(ge<<2)>>2],l[U+(C<<5)+28>>2]=l[(0|l[H>>2])+(ge<<2)>>2]}if(0|l[d+(36*x|0)+28>>2]&&(le=(oe=0|l[d+(36*x|0)+20>>2])+((ge=0|l[d+(36*x|0)+8>>2])<<2)|0,(0|ge)>0))for(s=oe,o=(0|l[T>>2])+(R<<2)|0;l[o>>2]=l[s>>2],!((s=s+4|0)>>>0>=le>>>0);)o=o+4|0;if((0|(C=C+1|0))==(0|S))break;B=B+4|0,R=(0|l[d+(36*x|0)+4>>2])+R|0}if(function(e){var t,r,i,a,n,s,o,u,f=0,c=0,A=0,d=0,h=0,b=0,p=0,y=0,v=0,g=0,w=0,_=0,I=0;if(o=0|l[68+(e|=0)>>2],u=0|l[e+64>>2],p=0|l[e+172>>2],(0|(h=0|l[e+92>>2]))>0){c=0|l[e+96>>2],A=0|l[e+88>>2],d=0|l[e+104>>2],f=0;do{m[d+(f<<2)>>2]=+m[c+(f<<2)>>2]*+m[A+(f<<2)>>2],f=f+1|0}while((0|f)!=(0|h))}if(!((0|u)<=0))for(r=0|l[e+80>>2],i=e+84|0,a=e+104|0,n=e+108|0,s=e+100|0,t=e+88|0,I=0,w=0;;){if(0|l[p>>2]){if(_=(A=0|l[(0|l[i>>2])+(I<<2)>>2])+w|0,A=(0|A)>0){c=0|l[a>>2],f=w,b=0;do{b+=+m[c+(f<<2)>>2],f=f+1|0}while((0|f)<(0|_))}else b=0;if(m[o+(24*I|0)+16>>2]=b,g=(f=0|l[o+(24*I|0)+12>>2])<<1,(f=(0|f)>0)&&Ze(0|l[o+(24*I|0)+20>>2],0,((0|g)>1?g:1)<<2|0),A&f){h=0|l[s>>2],e=0|l[t>>2],y=0|l[n>>2],v=0|l[o+(24*I|0)+20>>2],d=w;do{c=0|l[h+(d<<2)>>2],A=e+(d<<2)|0,f=0;do{m[y+(f<<2)>>2]=+m[c+(f<<2)>>2]*+m[A>>2],f=f+1|0}while((0|f)<(0|g));f=0;do{m[(A=v+(f<<2)|0)>>2]=+m[y+(f<<2)>>2]+ +m[A>>2],f=f+1|0}while((0|f)<(0|g));d=d+1|0}while((0|d)<(0|_))}}if(w=(0|l[r+(I<<2)>>2])+w|0,(0|(I=I+1|0))==(0|u))break;p=p+4|0}}(e),function(e){var t,r,i,a,n,s,o,u,f,c,A=0,d=0,h=0,b=0,p=0,y=0,v=0,g=0;if(f=0|l[76+(e|=0)>>2],c=0|l[e+72>>2],u=0|l[e+176>>2],y=(0|(v=0|l[e+124>>2]))>0){d=0|l[e+128>>2],h=0|l[e+120>>2],b=0|l[e+148>>2],A=0;do{m[b+(A<<2)>>2]=+m[d+(A<<2)>>2]*+m[h+(A<<2)>>2],A=A+1|0}while((0|A)!=(0|v));if(y){d=0|l[e+132>>2],h=0|l[e+120>>2],b=0|l[e+152>>2],A=0;do{m[b+(A<<2)>>2]=+m[d+(A<<2)>>2]*+m[h+(A<<2)>>2],A=A+1|0}while((0|A)!=(0|v));if(y){d=0|l[e+136>>2],h=0|l[e+120>>2],b=0|l[e+156>>2],A=0;do{m[b+(A<<2)>>2]=+m[d+(A<<2)>>2]*+m[h+(A<<2)>>2],A=A+1|0}while((0|A)!=(0|v));if(y){d=0|l[e+140>>2],h=0|l[e+120>>2],b=0|l[e+160>>2],A=0;do{m[b+(A<<2)>>2]=+m[d+(A<<2)>>2]*+m[h+(A<<2)>>2],A=A+1|0}while((0|A)!=(0|v));if(y){d=0|l[e+144>>2],h=0|l[e+120>>2],b=0|l[e+164>>2],A=0;do{m[b+(A<<2)>>2]=+m[d+(A<<2)>>2]*+m[h+(A<<2)>>2],A=A+1|0}while((0|A)!=(0|v))}}}}}if(!((0|c)<=0))for(r=0|l[e+112>>2],i=e+116|0,a=e+164|0,n=e+160|0,s=e+156|0,o=e+152|0,t=e+148|0,e=0,y=u,v=0;;){if(0|l[y>>2]){if(b=(h=0|l[(0|l[i>>2])+(e<<2)>>2])+v|0,h=(0|h)>0){d=0|l[t>>2],A=v,p=0;do{p+=+m[d+(A<<2)>>2],A=A+1|0}while((0|A)<(0|b));if(m[f+(e<<5)+4>>2]=p,h){d=0|l[o>>2],A=v,p=0;do{p+=+m[d+(A<<2)>>2],A=A+1|0}while((0|A)<(0|b));if(m[f+(e<<5)+20>>2]=p,h){d=0|l[s>>2],A=v,p=0;do{p+=+m[d+(A<<2)>>2],A=A+1|0}while((0|A)<(0|b));if(m[f+(e<<5)+12>>2]=p,h){d=0|l[n>>2],A=v,p=0;do{p+=+m[d+(A<<2)>>2],A=A+1|0}while((0|A)<(0|b));if(m[f+(e<<5)+16>>2]=p,h){d=0|l[a>>2],p=0,A=v;do{p+=+m[d+(A<<2)>>2],A=A+1|0}while((0|A)<(0|b))}else p=0}else g=34}else g=30}else g=26}else m[f+(e<<5)+4>>2]=0,g=26;26==(0|g)&&(m[f+(e<<5)+20>>2]=0,g=30),30==(0|g)&&(m[f+(e<<5)+12>>2]=0,g=34),34==(0|g)&&(g=0,m[f+(e<<5)+16>>2]=0,p=0),m[f+(e<<5)+8>>2]=p}if(v=(0|l[r+(e<<2)>>2])+v|0,(0|(e=e+1|0))==(0|c))break;y=y+4|0}}(e),h=(s=0|l[(x=e+204|0)>>2])+((ge=0|l[(F=e+200|0)>>2])<<4)|0,V=0|l[i>>2],A=0|l[ie>>2],d=0|l[t>>2],(0|ge)>0){for(o=0|l[e+252>>2],u=0|l[e+248>>2];;){do{if(0|l[s+8>>2]){if(-1!=(0|(ge=0|l[s>>2]))&&0==(0|l[A+(ge<<2)>>2])){c=0;break}if(-1!=(0|(ge=0|l[s+4>>2]))&&0==(0|l[d+(ge<<2)>>2])){c=0;break}c=0==(0|l[V+(36*(0|l[o>>2])|0)+32>>2])}else c=0}while(0);if(l[u>>2]=1&c,(s=s+16|0)>>>0>=h>>>0)break;o=o+4|0,u=u+4|0}if(G=0|l[F>>2],s=0|l[te>>2],v=0|l[s+844>>2],_=0|l[s+988>>2],(0|G)>0)for(k=e+216|0,M=e+232|0,D=e+224|0,B=e+228|0,R=s+984|0,C=s+976|0,b=s+980|0,p=e+212|0,A=0|l[e+252>>2],d=0,h=0;;){if(y=0|l[A>>2],(0!=(0|l[(s=V+(36*y|0)+24|0)>>2])||0|l[V+(36*y|0)+28>>2])&&(ue=172),172==(0|ue)&&(ue=0,fe=V+(36*y|0)+8|0,l[(0|l[p>>2])+(h<<2)>>2]=l[fe>>2],0|l[s>>2])&&(ce=0|l[v+(h<<2)>>2],de=(Ae=0|l[V+(36*y|0)+16>>2])+((ge=0|l[fe>>2])<<2)|0,(0|ge)>0))for(s=(0|l[B>>2])+(d<<2)|0,o=(0|l[D>>2])+(d<<2)|0,u=(0|l[M>>2])+(d<<2)|0,c=Ae;ge=(0|l[c>>2])+ce|0,l[u>>2]=_+(l[(0|l[R>>2])+(ge<<2)>>2]<<2),l[o>>2]=l[(0|l[C>>2])+(ge<<2)>>2],l[s>>2]=l[(0|l[b>>2])+(ge<<2)>>2],!((c=c+4|0)>>>0>=de>>>0);)s=s+4|0,o=o+4|0,u=u+4|0;if(0|l[V+(36*y|0)+28>>2]&&(me=(he=0|l[V+(36*y|0)+20>>2])+((ge=0|l[V+(36*y|0)+8>>2])<<2)|0,(0|ge)>0))for(s=he,o=(0|l[k>>2])+(d<<2)|0;l[o>>2]=l[s>>2],!((s=s+4|0)>>>0>=me>>>0);)o=o+4|0;if((0|(h=h+1|0))==(0|G))break;A=A+4|0,d=(0|l[V+(36*y|0)+4>>2])+d|0}}if(function(e){var t,r,i,a,n,s,o,u,f,c,A,d,h=0,b=0,p=0,y=0,v=0,g=0,w=0,_=0,I=0,k=0,M=0,D=0,B=0;if(A=0|l[204+(e|=0)>>2],d=0|l[e+200>>2],_=0|l[e+248>>2],v=(0|(g=0|l[e+220>>2]))>0){b=0|l[e+224>>2],p=0|l[e+216>>2],y=0|l[e+236>>2],h=0;do{m[y+(h<<2)>>2]=+m[b+(h<<2)>>2]*+m[p+(h<<2)>>2],h=h+1|0}while((0|h)!=(0|g));if(v){b=0|l[e+228>>2],p=0|l[e+216>>2],y=0|l[e+240>>2],h=0;do{m[y+(h<<2)>>2]=+m[b+(h<<2)>>2]*+m[p+(h<<2)>>2],h=h+1|0}while((0|h)!=(0|g))}}if(!((0|d)<=0))for(r=0|l[e+208>>2],i=e+212|0,a=e+236|0,n=e+276|0,s=e+240|0,o=e+268|0,u=e+272|0,f=e+244|0,c=e+232|0,t=e+216|0,B=0,M=0;;){if(0|l[_>>2]){if(D=(p=0|l[(0|l[i>>2])+(B<<2)>>2])+M|0,p=(0|p)>0){b=0|l[a>>2],h=M,w=0;do{w+=+m[b+(h<<2)>>2],h=h+1|0}while((0|h)<(0|D));if(m[(0|l[n>>2])+(B<<2)>>2]=w,p){b=0|l[s>>2],h=M,w=0;do{w+=+m[b+(h<<2)>>2],h=h+1|0}while((0|h)<(0|D))}else w=0}else m[(0|l[n>>2])+(B<<2)>>2]=0,w=0;if(l[(0|l[o>>2])+(B<<2)>>2]=~~(w+.0010000000474974513),I=(h=0|l[A+(B<<4)+12>>2])<<1,k=0|l[(0|l[u>>2])+(B<<2)>>2],(h=(0|h)>0)&&Ze(0|k,0,((0|I)>1?I:1)<<2|0),p&h){v=0|l[c>>2],g=0|l[t>>2],e=0|l[f>>2],y=M;do{b=0|l[v+(y<<2)>>2],p=g+(y<<2)|0,h=0;do{m[e+(h<<2)>>2]=+m[b+(h<<2)>>2]*+m[p>>2],h=h+1|0}while((0|h)<(0|I));h=0;do{m[(p=k+(h<<2)|0)>>2]=+m[e+(h<<2)>>2]+ +m[p>>2],h=h+1|0}while((0|h)<(0|I));y=y+1|0}while((0|y)<(0|D))}}if(M=(0|l[r+(B<<2)>>2])+M|0,(0|(B=B+1|0))==(0|d))break;_=_+4|0}}(e),function(e){var t,r,i,a,n,s,o,u=0,f=0,c=0,A=0,d=0,h=0,m=0,b=0,p=0,y=0,v=0,g=0;if(u=0|l[(e|=0)>>2],n=0|l[e+316>>2],s=0|l[u+1072>>2],!((0|(o=0|l[e+340>>2]))<=0))for(i=e+356|0,a=e+364|0,t=u+1104|0,r=e+352|0,c=0|l[e+372>>2],A=0,d=0;;){if(h=0|l[c>>2],(0!=(0|l[(u=n+(36*h|0)+24|0)>>2])||0|l[n+(36*h|0)+28>>2])&&(g=6),6==(0|g)&&(g=0,l[(0|l[r>>2])+(d<<2)>>2]=l[n+(36*h|0)+8>>2],0|l[u>>2])&&(m=0|l[s+(d<<2)>>2],p=(b=0|l[n+(36*h|0)+16>>2])+((f=0|l[n+(36*h|0)+8>>2])<<2)|0,(0|f)>0))for(f=0|l[t>>2],u=(0|l[a>>2])+(A<<2)|0,e=b;l[u>>2]=l[f+((0|l[e>>2])+m<<2)>>2],!((e=e+4|0)>>>0>=p>>>0);)u=u+4|0;if(0|l[n+(36*h|0)+28>>2]&&(v=(y=0|l[n+(36*h|0)+20>>2])+((f=0|l[n+(36*h|0)+8>>2])<<2)|0,(0|f)>0))for(u=y,e=(0|l[i>>2])+(A<<2)|0;l[e>>2]=l[u>>2],!((u=u+4|0)>>>0>=v>>>0);)e=e+4|0;if((0|(d=d+1|0))==(0|o))break;c=c+4|0,A=(0|l[n+(36*h|0)+4>>2])+A|0}}(e),function(e){var t,r,i,a,n=0,s=0,o=0,u=0,f=0,c=0;if(a=0|l[340+(e|=0)>>2],(0|(o=0|l[e+360>>2]))>0){u=0|l[e+364>>2],f=0|l[e+356>>2],s=0|l[e+368>>2],n=0;do{m[s+(n<<2)>>2]=+m[u+(n<<2)>>2]*+m[f+(n<<2)>>2],n=n+1|0}while((0|n)!=(0|o))}if(!((0|a)<=0)){t=0|l[e+352>>2],r=0|l[e+344>>2],i=0|l[e+348>>2],e=e+368|0,u=0,f=0;do{if(s=(o=0|l[t+(u<<2)>>2])+f|0,(0|o)>0){o=0|l[e>>2],c=0,n=f;do{c+=+m[o+(n<<2)>>2],n=n+1|0}while((0|n)<(0|s))}else c=0;m[r+(24*u|0)+20>>2]=c,f=(0|l[i+(u<<2)>>2])+f|0,u=u+1|0}while((0|u)!=(0|a))}}(e),A=(s=0|l[re>>2])+((ge=0|l[ae>>2])<<3)|0,y=0|l[(d=e+48|0)>>2],(0|ge)>0)for(o=0|l[ne>>2],u=0|l[ie>>2],c=y;0|l[u>>2]&&(pe=+m[o>>2],m[c>>2]=pe,-1!=(0|(ye=0|l[s>>2])))&&(m[c>>2]=pe*+m[y+(ye<<2)>>2]),!((s=s+8|0)>>>0>=A>>>0);)o=o+4|0,u=u+4|0,c=c+4|0;if((0|(A=0|l[(c=e+56|0)>>2]))>0){for(s=0|l[t>>2],o=0|l[r>>2],u=0;0|l[s>>2]&&Le[3&l[o+16>>2]](o,u,c),(0|(u=u+1|0))!=(0|A);)s=s+4|0,o=o+32|0;y=0|l[d>>2]}if(b=(s=0|l[x>>2])+((ge=0|l[F>>2])<<4)|0,p=0|l[e+192>>2],d=0|l[r>>2],(0|ge)>0)for(u=0|l[(h=e+248|0)>>2],c=0|l[e+276>>2],A=0|l[e+272>>2];0|l[u>>2]&&(-1!=(0|(o=0|l[s>>2]))&&(m[c>>2]=+m[y+(o<<2)>>2]*+m[c>>2]),-1!=(0|(o=0|l[s+4>>2]))&&(m[c>>2]=+m[p+(o<<2)>>2]*+m[c>>2],ge=0|l[A>>2],je[3&l[d+(o<<5)+20>>2]](0|l[d+(o<<5)+24>>2],ge,ge,0|l[s+12>>2]))),!((s=s+16|0)>>>0>=b>>>0);)u=u+4|0,c=c+4|0,A=A+4|0;else h=e+248|0;if(Q(e),function(e){var t,r=0,i=0,a=0,n=0,s=0,o=0;if(!(0|l[380+(e|=0)>>2]||(t=(r=0|l[e+204>>2])+((a=0|l[e+200>>2])<<4)|0,(0|a)<=0)))for(a=0|l[e+248>>2],i=0|l[e+272>>2],e=r;;){if(0|l[a>>2]&&(n=0|l[i>>2],(0|(s=l[e+12>>2]<<1))>1)){r=1;do{m[(o=n+(r<<2)|0)>>2]=-+m[o>>2],r=r+2|0}while((0|r)<(0|s))}if((e=e+16|0)>>>0>=t>>>0)break;a=a+4|0,i=i+4|0}}(e),C=0|l[e+320>>2],y=(G=0|l[e+324>>2])+(28*C|0)|0,u=0|l[(V=e+268|0)>>2],v=0|l[e+44>>2],A=0|l[ie>>2],o=0|l[h>>2],(0|C)>0){c=G;do{if((0|(d=0|l[c+4>>2]))>0){b=0|l[c+12>>2],p=c+20|0,s=0;do{ge=0|l[b+(s<<4)+4>>2],ye=1==(0|l[b+(s<<4)>>2]),l[b+(s<<4)+12>>2]=l[(0==(0|l[(ye?A:o)+(ge<<2)>>2])?p:(ye?v:u)+(ge<<2)|0)>>2],s=s+1|0}while((0|s)!=(0|d))}c=c+28|0}while(c>>>0<y>>>0);k=0|l[e+264>>2],M=e+328|0,D=e+336|0,B=e+332|0,_=0;do{if((0|l[(R=G+(28*_|0)+24|0)>>2])>0){c=0|l[M>>2],s=0;do{l[c+(s<<2)>>2]=-1,s=s+1|0,A=0|l[R>>2]}while((0|s)<(0|A));if((0|A)>0){c=0|l[D>>2],s=0;do{l[c+(s<<2)>>2]=-1,s=s+1|0}while((0|s)<(0|l[R>>2]))}}if((0|l[(b=G+(28*_|0)+4|0)>>2])>0){c=0|l[B>>2],s=0;do{l[c+(s<<2)>>2]=-1,s=s+1|0,A=0|l[b>>2]}while((0|s)<(0|A));if((0|A)>0){d=G+(28*_|0)+20|0,c=0|l[G+(28*_|0)+12>>2],A=0|l[D>>2],s=0;do{me=(0|l[c+(s<<4)+12>>2])-(0|l[d>>2])|0,ye=0|l[(ge=A+(me<<2)|0)>>2],l[(0|l[((he=-1==(0|ye))?M:B)>>2])+((he?me:ye)<<2)>>2]=s,l[ge>>2]=s,s=s+1|0}while((0|s)<(0|l[b>>2]))}}if((0|(s=0|l[R>>2]))>0){y=0|l[M>>2],v=G+(28*_|0)+12|0,p=0,c=0|l[G+(28*_|0)+8>>2];do{if(-1!=(0|(A=0|l[y+(p<<2)>>2]))){d=0|l[v>>2],b=0|l[B>>2];do{1==(0|l[d+(A<<4)>>2])?(s=0|l[d+(A<<4)+8>>2],l[G+(28*s|0)+8>>2]=c,s=0|l[G+(28*s|0)>>2]):(l[k+(l[d+(A<<4)+4>>2]<<2)>>2]=c,s=1),c=s+c|0,ge=A,A=0|l[b+(A<<2)>>2]}while(!((0|A)<=(0|ge)|-1==(0|A)));s=0|l[R>>2]}p=p+1|0}while((0|p)<(0|s))}_=_+1|0}while((0|_)!=(0|C))}if(v=0|l[F>>2],0|l[be>>2]){if(l[ve>>2]=0,(0|v)<=0)return l[be>>2]=0,void(w=n);for(c=e+260|0,u=e+276|0,s=0;o=0!=(0|l[o+(s<<2)>>2])&&0!=+m[(0|l[u>>2])+(s<<2)>>2]?63:62,a[(0|l[c>>2])+s>>0]=o,(0|(s=s+1|0))!=(0|v);)o=0|l[h>>2];return l[be>>2]=0,void(w=n)}if(0|l[ve>>2]){if(l[ve>>2]=0,(0|v)<=0)return l[be>>2]=0,void(w=n);for(A=e+260|0,d=e+276|0,b=e+288|0,p=e+284|0,y=e+264|0,c=e+280|0,s=0;ve=0==(0|l[o+(s<<2)>>2]),e=0!=(pe=+m[(0|l[d>>2])+(s<<2)>>2])&(1^ve)&1,ge=(0|l[A>>2])+s|0,e=(1&a[ge>>0])==e<<24>>24?e:2|e,e=pe!=+m[(0|l[b>>2])+(s<<2)>>2]?4|e:e,e=(0|l[u+(s<<2)>>2])==(0|l[(0|l[p>>2])+(s<<2)>>2])?e:8|e,e=(0|l[(0|l[y>>2])+(s<<2)>>2])==(0|l[(0|l[c>>2])+(s<<2)>>2])?e:16|e,a[ge>>0]=ve?e:32|e,(0|(s=s+1|0))!=(0|v);)o=0|l[h>>2],u=0|l[V>>2];return l[be>>2]=0,void(w=n)}if((0|v)<=0)return l[be>>2]=0,void(w=n);for(d=e+260|0,A=e+276|0,s=0;c=(0|l[d>>2])+s|0,u=0|f[c>>0],o=0!=(0|l[o+(s<<2)>>2])&&0!=+m[(0|l[A>>2])+(s<<2)>>2]?1|u:254&u,a[c>>0]=o,(0|(s=s+1|0))!=(0|v);)o=0|l[h>>2];l[be>>2]=0,w=n}function q(e){e|=0;var t,r=0,i=0,a=0,n=0,s=0,o=0,u=0,f=0,c=0,A=0,d=0,h=0,m=0,b=0,p=0,y=0,v=0,g=0,_=0,I=0;t=w,w=w+16|0,h=t;do{if(e>>>0<245){if(e=(c=e>>>0<11?16:e+11&-8)>>>3,d=0|l[1356],3&(i=e?d>>>e:d)|0)return a=0|l[(i=8+(e=5464+((r=(1&i^1)+e|0)<<1<<2)|0)|0)>>2],(0|(s=0|l[(n=a+8|0)>>2]))==(0|e)?l[1356]=d&~(1<<r):(l[s+12>>2]=e,l[i>>2]=s),I=r<<3,l[a+4>>2]=3|I,l[(I=a+I+4|0)>>2]=1|l[I>>2],w=t,0|(I=n);if(c>>>0>(A=0|l[1358])>>>0){if(0|i)return s=0|l[(e=8+(r=5464+((a=((i=(a=(u=(a=((a=i<<e&((a=2<<e)|0-a))&0-a)-1|0)>>>12&16)?a>>>u:a)>>>5&8)|u|(s=(a=i?a>>>i:a)>>>2&4)|(e=(a=s?a>>>s:a)>>>1&2)|(r=(a=e?a>>>e:a)>>>1&1))+(r?a>>>r:a)|0)<<1<<2)|0)|0)>>2],(0|(i=0|l[(u=s+8|0)>>2]))==(0|r)?(e=d&~(1<<a),l[1356]=e):(l[i+12>>2]=r,l[e>>2]=i,e=d),o=(I=a<<3)-c|0,l[s+4>>2]=3|c,l[4+(n=s+c|0)>>2]=1|o,l[s+I>>2]=o,0|A&&(a=0|l[1361],i=5464+((r=A>>>3)<<1<<2)|0,e&(r=1<<r)?r=0|l[(e=i+8|0)>>2]:(l[1356]=e|r,r=i,e=i+8|0),l[e>>2]=a,l[r+12>>2]=a,l[a+8>>2]=r,l[a+12>>2]=i),l[1358]=o,l[1361]=n,w=t,0|(I=u);if(s=0|l[1357]){for(i=f=0|l[5728+(((a=(f=(n=(f=(s&0-s)-1|0)>>>12&16)?f>>>n:f)>>>5&8)|n|(o=(f=a?f>>>a:f)>>>2&4)|(u=(f=o?f>>>o:f)>>>1&2)|(i=(f=u?f>>>u:f)>>>1&1))+(i?f>>>i:f)<<2)>>2],u=f,f=(-8&l[f+4>>2])-c|0;(e=0|l[i+16>>2])||(e=0|l[i+20>>2]);)i=e,u=(n=(o=(-8&l[e+4>>2])-c|0)>>>0<f>>>0)?e:u,f=n?o:f;if((o=u+c|0)>>>0>u>>>0){n=0|l[u+24>>2],r=0|l[u+12>>2];do{if((0|r)==(0|u)){if(!(r=0|l[(e=u+20|0)>>2])&&!(r=0|l[(e=u+16|0)>>2])){i=0;break}for(;;)if(i=0|l[(a=r+20|0)>>2])r=i,e=a;else{if(!(i=0|l[(a=r+16|0)>>2]))break;r=i,e=a}l[e>>2]=0,i=r}else i=0|l[u+8>>2],l[i+12>>2]=r,l[r+8>>2]=i,i=r}while(0);do{if(0|n){if(r=0|l[u+28>>2],(0|u)==(0|l[(e=5728+(r<<2)|0)>>2])){if(l[e>>2]=i,!i){l[1357]=s&~(1<<r);break}}else if(l[((0|l[(I=n+16|0)>>2])==(0|u)?I:n+20|0)>>2]=i,!i)break;l[i+24>>2]=n,0|(r=0|l[u+16>>2])&&(l[i+16>>2]=r,l[r+24>>2]=i),0|(r=0|l[u+20>>2])&&(l[i+20>>2]=r,l[r+24>>2]=i)}}while(0);return f>>>0<16?(I=f+c|0,l[u+4>>2]=3|I,l[(I=u+I+4|0)>>2]=1|l[I>>2]):(l[u+4>>2]=3|c,l[o+4>>2]=1|f,l[o+f>>2]=f,0|A&&(a=0|l[1361],i=5464+((r=A>>>3)<<1<<2)|0,(r=1<<r)&d?r=0|l[(e=i+8|0)>>2]:(l[1356]=r|d,r=i,e=i+8|0),l[e>>2]=a,l[r+12>>2]=a,l[a+8>>2]=r,l[a+12>>2]=i),l[1358]=f,l[1361]=o),w=t,0|(I=u+8|0)}d=c}else d=c}else d=c}else if(e>>>0<=4294967231)if(c=-8&(e=e+11|0),a=0|l[1357]){n=0-c|0,f=(e>>>=8)?c>>>0>16777215?31:1&((p=7+(f=14-((u=(u=520192+(f=e<<(d=(d=e+1048320|0)>>>16&8))|0)>>>16&4)|d|(p=(p=245760+(f<<=u)|0)>>>16&2))+((f<<=p)>>>15)|0)|0)?c>>>p:c)|f<<1:0,i=0|l[5728+(f<<2)>>2];e:do{if(i)for(e=0,u=c<<(31==(0|f)?0:25-(f>>>1)|0),s=0;;){if((o=(-8&l[i+4>>2])-c|0)>>>0<n>>>0){if(!o){e=i,n=0,p=65;break e}e=i,n=o}if(s=0==(0|(p=0|l[i+20>>2]))|(0|p)==(0|(i=0|l[i+16+(u>>>31<<2)>>2]))?s:p,!i){i=s,p=61;break}u<<=1}else i=0,e=0,p=61}while(0);if(61==(0|p)){if(0==(0|i)&0==(0|e)){if(!(e=((e=2<<f)|0-e)&a)){d=c;break}i=(e&0-e)-1|0,e=0,i=0|l[5728+(((s=(i=(o=i>>>12&16)?i>>>o:i)>>>5&8)|o|(u=(i=s?i>>>s:i)>>>2&4)|(f=(i=u?i>>>u:i)>>>1&2)|(d=(i=f?i>>>f:i)>>>1&1))+(d?i>>>d:i)<<2)>>2]}i?p=65:(u=e,o=n)}if(65==(0|p))for(s=i;;){if(n=(i=(d=(-8&l[s+4>>2])-c|0)>>>0<n>>>0)?d:n,e=i?s:e,(i=0|l[s+16>>2])||(i=0|l[s+20>>2]),!i){u=e,o=n;break}s=i}if(0!=(0|u)&&o>>>0<((0|l[1358])-c|0)>>>0&&(A=u+c|0)>>>0>u>>>0){s=0|l[u+24>>2],r=0|l[u+12>>2];do{if((0|r)==(0|u)){if(!(r=0|l[(e=u+20|0)>>2])&&!(r=0|l[(e=u+16|0)>>2])){r=0;break}for(;;)if(i=0|l[(n=r+20|0)>>2])r=i,e=n;else{if(!(i=0|l[(n=r+16|0)>>2]))break;r=i,e=n}l[e>>2]=0}else I=0|l[u+8>>2],l[I+12>>2]=r,l[r+8>>2]=I}while(0);do{if(s){if(e=0|l[u+28>>2],(0|u)==(0|l[(i=5728+(e<<2)|0)>>2])){if(l[i>>2]=r,!r){a&=~(1<<e),l[1357]=a;break}}else if(l[((0|l[(I=s+16|0)>>2])==(0|u)?I:s+20|0)>>2]=r,!r)break;l[r+24>>2]=s,0|(e=0|l[u+16>>2])&&(l[r+16>>2]=e,l[e+24>>2]=r),(e=0|l[u+20>>2])&&(l[r+20>>2]=e,l[e+24>>2]=r)}}while(0);e:do{if(o>>>0<16)I=o+c|0,l[u+4>>2]=3|I,l[(I=u+I+4|0)>>2]=1|l[I>>2];else{if(l[u+4>>2]=3|c,l[A+4>>2]=1|o,l[A+o>>2]=o,r=o>>>3,o>>>0<256){i=5464+(r<<1<<2)|0,(e=0|l[1356])&(r=1<<r)?r=0|l[(e=i+8|0)>>2]:(l[1356]=e|r,r=i,e=i+8|0),l[e>>2]=A,l[r+12>>2]=A,l[A+8>>2]=r,l[A+12>>2]=i;break}if(r=5728+((i=(r=o>>>8)?o>>>0>16777215?31:1&((I=7+(i=14-((g=(g=520192+(i=r<<(_=(_=r+1048320|0)>>>16&8))|0)>>>16&4)|_|(I=(I=245760+(i<<=g)|0)>>>16&2))+((i<<=I)>>>15)|0)|0)?o>>>I:o)|i<<1:0)<<2)|0,l[A+28>>2]=i,l[4+(e=A+16|0)>>2]=0,l[e>>2]=0,!(a&(e=1<<i))){l[1357]=a|e,l[r>>2]=A,l[A+24>>2]=r,l[A+12>>2]=A,l[A+8>>2]=A;break}r=0|l[r>>2];t:do{if((-8&l[r+4>>2]|0)!=(0|o)){for(a=o<<(31==(0|i)?0:25-(i>>>1)|0);e=0|l[(i=r+16+(a>>>31<<2)|0)>>2];){if((-8&l[e+4>>2]|0)==(0|o)){r=e;break t}a<<=1,r=e}l[i>>2]=A,l[A+24>>2]=r,l[A+12>>2]=A,l[A+8>>2]=A;break e}}while(0);I=0|l[(_=r+8|0)>>2],l[I+12>>2]=A,l[_>>2]=A,l[A+8>>2]=I,l[A+12>>2]=r,l[A+24>>2]=0}}while(0);return w=t,0|(I=u+8|0)}d=c}else d=c;else d=-1}while(0);if((i=0|l[1358])>>>0>=d>>>0)return r=i-d|0,e=0|l[1361],r>>>0>15?(I=e+d|0,l[1361]=I,l[1358]=r,l[I+4>>2]=1|r,l[e+i>>2]=r,l[e+4>>2]=3|d):(l[1358]=0,l[1361]=0,l[e+4>>2]=3|i,l[(I=e+i+4|0)>>2]=1|l[I>>2]),w=t,0|(I=e+8|0);if((o=0|l[1359])>>>0>d>>>0)return g=o-d|0,l[1359]=g,_=(I=0|l[1362])+d|0,l[1362]=_,l[_+4>>2]=1|g,l[I+4>>2]=3|d,w=t,0|(I=I+8|0);if(0|l[1474]?e=0|l[1476]:(l[1476]=4096,l[1475]=4096,l[1477]=-1,l[1478]=-1,l[1479]=0,l[1467]=0,l[1474]=-16&h^1431655768,e=4096),u=d+48|0,(c=(s=e+(f=d+47|0)|0)&(n=0-e|0))>>>0<=d>>>0)return w=t,0|(I=0);if(0|(e=0|l[1466])&&(h=(A=0|l[1464])+c|0)>>>0<=A>>>0|h>>>0>e>>>0)return w=t,0|(I=0);e:do{if(4&l[1467])r=0,p=143;else{i=0|l[1362];t:do{if(i){for(a=5872;!((h=0|l[a>>2])>>>0<=i>>>0&&(h+(0|l[a+4>>2])|0)>>>0>i>>>0);){if(!(e=0|l[a+8>>2])){p=128;break t}a=e}if((r=s-o&n)>>>0<2147483647)if((0|(e=0|Oe(0|r)))==((0|l[a>>2])+(0|l[a+4>>2])|0)){if(-1!=(0|e)){o=r,s=e,p=145;break e}}else a=e,p=136;else r=0}else p=128}while(0);do{if(128==(0|p))if(-1!=(0|(i=0|Oe(0)))&&(r=i,b=(r=(0==((b=(m=0|l[1475])-1|0)&r|0)?0:(b+r&0-m)-r|0)+c|0)+(m=0|l[1464])|0,r>>>0>d>>>0&r>>>0<2147483647)){if(0|(h=0|l[1466])&&b>>>0<=m>>>0|b>>>0>h>>>0){r=0;break}if((0|(e=0|Oe(0|r)))==(0|i)){o=r,s=i,p=145;break e}a=e,p=136}else r=0}while(0);do{if(136==(0|p)){if(i=0-r|0,!(u>>>0>r>>>0&r>>>0<2147483647&-1!=(0|a))){if(-1==(0|a)){r=0;break}o=r,s=a,p=145;break e}if((e=f-r+(e=0|l[1476])&0-e)>>>0>=2147483647){o=r,s=a,p=145;break e}if(-1==(0|Oe(0|e))){Oe(0|i),r=0;break}o=e+r|0,s=a,p=145;break e}}while(0);l[1467]=4|l[1467],p=143}}while(0);if(143==(0|p)&&c>>>0<2147483647&&!(-1==(0|(g=0|Oe(0|c)))|1^(v=(y=(b=0|Oe(0))-g|0)>>>0>(d+40|0)>>>0)|g>>>0<b>>>0&-1!=(0|g)&-1!=(0|b)^1)&&(o=v?y:r,s=g,p=145),145==(0|p)){r=(0|l[1464])+o|0,l[1464]=r,r>>>0>(0|l[1465])>>>0&&(l[1465]=r),f=0|l[1362];e:do{if(f){for(r=5872;;){if((0|s)==((e=0|l[r>>2])+(i=0|l[r+4>>2])|0)){p=154;break}if(!(a=0|l[r+8>>2]))break;r=a}if(154==(0|p)&&(_=r+4|0,0==(8&l[r+12>>2]|0))&&s>>>0>f>>>0&e>>>0<=f>>>0){l[_>>2]=i+o,_=f+(g=0==(7&(g=f+8|0)|0)?0:0-g&7)|0,g=(I=(0|l[1359])+o|0)-g|0,l[1362]=_,l[1359]=g,l[_+4>>2]=1|g,l[f+I+4>>2]=40,l[1363]=l[1478];break}for(s>>>0<(0|l[1360])>>>0&&(l[1360]=s),i=s+o|0,r=5872;;){if((0|l[r>>2])==(0|i)){p=162;break}if(!(e=0|l[r+8>>2]))break;r=e}if(162==(0|p)&&0==(8&l[r+12>>2]|0)){l[r>>2]=s,l[(A=r+4|0)>>2]=(0|l[A>>2])+o,c=(A=s+(0==(7&(A=s+8|0)|0)?0:0-A&7)|0)+d|0,u=(r=i+(0==(7&(r=i+8|0)|0)?0:0-r&7)|0)-A-d|0,l[A+4>>2]=3|d;t:do{if((0|f)==(0|r))I=(0|l[1359])+u|0,l[1359]=I,l[1362]=c,l[c+4>>2]=1|I;else{if((0|l[1361])==(0|r)){I=(0|l[1358])+u|0,l[1358]=I,l[1361]=c,l[c+4>>2]=1|I,l[c+I>>2]=I;break}if(1==(3&(e=0|l[r+4>>2])|0)){o=-8&e,a=e>>>3;r:do{if(e>>>0<256){if(e=0|l[r+8>>2],(0|(i=0|l[r+12>>2]))==(0|e)){l[1356]=l[1356]&~(1<<a);break}l[e+12>>2]=i,l[i+8>>2]=e;break}s=0|l[r+24>>2],e=0|l[r+12>>2];do{if((0|e)==(0|r)){if(e=0|l[(a=4+(i=r+16|0)|0)>>2])i=a;else if(!(e=0|l[i>>2])){e=0;break}for(;;)if(a=0|l[(n=e+20|0)>>2])e=a,i=n;else{if(!(a=0|l[(n=e+16|0)>>2]))break;e=a,i=n}l[i>>2]=0}else I=0|l[r+8>>2],l[I+12>>2]=e,l[e+8>>2]=I}while(0);if(!s)break;a=5728+((i=0|l[r+28>>2])<<2)|0;do{if((0|l[a>>2])==(0|r)){if(l[a>>2]=e,0|e)break;l[1357]=l[1357]&~(1<<i);break r}if(l[((0|l[(I=s+16|0)>>2])==(0|r)?I:s+20|0)>>2]=e,!e)break r}while(0);if(l[e+24>>2]=s,0|(a=0|l[(i=r+16|0)>>2])&&(l[e+16>>2]=a,l[a+24>>2]=e),!(i=0|l[i+4>>2]))break;l[e+20>>2]=i,l[i+24>>2]=e}while(0);r=r+o|0,n=o+u|0}else n=u;if(l[(r=r+4|0)>>2]=-2&l[r>>2],l[c+4>>2]=1|n,l[c+n>>2]=n,r=n>>>3,n>>>0<256){i=5464+(r<<1<<2)|0,(e=0|l[1356])&(r=1<<r)?r=0|l[(e=i+8|0)>>2]:(l[1356]=e|r,r=i,e=i+8|0),l[e>>2]=c,l[r+12>>2]=c,l[c+8>>2]=r,l[c+12>>2]=i;break}r=n>>>8;do{if(r){if(n>>>0>16777215){a=31;break}a=1&((I=7+(a=14-((g=(g=520192+(a=r<<(_=(_=r+1048320|0)>>>16&8))|0)>>>16&4)|_|(I=(I=245760+(a<<=g)|0)>>>16&2))+((a<<=I)>>>15)|0)|0)?n>>>I:n)|a<<1}else a=0}while(0);if(r=5728+(a<<2)|0,l[c+28>>2]=a,l[4+(e=c+16|0)>>2]=0,l[e>>2]=0,!((e=0|l[1357])&(i=1<<a))){l[1357]=e|i,l[r>>2]=c,l[c+24>>2]=r,l[c+12>>2]=c,l[c+8>>2]=c;break}r=0|l[r>>2];r:do{if((-8&l[r+4>>2]|0)!=(0|n)){for(a=n<<(31==(0|a)?0:25-(a>>>1)|0);e=0|l[(i=r+16+(a>>>31<<2)|0)>>2];){if((-8&l[e+4>>2]|0)==(0|n)){r=e;break r}a<<=1,r=e}l[i>>2]=c,l[c+24>>2]=r,l[c+12>>2]=c,l[c+8>>2]=c;break t}}while(0);I=0|l[(_=r+8|0)>>2],l[I+12>>2]=c,l[_>>2]=c,l[c+8>>2]=I,l[c+12>>2]=r,l[c+24>>2]=0}}while(0);return w=t,0|(I=A+8|0)}for(r=5872;!((e=0|l[r>>2])>>>0<=f>>>0&&(I=e+(0|l[r+4>>2])|0)>>>0>f>>>0);)r=0|l[r+8>>2];r=(e=(e=(n=I+-47|0)+(0==(7&(e=n+8|0)|0)?0:0-e&7)|0)>>>0<(n=f+16|0)>>>0?f:e)+8|0,_=s+(g=0==(7&(g=s+8|0)|0)?0:0-g&7)|0,g=(i=o+-40|0)-g|0,l[1362]=_,l[1359]=g,l[_+4>>2]=1|g,l[s+i+4>>2]=40,l[1363]=l[1478],l[(i=e+4|0)>>2]=27,l[r>>2]=l[1468],l[r+4>>2]=l[1469],l[r+8>>2]=l[1470],l[r+12>>2]=l[1471],l[1468]=s,l[1469]=o,l[1471]=0,l[1470]=r,r=e+24|0;do{_=r,l[(r=r+4|0)>>2]=7}while((_+8|0)>>>0<I>>>0);if((0|e)!=(0|f)){if(s=e-f|0,l[i>>2]=-2&l[i>>2],l[f+4>>2]=1|s,l[e>>2]=s,r=s>>>3,s>>>0<256){i=5464+(r<<1<<2)|0,(e=0|l[1356])&(r=1<<r)?r=0|l[(e=i+8|0)>>2]:(l[1356]=e|r,r=i,e=i+8|0),l[e>>2]=f,l[r+12>>2]=f,l[f+8>>2]=r,l[f+12>>2]=i;break}if(i=5728+((a=(r=s>>>8)?s>>>0>16777215?31:1&((I=7+(a=14-((g=(g=520192+(a=r<<(_=(_=r+1048320|0)>>>16&8))|0)>>>16&4)|_|(I=(I=245760+(a<<=g)|0)>>>16&2))+((a<<=I)>>>15)|0)|0)?s>>>I:s)|a<<1:0)<<2)|0,l[f+28>>2]=a,l[f+20>>2]=0,l[n>>2]=0,!((r=0|l[1357])&(e=1<<a))){l[1357]=r|e,l[i>>2]=f,l[f+24>>2]=i,l[f+12>>2]=f,l[f+8>>2]=f;break}r=0|l[i>>2];t:do{if((-8&l[r+4>>2]|0)!=(0|s)){for(a=s<<(31==(0|a)?0:25-(a>>>1)|0);e=0|l[(i=r+16+(a>>>31<<2)|0)>>2];){if((-8&l[e+4>>2]|0)==(0|s)){r=e;break t}a<<=1,r=e}l[i>>2]=f,l[f+24>>2]=r,l[f+12>>2]=f,l[f+8>>2]=f;break e}}while(0);I=0|l[(_=r+8|0)>>2],l[I+12>>2]=f,l[_>>2]=f,l[f+8>>2]=I,l[f+12>>2]=r,l[f+24>>2]=0}}else 0==(0|(I=0|l[1360]))|s>>>0<I>>>0&&(l[1360]=s),l[1468]=s,l[1469]=o,l[1471]=0,l[1365]=l[1474],l[1364]=-1,l[1369]=5464,l[1368]=5464,l[1371]=5472,l[1370]=5472,l[1373]=5480,l[1372]=5480,l[1375]=5488,l[1374]=5488,l[1377]=5496,l[1376]=5496,l[1379]=5504,l[1378]=5504,l[1381]=5512,l[1380]=5512,l[1383]=5520,l[1382]=5520,l[1385]=5528,l[1384]=5528,l[1387]=5536,l[1386]=5536,l[1389]=5544,l[1388]=5544,l[1391]=5552,l[1390]=5552,l[1393]=5560,l[1392]=5560,l[1395]=5568,l[1394]=5568,l[1397]=5576,l[1396]=5576,l[1399]=5584,l[1398]=5584,l[1401]=5592,l[1400]=5592,l[1403]=5600,l[1402]=5600,l[1405]=5608,l[1404]=5608,l[1407]=5616,l[1406]=5616,l[1409]=5624,l[1408]=5624,l[1411]=5632,l[1410]=5632,l[1413]=5640,l[1412]=5640,l[1415]=5648,l[1414]=5648,l[1417]=5656,l[1416]=5656,l[1419]=5664,l[1418]=5664,l[1421]=5672,l[1420]=5672,l[1423]=5680,l[1422]=5680,l[1425]=5688,l[1424]=5688,l[1427]=5696,l[1426]=5696,l[1429]=5704,l[1428]=5704,l[1431]=5712,l[1430]=5712,_=s+(g=0==(7&(g=s+8|0)|0)?0:0-g&7)|0,g=(I=o+-40|0)-g|0,l[1362]=_,l[1359]=g,l[_+4>>2]=1|g,l[s+I+4>>2]=40,l[1363]=l[1478]}while(0);if((r=0|l[1359])>>>0>d>>>0)return g=r-d|0,l[1359]=g,_=(I=0|l[1362])+d|0,l[1362]=_,l[_+4>>2]=1|g,l[I+4>>2]=3|d,w=t,0|(I=I+8|0)}return l[(I=5984)>>2]=12,w=t,0|(I=0)}function $(e){var t=0,r=0,i=0,a=0,n=0,s=0,o=0,u=0;if(e|=0){r=e+-8|0,a=0|l[1360],u=r+(t=-8&(e=0|l[e+-4>>2]))|0;do{if(1&e)o=r,s=r;else{if(i=0|l[r>>2],!(3&e))return;if(n=i+t|0,(s=r+(0-i)|0)>>>0<a>>>0)return;if((0|l[1361])==(0|s)){if(3!=(3&(t=0|l[(e=u+4|0)>>2])|0)){o=s,t=n;break}return l[1358]=n,l[e>>2]=-2&t,l[s+4>>2]=1|n,void(l[s+n>>2]=n)}if(r=i>>>3,i>>>0<256){if(e=0|l[s+8>>2],(0|(t=0|l[s+12>>2]))==(0|e)){l[1356]=l[1356]&~(1<<r),o=s,t=n;break}l[e+12>>2]=t,l[t+8>>2]=e,o=s,t=n;break}a=0|l[s+24>>2],e=0|l[s+12>>2];do{if((0|e)==(0|s)){if(e=0|l[(r=4+(t=s+16|0)|0)>>2])t=r;else if(!(e=0|l[t>>2])){e=0;break}for(;;)if(r=0|l[(i=e+20|0)>>2])e=r,t=i;else{if(!(r=0|l[(i=e+16|0)>>2]))break;e=r,t=i}l[t>>2]=0}else o=0|l[s+8>>2],l[o+12>>2]=e,l[e+8>>2]=o}while(0);if(a){if(t=0|l[s+28>>2],(0|l[(r=5728+(t<<2)|0)>>2])==(0|s)){if(l[r>>2]=e,!e){l[1357]=l[1357]&~(1<<t),o=s,t=n;break}}else if(l[((0|l[(o=a+16|0)>>2])==(0|s)?o:a+20|0)>>2]=e,!e){o=s,t=n;break}l[e+24>>2]=a,0|(r=0|l[(t=s+16|0)>>2])&&(l[e+16>>2]=r,l[r+24>>2]=e),(t=0|l[t+4>>2])?(l[e+20>>2]=t,l[t+24>>2]=e,o=s,t=n):(o=s,t=n)}else o=s,t=n}}while(0);if(!(s>>>0>=u>>>0)&&1&(i=0|l[(e=u+4|0)>>2])){if(2&i)l[e>>2]=-2&i,l[o+4>>2]=1|t,l[s+t>>2]=t,a=t;else{if((0|l[1362])==(0|u)){if(u=(0|l[1359])+t|0,l[1359]=u,l[1362]=o,l[o+4>>2]=1|u,(0|o)!=(0|l[1361]))return;return l[1361]=0,void(l[1358]=0)}if((0|l[1361])==(0|u))return u=(0|l[1358])+t|0,l[1358]=u,l[1361]=s,l[o+4>>2]=1|u,void(l[s+u>>2]=u);a=(-8&i)+t|0,r=i>>>3;do{if(i>>>0<256){if(t=0|l[u+8>>2],(0|(e=0|l[u+12>>2]))==(0|t)){l[1356]=l[1356]&~(1<<r);break}l[t+12>>2]=e,l[e+8>>2]=t;break}n=0|l[u+24>>2],e=0|l[u+12>>2];do{if((0|e)==(0|u)){if(e=0|l[(r=4+(t=u+16|0)|0)>>2])t=r;else if(!(e=0|l[t>>2])){r=0;break}for(;;)if(r=0|l[(i=e+20|0)>>2])e=r,t=i;else{if(!(r=0|l[(i=e+16|0)>>2]))break;e=r,t=i}l[t>>2]=0,r=e}else r=0|l[u+8>>2],l[r+12>>2]=e,l[e+8>>2]=r,r=e}while(0);if(0|n){if(e=0|l[u+28>>2],(0|l[(t=5728+(e<<2)|0)>>2])==(0|u)){if(l[t>>2]=r,!r){l[1357]=l[1357]&~(1<<e);break}}else if(l[((0|l[(i=n+16|0)>>2])==(0|u)?i:n+20|0)>>2]=r,!r)break;l[r+24>>2]=n,0|(t=0|l[(e=u+16|0)>>2])&&(l[r+16>>2]=t,l[t+24>>2]=r),0|(e=0|l[e+4>>2])&&(l[r+20>>2]=e,l[e+24>>2]=r)}}while(0);if(l[o+4>>2]=1|a,l[s+a>>2]=a,(0|o)==(0|l[1361]))return void(l[1358]=a)}if(e=a>>>3,a>>>0<256)return r=5464+(e<<1<<2)|0,(t=0|l[1356])&(e=1<<e)?e=0|l[(t=r+8|0)>>2]:(l[1356]=t|e,e=r,t=r+8|0),l[t>>2]=o,l[e+12>>2]=o,l[o+8>>2]=e,void(l[o+12>>2]=r);e=5728+((i=(e=a>>>8)?a>>>0>16777215?31:1&((u=7+(i=14-((n=(n=520192+(i=e<<(s=(s=e+1048320|0)>>>16&8))|0)>>>16&4)|s|(u=(u=245760+(i<<=n)|0)>>>16&2))+((i<<=u)>>>15)|0)|0)?a>>>u:a)|i<<1:0)<<2)|0,l[o+28>>2]=i,l[o+20>>2]=0,l[o+16>>2]=0,t=0|l[1357],r=1<<i;e:do{if(t&r){e=0|l[e>>2];t:do{if((-8&l[e+4>>2]|0)!=(0|a)){for(i=a<<(31==(0|i)?0:25-(i>>>1)|0);t=0|l[(r=e+16+(i>>>31<<2)|0)>>2];){if((-8&l[t+4>>2]|0)==(0|a)){e=t;break t}i<<=1,e=t}l[r>>2]=o,l[o+24>>2]=e,l[o+12>>2]=o,l[o+8>>2]=o;break e}}while(0);u=0|l[(s=e+8|0)>>2],l[u+12>>2]=o,l[s>>2]=o,l[o+8>>2]=u,l[o+12>>2]=e,l[o+24>>2]=0}else l[1357]=t|r,l[e>>2]=o,l[o+24>>2]=e,l[o+12>>2]=o,l[o+8>>2]=o}while(0);if(u=(0|l[1364])-1|0,l[1364]=u,!(0|u)){for(e=5880;e=0|l[e>>2];)e=e+8|0;l[1364]=-1}}}}function ee(e,t){var r=0,i=0,a=0,n=0,s=0,o=0;o=(e|=0)+(t|=0)|0,r=0|l[e+4>>2];do{if(1&r)s=e;else{if(a=0|l[e>>2],!(3&r))return;if(s=e+(0-a)|0,t=a+t|0,(0|l[1361])==(0|s)){if(3!=(3&(r=0|l[(e=o+4|0)>>2])|0))break;return l[1358]=t,l[e>>2]=-2&r,l[s+4>>2]=1|t,void(l[o>>2]=t)}if(i=a>>>3,a>>>0<256){if(e=0|l[s+8>>2],(0|(r=0|l[s+12>>2]))==(0|e)){l[1356]=l[1356]&~(1<<i);break}l[e+12>>2]=r,l[r+8>>2]=e;break}n=0|l[s+24>>2],e=0|l[s+12>>2];do{if((0|e)==(0|s)){if(e=0|l[(i=4+(r=s+16|0)|0)>>2])r=i;else if(!(e=0|l[r>>2])){e=0;break}for(;;)if(i=0|l[(a=e+20|0)>>2])e=i,r=a;else{if(!(i=0|l[(a=e+16|0)>>2]))break;e=i,r=a}l[r>>2]=0}else a=0|l[s+8>>2],l[a+12>>2]=e,l[e+8>>2]=a}while(0);if(n){if(r=0|l[s+28>>2],(0|l[(i=5728+(r<<2)|0)>>2])==(0|s)){if(l[i>>2]=e,!e){l[1357]=l[1357]&~(1<<r);break}}else if(l[((0|l[(a=n+16|0)>>2])==(0|s)?a:n+20|0)>>2]=e,!e)break;l[e+24>>2]=n,0|(i=0|l[(r=s+16|0)>>2])&&(l[e+16>>2]=i,l[i+24>>2]=e),(r=0|l[r+4>>2])&&(l[e+20>>2]=r,l[r+24>>2]=e)}}}while(0);if(2&(i=0|l[(e=o+4|0)>>2]))l[e>>2]=-2&i,l[s+4>>2]=1|t,l[s+t>>2]=t,a=t;else{if((0|l[1362])==(0|o)){if(o=(0|l[1359])+t|0,l[1359]=o,l[1362]=s,l[s+4>>2]=1|o,(0|s)!=(0|l[1361]))return;return l[1361]=0,void(l[1358]=0)}if((0|l[1361])==(0|o))return o=(0|l[1358])+t|0,l[1358]=o,l[1361]=s,l[s+4>>2]=1|o,void(l[s+o>>2]=o);a=(-8&i)+t|0,r=i>>>3;do{if(i>>>0<256){if(e=0|l[o+8>>2],(0|(t=0|l[o+12>>2]))==(0|e)){l[1356]=l[1356]&~(1<<r);break}l[e+12>>2]=t,l[t+8>>2]=e;break}n=0|l[o+24>>2],t=0|l[o+12>>2];do{if((0|t)==(0|o)){if(t=0|l[(r=4+(e=o+16|0)|0)>>2])e=r;else if(!(t=0|l[e>>2])){r=0;break}for(;;)if(r=0|l[(i=t+20|0)>>2])t=r,e=i;else{if(!(r=0|l[(i=t+16|0)>>2]))break;t=r,e=i}l[e>>2]=0,r=t}else r=0|l[o+8>>2],l[r+12>>2]=t,l[t+8>>2]=r,r=t}while(0);if(0|n){if(t=0|l[o+28>>2],(0|l[(e=5728+(t<<2)|0)>>2])==(0|o)){if(l[e>>2]=r,!r){l[1357]=l[1357]&~(1<<t);break}}else if(l[((0|l[(i=n+16|0)>>2])==(0|o)?i:n+20|0)>>2]=r,!r)break;l[r+24>>2]=n,0|(e=0|l[(t=o+16|0)>>2])&&(l[r+16>>2]=e,l[e+24>>2]=r),0|(t=0|l[t+4>>2])&&(l[r+20>>2]=t,l[t+24>>2]=r)}}while(0);if(l[s+4>>2]=1|a,l[s+a>>2]=a,(0|s)==(0|l[1361]))return void(l[1358]=a)}if(t=a>>>3,a>>>0<256)return r=5464+(t<<1<<2)|0,(e=0|l[1356])&(t=1<<t)?t=0|l[(e=r+8|0)>>2]:(l[1356]=e|t,t=r,e=r+8|0),l[e>>2]=s,l[t+12>>2]=s,l[s+8>>2]=t,void(l[s+12>>2]=r);if(t=5728+((i=(t=a>>>8)?a>>>0>16777215?31:1&((o=7+(i=14-((r=(r=520192+(i=t<<(n=(n=t+1048320|0)>>>16&8))|0)>>>16&4)|n|(o=(o=245760+(i<<=r)|0)>>>16&2))+((i<<=o)>>>15)|0)|0)?a>>>o:a)|i<<1:0)<<2)|0,l[s+28>>2]=i,l[s+20>>2]=0,l[s+16>>2]=0,!((e=0|l[1357])&(r=1<<i)))return l[1357]=e|r,l[t>>2]=s,l[s+24>>2]=t,l[s+12>>2]=s,void(l[s+8>>2]=s);t=0|l[t>>2];e:do{if((-8&l[t+4>>2]|0)!=(0|a)){for(i=a<<(31==(0|i)?0:25-(i>>>1)|0);e=0|l[(r=t+16+(i>>>31<<2)|0)>>2];){if((-8&l[e+4>>2]|0)==(0|a)){t=e;break e}i<<=1,t=e}return l[r>>2]=s,l[s+24>>2]=t,l[s+12>>2]=s,void(l[s+8>>2]=s)}}while(0);o=0|l[(n=t+8|0)>>2],l[o+12>>2]=s,l[n>>2]=s,l[s+8>>2]=o,l[s+12>>2]=t,l[s+24>>2]=0}function te(e,t){t|=0;var r,i=0,a=0,n=0,s=0,o=0;if((i=(e|=0)>>>0>16?e:16)+-1&i)for(e=16;e>>>0<i>>>0;)e<<=1;else e=i;if((-64-e|0)>>>0<=t>>>0)return l[(s=5984)>>2]=12,0|(s=0);if(!(i=0|q(12+(r=t>>>0<11?16:t+11&-8)+e|0)))return 0|(s=0);n=i+-8|0;do{if(e+-1&i){if(t=(a=((a=(i+e+-1&0-e)-8|0)-(t=n)|0)>>>0>15?a:a+e|0)-t|0,i=(-8&(o=0|l[(e=i+-4|0)>>2]))-t|0,3&o){l[(o=a+4|0)>>2]=i|1&l[o>>2]|2,l[(i=a+i+4|0)>>2]=1|l[i>>2],l[e>>2]=t|1&l[e>>2]|2,l[o>>2]=1|l[o>>2],ee(n,t),e=a,t=a;break}l[a>>2]=(0|l[n>>2])+t,l[a+4>>2]=i,e=a,t=a;break}e=n,t=n}while(0);return 3&(i=0|l[(e=e+4|0)>>2])|0&&(s=-8&i)>>>0>(r+16|0)>>>0&&(o=s-r|0,n=t+r|0,l[e>>2]=r|1&i|2,l[n+4>>2]=3|o,l[(s=t+s+4|0)>>2]=1|l[s>>2],ee(n,o)),0|(o=t+8|0)}function re(e,t,r){e|=0,t|=0,r|=0;var i=0;do{if(8!=(0|t)){if(0!=(3&t|0)|0==(0|(i=t>>>2)))return 0|(e=22);if(i+1073741823&i|0)return 0|(e=22);if((-64-t|0)>>>0<r>>>0)return 0|(e=12);t=0|te(t>>>0>16?t:16,r);break}t=0|q(r)}while(0);return t?(l[e>>2]=t,0|(e=0)):0|(e=12)}function ie(e,t,r){t|=0,r|=0;var i,a,n,s,o,u=0,f=0,c=0,A=0,d=0,h=0;o=w,w=w+48|0,s=o+32|0,c=o+16|0,f=o,u=0|l[(a=28+(e|=0)|0)>>2],l[f>>2]=u,u=(0|l[(n=e+20|0)>>2])-u|0,l[f+4>>2]=u,l[f+8>>2]=t,l[f+12>>2]=r,u=u+r|0,i=e+60|0,l[c>>2]=l[i>>2],l[c+4>>2]=f,l[c+8>>2]=2,c=0|ae(0|T(146,0|c));e:do{if((0|u)!=(0|c)){for(t=2;!((0|c)<0);)if(u=u-c|0,t=t+((d=c>>>0>(h=0|l[f+4>>2])>>>0)<<31>>31)|0,h=c-(d?h:0)|0,l[(f=d?f+8|0:f)>>2]=(0|l[f>>2])+h,l[(d=f+4|0)>>2]=(0|l[d>>2])-h,l[s>>2]=l[i>>2],l[s+4>>2]=f,l[s+8>>2]=t,(0|u)==(0|(c=0|ae(0|T(146,0|s))))){A=3;break e}l[e+16>>2]=0,l[a>>2]=0,l[n>>2]=0,l[e>>2]=32|l[e>>2],r=2==(0|t)?0:r-(0|l[f+4>>2])|0}else A=3}while(0);return 3==(0|A)&&(h=0|l[e+44>>2],l[e+16>>2]=h+(0|l[e+48>>2]),l[a>>2]=h,l[n>>2]=h),w=o,0|r}function ae(e){return(e|=0)>>>0>4294963200&&(l[1496]=0-e,e=-1),0|e}function ne(){return 5984}function se(e,t){t|=0;var r=0,i=0;if(r=0|a[(e|=0)>>0],i=0|a[t>>0],r<<24>>24==0||r<<24>>24!=i<<24>>24)e=i;else{do{t=t+1|0,r=0|a[(e=e+1|0)>>0],i=0|a[t>>0]}while(r<<24>>24!=0&&r<<24>>24==i<<24>>24);e=i}return(255&r)-(255&e)|0}function oe(e,t,r){e|=0,t|=0;var i=0,n=0;if(r|=0){i=0|a[e>>0];e:do{if(i<<24>>24)for(;;){if(r=r+-1|0,!(i<<24>>24==(n=0|a[t>>0])<<24>>24&0!=(0|r)&n<<24>>24!=0))break e;if(t=t+1|0,!((i=0|a[(e=e+1|0)>>0])<<24>>24)){i=0;break}}else i=0}while(0);i=(255&i)-(0|f[t>>0])|0}else i=0;return 0|i}function le(e){return((e|=0)-48|0)>>>0<10|0}function ue(e,t,r,i){e|=0,t|=0,r|=0,i|=0;var n,s,o=0,u=0,f=0,c=0,A=0;s=w,w=w+128|0,o=s+124|0,f=2528,n=(u=A=s)+124|0;do{l[u>>2]=l[f>>2],u=u+4|0,f=f+4|0}while((0|u)<(0|n));return(t+-1|0)>>>0>2147483646?t?(l[(t=5984)>>2]=75,t=-1):(e=o,t=1,c=4):c=4,4==(0|c)&&(c=t>>>0>(c=-2-e|0)>>>0?c:t,l[A+48>>2]=c,l[(o=A+20|0)>>2]=e,l[A+44>>2]=e,t=e+c|0,l[(e=A+16|0)>>2]=t,l[A+28>>2]=t,t=0|fe(A,r,i),c&&(A=0|l[o>>2],a[A+(((0|A)==(0|l[e>>2]))<<31>>31)>>0]=0)),w=s,0|t}function fe(e,t,r){e|=0,t|=0,r|=0;var i,n,s,o,u,f=0,c=0,A=0,d=0,h=0,m=0,b=0;u=w,w=w+224|0,i=u+208|0,s=u+80|0,o=u,c=40+(f=n=u+160|0)|0;do{l[f>>2]=0,f=f+4|0}while((0|f)<(0|c));return l[i>>2]=l[r>>2],(0|ce(0,t,i,s,n))<0?r=-1:(l[e+76>>2],b=32&(r=0|l[e>>2]),(0|a[e+74>>0])<1&&(l[e>>2]=-33&r),0|l[(f=e+48|0)>>2]?r=0|ce(e,t,i,s,n):(A=0|l[(c=e+44|0)>>2],l[c>>2]=o,l[(d=e+28|0)>>2]=o,l[(h=e+20|0)>>2]=o,l[f>>2]=80,l[(m=e+16|0)>>2]=o+80,r=0|ce(e,t,i,s,n),A&&(He[7&l[e+36>>2]](e,0,0),r=0==(0|l[h>>2])?-1:r,l[c>>2]=A,l[f>>2]=0,l[m>>2]=0,l[d>>2]=0,l[h>>2]=0)),f=0|l[e>>2],l[e>>2]=f|b,r=0==(32&f|0)?r:-1),w=u,0|r}function ce(e,t,r,i,n){e|=0,t|=0,r|=0,i|=0,n|=0;var o,u,f,c,A,d,h,m,b,y=0,v=0,g=0,_=0,I=0,k=0,M=0,D=0,B=0,P=0,R=0,C=0,G=0,E=0,V=0;b=w,w=w+64|0,d=b+40|0,G=b,h=b+48|0,m=b+60|0,l[(A=b+56|0)>>2]=t,o=0!=(0|e),f=u=G+40|0,G=G+39|0,c=h+4|0,y=0,t=0,g=0;e:for(;;){do{do{if((0|t)>-1){if((0|y)>(2147483647-t|0)){l[(t=5984)>>2]=75,t=-1;break}t=y+t|0;break}}while(0);if(B=0|l[A>>2],!((y=0|a[B>>0])<<24>>24)){C=94;break e}v=B;t:for(;;){switch(y<<24>>24){case 37:C=10;break t;case 0:y=v;break t}R=v+1|0,l[A>>2]=R,y=0|a[R>>0],v=R}t:do{if(10==(0|C)){C=0,y=v;do{if(37!=(0|a[v+1>>0]))break t;y=y+1|0,v=v+2|0,l[A>>2]=v}while(37==(0|a[v>>0]))}}while(0);y=y-B|0,o&&Ae(e,B,y)}while(0!=(0|y));if(R=0==(0|le(0|a[1+(0|l[A>>2])>>0])),v=0|l[A>>2],R||36!=(0|a[v+2>>0])?(M=-1,I=g,y=1):(M=(0|a[v+1>>0])-48|0,I=1,y=3),y=v+y|0,l[A>>2]=y,(g=((v=0|a[y>>0])<<24>>24)-32|0)>>>0>31|0==(1<<g&75913|0))_=0;else{_=0;do{_|=1<<g,y=y+1|0,l[A>>2]=y,g=((v=0|a[y>>0])<<24>>24)-32|0}while(!(g>>>0>31|0==(1<<g&75913|0)))}if(v<<24>>24==42){if(0!=(0|le(0|a[y+1>>0]))&&(V=0|l[A>>2],36==(0|a[V+2>>0])))l[n+((0|a[(y=V+1|0)>>0])-48<<2)>>2]=10,y=0|l[i+((0|a[y>>0])-48<<3)>>2],g=1,v=V+3|0;else{if(0|I){t=-1;break}o?(R=3+(0|l[r>>2])&-4,y=0|l[R>>2],l[r>>2]=R+4):y=0,g=0,v=1+(0|l[A>>2])|0}l[A>>2]=v,P=(R=(0|y)<0)?0-y|0:y,_=R?8192|_:_,R=g}else{if((0|(y=0|de(A)))<0){t=-1;break}P=y,R=I,v=0|l[A>>2]}do{if(46==(0|a[v>>0])){if(42!=(0|a[(y=v+1|0)>>0])){l[A>>2]=y,y=0|de(A),v=0|l[A>>2];break}if(0|le(0|a[v+2>>0])&&(E=0|l[A>>2],36==(0|a[E+3>>0]))){l[n+((0|a[(y=E+2|0)>>0])-48<<2)>>2]=10,y=0|l[i+((0|a[y>>0])-48<<3)>>2],v=E+4|0,l[A>>2]=v;break}if(0|R){t=-1;break e}o?(D=3+(0|l[r>>2])&-4,y=0|l[D>>2],l[r>>2]=D+4):y=0,v=2+(0|l[A>>2])|0,l[A>>2]=v}else y=-1}while(0);for(D=0;;){if(((0|a[v>>0])-65|0)>>>0>57){t=-1;break e}if(g=v,v=v+1|0,l[A>>2]=v,((I=255&(g=0|a[(0|a[g>>0])-65+(16+(58*D|0))>>0]))-1|0)>>>0>=8)break;D=I}if(!(g<<24>>24)){t=-1;break}k=(0|M)>-1;do{if(g<<24>>24==19){if(k){t=-1;break e}C=54}else{if(k){l[n+(M<<2)>>2]=I,M=0|l[4+(k=i+(M<<3)|0)>>2],l[(C=d)>>2]=l[k>>2],l[C+4>>2]=M,C=54;break}if(!o){t=0;break e}he(d,I,r),v=0|l[A>>2],C=55}}while(0);54==(0|C)&&(C=0,o?C=55:y=0);t:do{if(55==(0|C)){C=0,v=0!=(0|D)&3==(15&(v=0|a[v+-1>>0])|0)?-33&v:v,g=-65537&_,M=0==(8192&_|0)?_:g;r:do{switch(0|v){case 110:switch((255&D)<<24>>24){case 0:case 1:case 6:l[l[d>>2]>>2]=t,y=0;break t;case 2:case 7:y=0|l[d>>2],l[y>>2]=t,l[y+4>>2]=((0|t)<0)<<31>>31,y=0;break t;case 3:s[l[d>>2]>>1]=t,y=0;break t;case 4:a[l[d>>2]>>0]=t,y=0;break t;default:y=0;break t}case 112:v=120,y=y>>>0>8?y:8,g=8|M,C=67;break;case 88:case 120:g=M,C=67;break;case 111:_=0,I=4318,y=0==(8&M|0)|(0|y)>(0|(C=f-(k=0|be(v=0|l[(g=d)>>2],g=0|l[g+4>>2],u))|0))?y:C+1|0,C=73;break;case 105:case 100:if(v=0|l[(g=d)>>2],(0|(g=0|l[g+4>>2]))<0){v=0|Ve(0,0,0|v,0|g),g=0|x(),l[(_=d)>>2]=v,l[_+4>>2]=g,_=1,I=4318,C=72;break r}_=0!=(2049&M|0)&1,I=0==(2048&M|0)?0==(1&M|0)?4318:4320:4319,C=72;break r;case 117:_=0,I=4318,v=0|l[(g=d)>>2],g=0|l[g+4>>2],C=72;break;case 99:a[G>>0]=l[d>>2],D=G,_=0,I=4318,k=1,y=f;break;case 109:v=0|ye(0|l[(v=5984)>>2]),C=77;break;case 115:v=0==(0|(v=0|l[d>>2]))?4328:v,C=77;break;case 67:l[h>>2]=l[d>>2],l[c>>2]=0,l[d>>2]=h,I=-1,C=81;break;case 83:y?(I=y,C=81):(ge(e,32,P,0,M),y=0,C=91);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:y=0|_e(e,+p[d>>3],P,y,M,v);break t;default:D=B,_=0,I=4318,k=y,g=M,y=f}}while(0);r:do{if(67==(0|C))k=0|me(D=0|l[(B=d)>>2],B=0|l[B+4>>2],u,32&v),_=(I=0==(8&g|0)|0==(0|D)&0==(0|B))?0:2,I=I?4318:4318+(v>>>4)|0,M=g,v=D,g=B,C=73;else if(72==(0|C))k=0|pe(v,g,u),C=73;else if(77==(0|C))C=0,D=v,_=0,I=4318,k=(M=0==(0|(B=0|ve(v,0,y))))?y:B-v|0,y=M?v+y|0:B;else if(81==(0|C)){for(C=0,_=0|l[d>>2],y=0;v=0|l[_>>2];){if((g=(0|(v=0|we(m,v)))<0)|v>>>0>(I-y|0)>>>0){C=85;break}if(!(I>>>0>(y=v+y|0)>>>0))break;_=_+4|0}if(85==(0|C)&&(C=0,g)){t=-1;break e}if(ge(e,32,P,y,M),y)for(g=0|l[d>>2],_=0;;){if(!(v=0|l[g>>2])){C=91;break r}if((0|(_=(v=0|we(m,v))+_|0))>(0|y)){C=91;break r}if(Ae(e,m,v),_>>>0>=y>>>0){C=91;break}g=g+4|0}else y=0,C=91}}while(0);if(73==(0|C))C=0,B=0!=(0|y)|(g=0!=(0|v)|0!=(0|g)),g=f-k+(1&(1^g))|0,D=B?k:u,k=B?(0|y)>(0|g)?y:g:0,g=(0|y)>-1?-65537&M:M,y=f;else if(91==(0|C)){C=0,ge(e,32,P,y,8192^M),y=(0|P)>(0|y)?P:y;break}ge(e,32,y=(0|P)<(0|(B=(k=(0|k)<(0|(M=y-D|0))?M:k)+_|0))?B:P,B,g),Ae(e,I,_),ge(e,48,y,B,65536^g),ge(e,48,k,M,0),Ae(e,D,M),ge(e,32,y,B,8192^g)}}while(0);g=R}e:do{if(94==(0|C)&&!e)if(g){for(t=1;y=0|l[n+(t<<2)>>2];)if(he(i+(t<<3)|0,y,r),(t=t+1|0)>>>0>=10){t=1;break e}for(;;){if(0|l[n+(t<<2)>>2]){t=-1;break e}if((t=t+1|0)>>>0>=10){t=1;break}}}else t=0}while(0);return w=b,0|t}function Ae(e,t,r){t|=0,r|=0,32&l[(e|=0)>>2]||Ce(t,r,e)}function de(e){var t=0,r=0;if(0|le(0|a[l[(e|=0)>>2]>>0])){t=0;do{r=0|l[e>>2],t=(10*t|0)-48+(0|a[r>>0])|0,r=r+1|0,l[e>>2]=r}while(0!=(0|le(0|a[r>>0])))}else t=0;return 0|t}function he(e,t,r){e|=0,t|=0,r|=0;var i=0,a=0,n=0;e:do{if(t>>>0<=20)switch(0|t){case 9:i=3+(0|l[r>>2])&-4,t=0|l[i>>2],l[r>>2]=i+4,l[e>>2]=t;break e;case 10:i=3+(0|l[r>>2])&-4,t=0|l[i>>2],l[r>>2]=i+4,l[(i=e)>>2]=t,l[i+4>>2]=((0|t)<0)<<31>>31;break e;case 11:i=3+(0|l[r>>2])&-4,t=0|l[i>>2],l[r>>2]=i+4,l[(i=e)>>2]=t,l[i+4>>2]=0;break e;case 12:i=7+(0|l[r>>2])&-8,a=0|l[(t=i)>>2],t=0|l[t+4>>2],l[r>>2]=i+8,l[(i=e)>>2]=a,l[i+4>>2]=t;break e;case 13:a=3+(0|l[r>>2])&-4,i=0|l[a>>2],l[r>>2]=a+4,i=(65535&i)<<16>>16,l[(a=e)>>2]=i,l[a+4>>2]=((0|i)<0)<<31>>31;break e;case 14:a=3+(0|l[r>>2])&-4,i=0|l[a>>2],l[r>>2]=a+4,l[(a=e)>>2]=65535&i,l[a+4>>2]=0;break e;case 15:a=3+(0|l[r>>2])&-4,i=0|l[a>>2],l[r>>2]=a+4,i=(255&i)<<24>>24,l[(a=e)>>2]=i,l[a+4>>2]=((0|i)<0)<<31>>31;break e;case 16:a=3+(0|l[r>>2])&-4,i=0|l[a>>2],l[r>>2]=a+4,l[(a=e)>>2]=255&i,l[a+4>>2]=0;break e;case 17:case 18:a=7+(0|l[r>>2])&-8,n=+p[a>>3],l[r>>2]=a+8,p[e>>3]=n;break e;default:break e}}while(0)}function me(e,t,r,i){if(r|=0,i|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{a[(r=r+-1|0)>>0]=0|f[480+(15&e)>>0]|i,e=0|Se(0|e,0|t,4),t=0|x()}while(!(0==(0|e)&0==(0|t)));return 0|r}function be(e,t,r){if(r|=0,!(0==(0|(e|=0))&0==(0|(t|=0))))do{a[(r=r+-1|0)>>0]=7&e|48,e=0|Se(0|e,0|t,3),t=0|x()}while(!(0==(0|e)&0==(0|t)));return 0|r}function pe(e,t,r){r|=0;var i=0,n=0,s=0;if((t|=0)>>>0>0|0==(0|t)&(e|=0)>>>0>4294967295){do{s=0|Ve(0|(i=e),0|(n=t),0|(s=0|Ge(0|(e=0|Fe(0|e,0|t,10,0)),0|(t=0|x()),10,0)),0|x()),x(),a[(r=r+-1|0)>>0]=255&s|48}while(n>>>0>9|9==(0|n)&i>>>0>4294967295);t=e}else t=e;if(t)do{s=t,t=(t>>>0)/10|0,a[(r=r+-1|0)>>0]=s-(10*t|0)|48}while(s>>>0>=10);return 0|r}function ye(e){return 0|Be(e|=0,0|l[710])}function ve(e,t,r){e|=0;var i=0,n=0,s=0,o=0;s=255&(t|=0),i=0!=(0|(r|=0));e:do{if(i&0!=(3&e|0))for(n=255&t;;){if((0|a[e>>0])==n<<24>>24){o=6;break e}if(!((i=0!=(0|(r=r+-1|0)))&0!=(3&(e=e+1|0)|0))){o=5;break}}else o=5}while(0);5==(0|o)&&(o=i?6:16);e:do{if(6==(0|o)){if(n=255&t,(0|a[e>>0])==n<<24>>24){if(r)break;o=16;break}i=0|P(s,16843009);t:do{if(r>>>0>3)for(;;){if((-2139062144&(s=l[e>>2]^i)^-2139062144)&s+-16843009|0)break t;if(e=e+4|0,(r=r+-4|0)>>>0<=3){o=11;break}}else o=11}while(0);if(11==(0|o)&&!r){o=16;break}for(;;){if((0|a[e>>0])==n<<24>>24)break e;if(!(r=r+-1|0)){o=16;break}e=e+1|0}}}while(0);return 16==(0|o)&&(e=0),0|e}function ge(e,t,r,i,a){var n,s;if(e|=0,t|=0,s=w,w=w+256|0,n=s,(0|(r|=0))>(0|(i|=0))&0==(73728&(a|=0)|0)){if(Ze(0|n,t<<24>>24|0,0|((a=r-i|0)>>>0<256?a:256)),a>>>0>255){t=r-i|0;do{Ae(e,n,256),a=a+-256|0}while(a>>>0>255);a=255&t}Ae(e,n,a)}w=s}function we(e,t){return t|=0,0|(e=(e|=0)?0|De(e,t):0)}function _e(e,t,r,i,n,s){e|=0,t=+t,r|=0,i|=0,n|=0,s|=0;var o,u=0,c=0,A=0,d=0,h=0,m=0,b=0,p=0,y=0,v=0,g=0,_=0,I=0,k=0,M=0,D=0,B=0,R=0,C=0,G=0,E=0,V=0;o=w,w=w+560|0,A=o+32|0,E=V=o,d=o+540|0,l[(_=o+536|0)>>2]=0,G=d+12|0,Ie(t),(0|(u=0|x()))<0?(Ie(t=-t),C=1,R=4335,u=0|x()):(C=0!=(2049&n|0)&1,R=0==(2048&n|0)?0==(1&n|0)?4336:4341:4338);do{if(!0&2146435072==(2146435072&u|0))V=0!=(32&s|0),ge(e,32,r,u=C+3|0,-65537&n),Ae(e,R,C),Ae(e,t!=t|!1?V?4362:4366:V?4354:4358,3),ge(e,32,r,u,8192^n);else{if((u=0!=(p=2*+ke(t,_)))&&(l[_>>2]=(0|l[_>>2])-1),97==(0|(g=32|s))){y=0==(0|(m=32&s))?R:R+9|0,b=2|C,u=12-i|0;do{if(!(i>>>0>11|0==(0|u))){t=8;do{u=u+-1|0,t*=16}while(0!=(0|u));if(45==(0|a[y>>0])){t=-(t+(-p-t));break}t=p+t-t;break}t=p}while(0);(0|(u=0|pe(u=(0|(c=0|l[_>>2]))<0?0-c|0:c,((0|u)<0)<<31>>31,G)))==(0|G)&&(a[(u=d+11|0)>>0]=48),a[u+-1>>0]=43+(c>>31&2),a[(h=u+-2|0)>>0]=s+15,c=(0|i)<1,A=0==(8&n|0),d=V;do{C=~~t,u=d+1|0,a[d>>0]=m|f[480+C>>0],t=16*(t-+(0|C)),1!=(u-E|0)||A&c&0==t?d=u:(a[u>>0]=46,d=d+2|0)}while(0!=t);ge(e,32,r,G=(u=0!=(0|i)&&(-2-E+d|0)<(0|i)?i+2+(c=G)-(A=h)|0:(c=G)-E-(A=h)+d|0)+b|0,n),Ae(e,y,b),ge(e,48,r,G,65536^n),Ae(e,V,E=d-E|0),ge(e,48,u-(E+(V=c-A|0))|0,0,0),Ae(e,h,V),ge(e,32,r,G,8192^n),u=G;break}c=(0|i)<0?6:i,u?(u=(0|l[_>>2])-28|0,l[_>>2]=u,t=268435456*p):(t=p,u=0|l[_>>2]),A=B=(0|u)<0?A:A+288|0;do{M=~~t>>>0,l[A>>2]=M,A=A+4|0,t=1e9*(t-+(M>>>0))}while(0!=t);if(M=B,(0|u)>0)for(m=B;;){if(h=(0|u)<29?u:29,(u=A+-4|0)>>>0>=m>>>0){d=0;do{k=0|Ve(0|(v=0|Ee(0|(v=0|Ue(0|l[u>>2],0,0|h)),0|x(),0|d,0)),0|(I=0|x()),0|(k=0|Ge(0|(d=0|Fe(0|v,0|I,1e9,0)),0|x(),1e9,0)),0|x()),x(),l[u>>2]=k,u=u+-4|0}while(u>>>0>=m>>>0);d?(l[(k=m+-4|0)>>2]=d,d=k):d=m}else d=m;e:do{if(A>>>0>d>>>0)for(u=A;;){if(0|l[(A=u+-4|0)>>2]){A=u;break e}if(!(A>>>0>d>>>0))break;u=A}}while(0);if(u=(0|l[_>>2])-h|0,l[_>>2]=u,!((0|u)>0))break;m=d}else d=B;if((0|u)<0){i=1+((c+25|0)/9|0)|0,v=102==(0|g);do{if(y=(0|(y=0-u|0))<9?y:9,d>>>0<A>>>0){h=(1<<y)-1|0,m=y?1e9>>>y:1e9,b=0,u=d;do{k=0|l[u>>2],l[u>>2]=(y?k>>>y:k)+b,b=0|P(k&h,m),u=u+4|0}while(u>>>0<A>>>0);d=0==(0|l[d>>2])?d+4|0:d,b&&(l[A>>2]=b,A=A+4|0)}else d=0==(0|l[d>>2])?d+4|0:d;A=((k=A-(u=v?B:d)|0)>>2|0)>(0|i)?u+(i<<2)|0:A,u=(0|l[_>>2])+y|0,l[_>>2]=u}while((0|u)<0);v=d}else v=d;if(v>>>0<A>>>0){if(u=9*((u=M-v|0)>>2)|0,(h=0|l[v>>2])>>>0>=10){d=10;do{d=10*d|0,u=u+1|0}while(h>>>0>=d>>>0)}}else u=0;if((0|(d=c-(102==(0|g)?0:u)+(((k=0!=(0|c))&(I=103==(0|g)))<<31>>31)|0))<((9*((_=A-M|0)>>2)|0)-9|0)){if(i=B+4+((d=(0|(_=d+9216|0))/9|0)-1024<<2)|0,(0|(d=_-(9*d|0)|0))<8)for(h=10;h=10*h|0,(0|d)<7;)d=d+1|0;else h=10;if((m=(i+4|0)==(0|A))&0==(0|(y=(b=0|l[i>>2])-(0|P(d=(b>>>0)/(h>>>0)|0,h))|0)))d=i,h=v;else if(p=0==(1&d|0)?9007199254740992:9007199254740994,t=y>>>0<(_=h>>>1)>>>0?.5:m&(0|y)==(0|_)?1:1.5,C&&(t=(_=45==(0|a[R>>0]))?-t:t,p=_?-p:p),d=b-y|0,l[i>>2]=d,p+t!=p){if(_=d+h|0,l[i>>2]=_,_>>>0>999999999)for(h=i,u=v;;){if(d=h+-4|0,l[h>>2]=0,d>>>0<u>>>0&&(l[(u=u+-4|0)>>2]=0),_=1+(0|l[d>>2])|0,l[d>>2]=_,!(_>>>0>999999999)){h=u;break}h=d}else d=i,h=v;if(u=9*((u=M-h|0)>>2)|0,(b=0|l[h>>2])>>>0>=10){m=10;do{m=10*m|0,u=u+1|0}while(b>>>0>=m>>>0)}}else d=i,h=v;A=A>>>0>(_=d+4|0)>>>0?_:A}else h=v;i=0-u|0;e:do{if(A>>>0>h>>>0)for(;;){if(0|l[(d=A+-4|0)>>2]){_=A,g=1;break e}if(!(d>>>0>h>>>0)){_=d,g=0;break}A=d}else _=A,g=0}while(0);do{if(I){if((0|(c=c+(1&(1^k))|0))>(0|u)&(0|u)>-5?(m=s+-1|0,c=c+-1-u|0):(m=s+-2|0,c=c+-1|0),!(8&n)){if(g&&0!=(0|(D=0|l[_+-4>>2])))if((D>>>0)%10|0)d=0;else{d=0,A=10;do{A=10*A|0,d=d+1|0}while(!(0|(D>>>0)%(A>>>0)))}else d=9;if(A=(9*((A=_-M|0)>>2)|0)-9|0,102==(32|m)){c=(0|c)<(0|(s=(0|(s=A-d|0))>0?s:0))?c:s;break}c=(0|c)<(0|(s=(0|(s=A+u-d|0))>0?s:0))?c:s;break}}else m=s}while(0);if(b=(v=0!=(0|c))?1:n>>>3&1,y=102==(32|m))I=0,u=(0|u)>0?u:0;else{if(((d=G)-(A=0|pe(A=(0|u)<0?i:u,((0|A)<0)<<31>>31,G))|0)<2)do{a[(A=A+-1|0)>>0]=48}while((d-A|0)<2);a[A+-1>>0]=43+(u>>31&2),a[(u=A+-2|0)>>0]=m,I=u,u=d-u|0}if(ge(e,32,r,u=C+1+c+b+u|0,n),Ae(e,R,C),ge(e,48,r,u,65536^n),y){b=h>>>0>B>>>0?B:h,h=y=V+9|0,m=V+8|0,d=b;do{if(A=0|pe(0|l[d>>2],0,y),(0|d)==(0|b))(0|A)==(0|y)&&(a[m>>0]=48,A=m);else if(A>>>0>V>>>0){Ze(0|V,48,A-E|0);do{A=A+-1|0}while(A>>>0>V>>>0)}Ae(e,A,h-A|0),d=d+4|0}while(d>>>0<=B>>>0);if(0==(8&n|0)&(1^v)||Ae(e,4370,1),d>>>0<_>>>0&(0|c)>0)for(;;){if((A=0|pe(0|l[d>>2],0,y))>>>0>V>>>0){Ze(0|V,48,A-E|0);do{A=A+-1|0}while(A>>>0>V>>>0)}if(Ae(e,A,(0|c)<9?c:9),A=c+-9|0,!((d=d+4|0)>>>0<_>>>0&(0|c)>9)){c=A;break}c=A}ge(e,48,c+9|0,9,0)}else{if(h>>>0<(_=g?_:h+4|0)>>>0&(0|c)>-1){v=0==(8&n|0),g=i=V+9|0,b=0-E|0,y=V+8|0,m=h;do{(0|(A=0|pe(0|l[m>>2],0,i)))==(0|i)&&(a[y>>0]=48,A=y);do{if((0|m)==(0|h)){if(d=A+1|0,Ae(e,A,1),v&(0|c)<1){A=d;break}Ae(e,4370,1),A=d}else{if(A>>>0<=V>>>0)break;Ze(0|V,48,A+b|0);do{A=A+-1|0}while(A>>>0>V>>>0)}}while(0);Ae(e,A,(0|c)>(0|(E=g-A|0))?E:c),c=c-E|0,m=m+4|0}while(m>>>0<_>>>0&(0|c)>-1)}ge(e,48,c+18|0,18,0),Ae(e,I,G-I|0)}ge(e,32,r,u,8192^n)}}while(0);return w=o,0|((0|u)<(0|r)?r:u)}function Ie(e){var t;return e=+e,p[g>>3]=e,t=0|l[g>>2],V(0|l[g+4>>2]),0|t}function ke(e,t){return+ +Me(e=+e,t|=0)}function Me(e,t){e=+e,t|=0;var r,i,a=0;switch(p[g>>3]=e,i=0|Se(0|(a=0|l[g>>2]),0|(r=0|l[g+4>>2]),52),x(),2047&i){case 0:0!=e?(e=+Me(0x10000000000000000*e,t),a=(0|l[t>>2])-64|0):a=0,l[t>>2]=a;break;case 2047:break;default:l[t>>2]=(2047&i)-1022,l[g>>2]=a,l[g+4>>2]=-2146435073&r|1071644672,e=+p[g>>3]}return+e}function De(e,t,r){e|=0,t|=0;do{if(e){if(t>>>0<128){a[e>>0]=t,e=1;break}if(!(0|l[l[710]>>2])){if(57216==(-128&t|0)){a[e>>0]=t,e=1;break}l[(e=5984)>>2]=84,e=-1;break}if(t>>>0<2048){a[e>>0]=t>>>6|192,a[e+1>>0]=63&t|128,e=2;break}if(t>>>0<55296|57344==(-8192&t|0)){a[e>>0]=t>>>12|224,a[e+1>>0]=t>>>6&63|128,a[e+2>>0]=63&t|128,e=3;break}if((t+-65536|0)>>>0<1048576){a[e>>0]=t>>>18|240,a[e+1>>0]=t>>>12&63|128,a[e+2>>0]=t>>>6&63|128,a[e+3>>0]=63&t|128,e=4;break}l[(e=5984)>>2]=84,e=-1;break}e=1}while(0);return 0|e}function Be(e,t){e|=0,t|=0;var r=0,i=0;for(r=0;;){if((0|f[496+r>>0])==(0|e)){i=4;break}if(87==(0|(r=r+1|0))){e=87,i=5;break}}if(4==(0|i)&&(r?(e=r,i=5):r=592),5==(0|i)){r=592;do{do{i=r,r=r+1|0}while(0!=(0|a[i>>0]));e=e+-1|0}while(0!=(0|e))}return 0|function(e,t){return 0|function(e,t){return e|=0,0|(0==(0|(t=(t|=0)?0|Pe(0|l[t>>2],0|l[t+4>>2],e):0))?e:t)}(e|=0,t|=0)}(r,0|l[t+20>>2])}function Pe(e,t,r){t|=0,r|=0;var i,n=0,s=0,o=0,u=0,f=0,c=0,A=0,d=0,h=0;i=1794895138+(0|l[(e|=0)>>2])|0,o=0|Re(0|l[e+8>>2],i),n=0|Re(0|l[e+12>>2],i),s=0|Re(0|l[e+16>>2],i);e:do{if(o>>>0<t>>>2>>>0&&n>>>0<(h=t-(o<<2)|0)>>>0&s>>>0<h>>>0&&0==(3&(s|n)|0)){for(h=n>>>2,d=s>>>2,A=0;;){if(n=0|Re(0|l[e+((s=(u=(c=A+(f=o>>>1)|0)<<1)+h|0)<<2)>>2],i),!((s=0|Re(0|l[e+(s+1<<2)>>2],i))>>>0<t>>>0&n>>>0<(t-s|0)>>>0)){n=0;break e}if(0|a[e+(s+n)>>0]){n=0;break e}if(!(n=0|se(r,e+s|0)))break;if(n=(0|n)<0,1==(0|o)){n=0;break e}A=n?A:c,o=n?f:o-f|0}s=0|Re(0|l[e+((n=u+d|0)<<2)>>2],i),n=(n=0|Re(0|l[e+(n+1<<2)>>2],i))>>>0<t>>>0&s>>>0<(t-n|0)>>>0&&0==(0|a[e+(n+s)>>0])?e+n|0:0}else n=0}while(0);return 0|n}function Re(e,t){var r;return t|=0,r=0|Te(0|(e|=0)),0|(0==(0|t)?e:r)}function Ce(e,t,r){e|=0,t|=0;var i=0,n=0,s=0,o=0,u=0;(n=0|l[(i=16+(r|=0)|0)>>2])?s=5:0|function(e){var t=0,r=0;return r=0|a[(t=74+(e|=0)|0)>>0],a[t>>0]=r+255|r,8&(t=0|l[e>>2])?(l[e>>2]=32|t,e=-1):(l[e+8>>2]=0,l[e+4>>2]=0,r=0|l[e+44>>2],l[e+28>>2]=r,l[e+20>>2]=r,l[e+16>>2]=r+(0|l[e+48>>2]),e=0),0|e}(r)?i=0:(n=0|l[i>>2],s=5);e:do{if(5==(0|s)){if(i=o=0|l[(u=r+20|0)>>2],(n-o|0)>>>0<t>>>0){i=0|He[7&l[r+36>>2]](r,e,t);break}t:do{if((0|a[r+75>>0])<0|0==(0|t))s=0,n=e;else{for(o=t;10!=(0|a[e+(n=o+-1|0)>>0]);){if(!n){s=0,n=e;break t}o=n}if((i=0|He[7&l[r+36>>2]](r,e,o))>>>0<o>>>0)break e;s=o,n=e+o|0,t=t-o|0,i=0|l[u>>2]}}while(0);We(0|i,0|n,0|t),l[u>>2]=(0|l[u>>2])+t,i=s+t|0}}while(0);return 0|i}function Ge(e,t,r,i){var a,n;return t|=0,i|=0,r=0|function(e,t){var r,i,a,n=0;return e=((r=0|P(n=65535&(t|=0),a=65535&(e|=0)))>>>16)+(0|P(n,i=e>>>16))|0,t=0|P(n=t>>>16,a),0|(V((e>>>16)+(0|P(n,i))+(((65535&e)+t|0)>>>16)|0),e+t<<16|65535&r|0)}(a=e|=0,n=r|=0),e=0|x(),0|(V((0|P(t,n))+(0|P(i,a))+e|0&e|0),0|r)}function Ee(e,t,r,i){return 0|(V((t|=0)+(i|=0)+((r=(e|=0)+(r|=0)>>>0)>>>0<e>>>0|0)>>>0|0),0|r)}function Ve(e,t,r,i){return 0|(V(0|(i=(t|=0)-(i|=0)-((r|=0)>>>0>(e|=0)>>>0|0)>>>0)),e-r>>>0|0)}function xe(e){return 0|((e|=0)?31-(0|R(e^e-1))|0:32)}function Fe(e,t,r,i){return 0|function(e,t,r,i,a){a|=0;var n=0,s=0,o=0,u=0,f=0,c=0,A=0,d=0,h=0,m=0;if(c=e|=0,s=r|=0,o=d=i|=0,!(f=u=t|=0))return n=0!=(0|a),o?n?(l[a>>2]=0|e,l[a+4>>2]=0&t,a=0,0|(V(0|(d=0)),a)):(a=0,0|(V(0|(d=0)),a)):(n&&(l[a>>2]=(c>>>0)%(s>>>0),l[a+4>>2]=0),a=(c>>>0)/(s>>>0)>>>0,0|(V(0|(d=0)),a));n=0==(0|o);do{if(s){if(!n){if((n=(0|R(0|o))-(0|R(0|f))|0)>>>0<=31){s=A=n+1|0,e=c>>>(A>>>0)&(t=n-31>>31)|f<<(o=31-n|0),t&=f>>>(A>>>0),n=0,o=c<<o;break}return a?(l[a>>2]=0|e,l[a+4>>2]=u|0&t,a=0,0|(V(0|(d=0)),a)):(a=0,0|(V(0|(d=0)),a))}if((n=s-1|0)&s|0){s=o=33+(0|R(0|s))-(0|R(0|f))|0,e=(A=32-o|0)-1>>31&f>>>((h=o-32|0)>>>0)|(f<<A|c>>>(o>>>0))&(t=h>>31),t&=f>>>(o>>>0),n=c<<(m=64-o|0)&(u=A>>31),o=(f<<m|c>>>(h>>>0))&u|c<<A&o-33>>31;break}return 0|a&&(l[a>>2]=n&c,l[a+4>>2]=0),1==(0|s)?(m=0|e,0|(V(0|(h=u|0&t)),m)):(h=f>>>((m=0|xe(0|s))>>>0)|0,m=f<<32-m|c>>>(m>>>0)|0,0|(V(0|h),m))}if(n)return 0|a&&(l[a>>2]=(f>>>0)%(s>>>0),l[a+4>>2]=0),m=(f>>>0)/(s>>>0)>>>0,0|(V(0|(h=0)),m);if(!c)return 0|a&&(l[a>>2]=0,l[a+4>>2]=(f>>>0)%(o>>>0)),m=(f>>>0)/(o>>>0)>>>0,0|(V(0|(h=0)),m);if(!((n=o-1|0)&o))return 0|a&&(l[a>>2]=0|e,l[a+4>>2]=n&f|0&t),h=0,m=f>>>((0|xe(0|o))>>>0),0|(V(0|h),m);if((n=(0|R(0|o))-(0|R(0|f))|0)>>>0<=30){s=t=n+1|0,e=f<<(o=31-n|0)|c>>>(t>>>0),t=f>>>(t>>>0),n=0,o=c<<o;break}return a?(l[a>>2]=0|e,l[a+4>>2]=u|0&t,m=0,0|(V(0|(h=0)),m)):(m=0,0|(V(0|(h=0)),m))}while(0);if(s){f=0|Ee(0|(A=0|r),0|(c=d|0&i),-1,-1),r=0|x(),u=o,o=0;do{i=u,u=n>>>31|u<<1,n=o|n<<1,Ve(0|f,0|r,0|(i=e<<1|i>>>31|0),0|(d=e>>>31|t<<1|0)),o=1&(h=(m=0|x())>>31|((0|m)<0?-1:0)<<1),e=0|Ve(0|i,0|d,h&A|0,(((0|m)<0?-1:0)>>31|((0|m)<0?-1:0)<<1)&c|0),t=0|x(),s=s-1|0}while(0!=(0|s));f=u,u=0}else f=o,u=0,o=0;return s=0,0|a&&(l[a>>2]=e,l[a+4>>2]=t),m=-2&(n<<1|0)|o,0|(V(0|(h=(0|n)>>>31|(f|s)<<1|0&(s<<1|n>>>31)|u)),m)}(e|=0,t|=0,r|=0,i|=0,0)}function Se(e,t,r){return e|=0,t|=0,(0|(r|=0))<32?(V(t>>>r|0),e>>>r|(t&(1<<r)-1)<<32-r):(V(0),t>>>r-32|0)}function Ue(e,t,r){return e|=0,t|=0,(0|(r|=0))<32?(V(t<<r|(e&(1<<r)-1<<32-r)>>>32-r|0),e<<r):(V(e<<r-32|0),0)}function Te(e){return(255&(e|=0))<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function We(e,t,r){e|=0,t|=0;var i,n,s=0;if((0|(r|=0))>=8192)return 0|O(0|e,0|t,0|r);if(n=0|e,i=e+r|0,(3&e)==(3&t)){for(;3&e;){if(!r)return 0|n;a[e>>0]=0|a[t>>0],e=e+1|0,t=t+1|0,r=r-1|0}for(s=(r=-4&i|0)-64|0;(0|e)<=(0|s);)l[e>>2]=l[t>>2],l[e+4>>2]=l[t+4>>2],l[e+8>>2]=l[t+8>>2],l[e+12>>2]=l[t+12>>2],l[e+16>>2]=l[t+16>>2],l[e+20>>2]=l[t+20>>2],l[e+24>>2]=l[t+24>>2],l[e+28>>2]=l[t+28>>2],l[e+32>>2]=l[t+32>>2],l[e+36>>2]=l[t+36>>2],l[e+40>>2]=l[t+40>>2],l[e+44>>2]=l[t+44>>2],l[e+48>>2]=l[t+48>>2],l[e+52>>2]=l[t+52>>2],l[e+56>>2]=l[t+56>>2],l[e+60>>2]=l[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|r);)l[e>>2]=l[t>>2],e=e+4|0,t=t+4|0}else for(r=i-4|0;(0|e)<(0|r);)a[e>>0]=0|a[t>>0],a[e+1>>0]=0|a[t+1>>0],a[e+2>>0]=0|a[t+2>>0],a[e+3>>0]=0|a[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|i);)a[e>>0]=0|a[t>>0],e=e+1|0,t=t+1|0;return 0|n}function Ze(e,t,r){t|=0;var i,n=0,s=0,o=0;if(i=(e|=0)+(r|=0)|0,t&=255,(0|r)>=67){for(;3&e;)a[e>>0]=t,e=e+1|0;for(s=(n=-4&i|0)-64|0,o=t|t<<8|t<<16|t<<24;(0|e)<=(0|s);)l[e>>2]=o,l[e+4>>2]=o,l[e+8>>2]=o,l[e+12>>2]=o,l[e+16>>2]=o,l[e+20>>2]=o,l[e+24>>2]=o,l[e+28>>2]=o,l[e+32>>2]=o,l[e+36>>2]=o,l[e+40>>2]=o,l[e+44>>2]=o,l[e+48>>2]=o,l[e+52>>2]=o,l[e+56>>2]=o,l[e+60>>2]=o,e=e+64|0;for(;(0|e)<(0|n);)l[e>>2]=o,e=e+4|0}for(;(0|e)<(0|i);)a[e>>0]=t,e=e+1|0;return i-r|0}function Oe(e){var t,r;return(0|(e|=0))>0&(0|(t=(r=0|l[v>>2])+e|0))<(0|r)|(0|t)<0?(F(),S(12),-1):(l[v>>2]=t,(0|t)>(0|E())&&0==(0|G())?(l[v>>2]=r,S(12),-1):0|r)}function Xe(e,t,r){return C(1),0}function Ye(e,t,r){C(3)}function ze(e,t,r,i){C(4)}t.n;var Ne=[function(e){return C(0),0},function(e){var t,r;return t=w,w=w+16|0,r=t,e=0|function(e){return 0|(e|=0)}(0|l[60+(e|=0)>>2]),l[r>>2]=e,e=0|ae(0|Z(6,0|r)),w=t,0|e}],He=[Xe,function(e,t,r){t|=0,r|=0;var i,n=0;return i=w,w=w+32|0,n=i,l[36+(e|=0)>>2]=4,0==(64&l[e>>2]|0)&&(l[n>>2]=l[e+60>>2],l[n+4>>2]=21523,l[n+8>>2]=i+16,0|W(54,0|n))&&(a[e+75>>0]=-1),n=0|ie(e,t,r),w=i,0|n},function(e,t,r){var i,a,n;return e|=0,t|=0,r|=0,a=w,w=w+32|0,i=a+20|0,l[(n=a)>>2]=l[e+60>>2],l[n+4>>2]=0,l[n+8>>2]=t,l[n+12>>2]=i,l[n+16>>2]=r,(0|ae(0|U(140,0|n)))<0?(l[i>>2]=-1,e=-1):e=0|l[i>>2],w=a,0|e},function(e,t,r){var i,a;return t|=0,r|=0,We(0|(a=0|l[(i=20+(e|=0)|0)>>2]),0|t,0|(e=(e=(0|l[e+16>>2])-a|0)>>>0>r>>>0?r:e)),l[i>>2]=(0|l[i>>2])+e,0|r},ie,Xe,Xe,Xe],Je=[function(e){C(2)}],Le=[Ye,function(e,t,r){t|=0,r|=0;var i,a,n,s,o=0;return a=0|l[24+(e|=0)>>2],n=0|l[r+136>>2],s=0|l[r+140>>2],-1==(0|(e=0|l[(i=e+4|0)>>2]))?(l[n+(t<<2)>>2]=l[a+16>>2],void(m[s+(t<<2)>>2]=1)):(o=0|l[r+4>>2],r=0|l[a+20>>2],je[3&l[o+(e<<5)+20>>2]](0|l[o+(e<<5)+24>>2],r,r,0|l[a+12>>2]),r=0|l[i>>2],m[n+(t<<2)>>2]=+m[a+16>>2]*+m[n+(r<<2)>>2],void(l[s+(t<<2)>>2]=l[s+(r<<2)>>2]))},function(e,t,r){t|=0,r|=0;var i,a,n,s,o,u,f,c,A,d,h,b,p,y,v=0,g=0,_=0,I=0,k=0,M=0,D=0,P=0,R=0,C=0,G=0,E=0,V=0;if(y=w,w=w+64|0,G=y+24|0,f=y+16|0,c=y+56|0,R=y+8|0,P=y+48|0,b=y+40|0,p=y+32|0,C=y,A=0|l[24+(e|=0)>>2],d=0|l[r+136>>2],h=0|l[r+140>>2],-1==(0|(e=0|l[(u=e+4|0)>>2])))return l[d+(t<<2)>>2]=l[A+4>>2],l[h+(t<<2)>>2]=l[A+8>>2],void(w=y);for(M=0|l[r+4>>2],k=0|l[(n=A+12|0)>>2],l[b>>2]=k,s=b+4|0,D=0|l[(o=A+16|0)>>2],l[s>>2]=D,m[p>>2]=0,a=1==(0|l[M+(e<<5)+8>>2])?-10:-.10000000149011612,m[p+4>>2]=a,l[f>>2]=k,l[(k=f+4|0)>>2]=D,D=M+(e<<5)+20|0,M=M+(e<<5)+24|0,je[3&l[D>>2]](0|l[M>>2],f,c,1),e=P+4|0,r=c+4|0,i=R+4|0,_=1,I=9;;){if(v=0*_,m[P>>2]=v+ +m[f>>2],g=a*_,m[e>>2]=g+ +m[k>>2],je[3&l[D>>2]](0|l[M>>2],P,R,1),V=+m[R>>2]-+m[c>>2],m[R>>2]=V,E=+m[i>>2]-+m[r>>2],m[i>>2]=E,0!=V|0!=E){e=5;break}if(m[P>>2]=+m[f>>2]-v,m[e>>2]=+m[k>>2]-g,je[3&l[D>>2]](0|l[M>>2],P,R,1),v=+m[R>>2]-+m[c>>2],m[R>>2]=v,g=+m[i>>2]-+m[r>>2],m[i>>2]=g,0!=v|0!=g){e=7;break}if(!I){e=9;break}_*=.10000000149011612,I=I+-1|0}5==(0|e)?(R=0|l[(P=R)+4>>2],l[(G=C)>>2]=l[P>>2],l[G+4>>2]=R):7==(0|e)?(m[C>>2]=-v,m[C+4>>2]=-g):9==(0|e)&&X(3,4193,G),V=180*+function(e,t){t|=0;var r=0;if(r=+B(+ +m[4+(e|=0)>>2],+ +m[e>>2]),(r-=+B(+ +m[t+4>>2],+ +m[t>>2]))<-3.1415927410125732)do{r+=6.2831854820251465}while(r<-3.1415927410125732);if(!(r>3.1415927410125732))return+r;do{r+=-6.2831854820251465}while(r>3.1415927410125732);return+r}(p,C)/3.1415927410125732,je[3&l[D>>2]](0|l[M>>2],b,b,1),l[n>>2]=l[b>>2],l[o>>2]=l[s>>2],m[(C=A+20|0)>>2]=+m[C>>2]-V,C=0|l[u>>2],m[d+(t<<2)>>2]=+m[A+4>>2]*+m[d+(C<<2)>>2],V=+m[(G=A+8|0)>>2]*+m[h+(C<<2)>>2],m[h+(t<<2)>>2]=V,m[G>>2]=V,w=y},Ye],je=[ze,function(e,t,r,i){t|=0,r|=0,i|=0;var a,n,s,o,u,f,c,A,d,h,b,y,v,g,_,I,k,M,D=0,B=0,R=0,C=0,G=0,E=0,V=0,x=0,F=0,S=0,U=0,T=0,W=0,Z=0,O=0,Y=0,z=0,N=0,H=0,J=0,L=0,j=0,Q=0,K=0,q=0,$=0,ee=0,te=0,re=0,ie=0,ae=0,ne=0;if(M=w,w=w+32|0,k=M,v=0|l[20+(e|=0)>>2],g=0|l[e+4>>2],_=0|l[e>>2],I=g+1|0,(0|i)<=0)w=M;else{for(b=+(0|g),y=+(0|_),a=0==(0|l[e+8>>2]),n=v+(g<<3)|0,o=v+((s=0|P(_,I))<<3)|0,u=v+((ie=s+g|0)<<3)|0,f=v+4|0,c=v+(g<<3)+4|0,A=v+(s<<3)+4|0,ie=v+(ie<<3)+4|0,d=g+-1|0,h=_+-1|0,L=0,re=0,T=0,W=0,D=0,B=0,H=0,z=0,Y=0,R=0,q=0,$=0,ee=0,te=0,Z=0,U=0,j=0,G=0;;){C=b*(E=+m[t+(re<<3)>>2]),J=y*(N=+m[t+(re<<3)+4>>2]),S=!(E>=1),O=!(N>=1);do{if(O&S&!(E<0)&!(N<0)){if(R=C-+(0|(O=~~C)),N=J-+(0|(e=~~J)),O=1+(S=(0|P(e,I))+O|0)|0,F=1-R,C=+m[v+((e=S+I|0)<<3)+4>>2],E=+m[v+(e<<3)>>2],G=+m[v+(O<<3)+4>>2],V=+m[v+(O<<3)>>2],!a){J=1-N,O=e+1|0,m[r+(re<<3)>>2]=N*(R*+m[v+(O<<3)>>2])+(N*(F*E)+(J*(R*V)+J*(F*+m[v+(S<<3)>>2]))),J=N*(R*+m[v+(O<<3)+4>>2])+(N*(F*C)+(J*(R*G)+J*(F*+m[v+(S<<3)+4>>2]))),V=q,x=$,E=ee,C=te,F=j,G=N;break}R+N<=1?(x=R*G+(K=F-N)*+m[v+(S<<3)+4>>2],G=N*C,C=N*E+(R*V+K*+m[v+(S<<3)>>2])):(Q=1-N,x=F*C+(K=R+-1+N)*+m[v+((O=e+1|0)<<3)+4>>2],G*=Q,C=Q*V+(F*E+K*+m[v+(O<<3)>>2])),m[r+(re<<3)>>2]=C,J=G+x,V=q,x=$,E=ee,C=te,F=j,G=N}else{L?(Q=z,K=Y,F=j):(ne=+m[v>>2],ae=+m[n>>2],V=+m[o>>2],Z=+m[u>>2],x=+m[f>>2],Y=+m[c>>2],z=+m[A>>2],L=1,H=.5*((K=Z-ne)-(Q=ae-V)),Q=.5*(Q+K),K=.25*(ne+ae+V+Z)-.5*K,Z=.5*((F=(j=+m[ie>>2])-x)-(U=Y-z)),U=.5*(U+F),F=.25*(x+Y+z+j)-.5*F);do{if(N<3&E>-2&E<3&N>-2){e=N<=0;do{if(E<=0){if(C=F-2*U,D=K-2*Q,R=.5*(E+2),e){E=2*Z,T=D-(W=2*H),W=K-W,B=+m[v>>2],V=F-E,x=C,E=C-E,C=+m[f>>2],G=.5*(N+2);break}if(O){E=(G=+(0|(S=(0|(S=~~J))==(0|_)?h:S)))/y,x=+(0|(O=S+1|0))/y,S=0|P(S,I),O=0|P(O,I),T=E*H+D,W=+m[v+(S<<3)>>2],D=x*H+D,B=+m[v+(O<<3)>>2],V=+m[v+(S<<3)+4>>2],x=x*Z+C,E=E*Z+C,C=+m[v+(O<<3)+4>>2],G=J-G;break}B=3*H,G=3*Z,T=H+D,W=+m[o>>2],D=B+D,B+=K,V=+m[A>>2],x=G+C,E=Z+C,C=G+F,G=.5*(N+-1);break}if(S){if(e){E=2*Z,T=(G=(R=+(0|(S=(0|(S=~~C))==(0|g)?d:S)))/b)*Q+K-(W=2*H),W=(V=+(0|(O=S+1|0))/b)*Q+K-W,D=+m[v+(S<<3)>>2],B=+m[v+(O<<3)>>2],R=C-R,V=V*U+F-E,x=+m[v+(S<<3)+4>>2],E=G*U+F-E,C=+m[v+(O<<3)+4>>2],G=.5*(N+2);break}if(O){l[k>>2]=re,p[k+8>>3]=E,p[k+16>>3]=N,X(4,4121,k),V=q,x=$,E=ee,C=te;break}x=(R=+(0|(O=(0|(O=~~C))==(0|g)?d:O)))/b,G=+(0|(S=O+1|0))/b,S=S+s|0,B=3*H,ne=3*Z,T=+m[v+((O=O+s|0)<<3)>>2],W=+m[v+(S<<3)>>2],D=B+(x*Q+K),B+=G*Q+K,R=C-R,V=+m[v+(S<<3)+4>>2],x=ne+(x*U+F),E=+m[v+(O<<3)+4>>2],C=ne+(G*U+F),G=.5*(N+-1);break}if(C=3*U+F,B=3*Q+K,R=.5*(E+-1),e){E=2*Z,T=Q+K-(W=2*H),W=B-W,D=+m[n>>2],V=C-E,x=+m[c>>2],E=U+F-E,G=.5*(N+2);break}if(O){V=(G=+(0|(O=(0|(O=~~J))==(0|_)?h:O)))/y,ne=+(0|(S=O+1|0))/y,O=(0|P(O,I))+g|0,S=(0|P(S,I))+g|0,T=+m[v+(O<<3)>>2],W=V*H+B,D=+m[v+(S<<3)>>2],B=ne*H+B,V=V*Z+C,x=+m[v+(S<<3)+4>>2],E=+m[v+(O<<3)+4>>2],C=ne*Z+C,G=J-G;break}V=3*H,G=3*Z,T=+m[u>>2],W=H+B,D=V+(Q+K),B=V+B,V=Z+C,x=G+(U+F),E=+m[ie>>2],C=G+C,G=.5*(N+-1);break}while(0);if(R+G<=1){m[r+(re<<3)>>2]=T+(W-T)*R+(D-T)*G,z=E+(V-E)*R,Y=(x-E)*G;break}z=1-R,Y=1-G,m[r+(re<<3)>>2]=B+(D-B)*z+(W-B)*Y,z=C+(x-C)*z,Y*=V-C;break}m[r+(re<<3)>>2]=N*H+(E*Q+K),z=E*U+F,Y=N*Z,V=q,x=$,E=ee,C=te}while(0);J=Y+z,z=Q,Y=K}}while(0);if(m[r+(re<<3)+4>>2]=J,(0|(re=re+1|0))==(0|i))break;q=V,$=x,ee=E,te=C,j=F}w=M}},function(e,t,r,i){t|=0,r|=0,i|=0;var a,n=0,s=0,o=0,u=0,f=0,c=0,A=0;if(f=3.1415927410125732*(+m[(e|=0)>>2]+ +m[e+20>>2])/180,s=+D(+f),f=+M(+f),a=(f*=n=+m[e+8>>2])*(o=0|l[e+24>>2]?-1:1),s=(n*=s)*(u=0|l[e+28>>2]?-1:1),o*=n,u*=f,f=+m[e+12>>2],n=+m[e+16>>2],!((0|i)<=0)){e=0;do{A=+m[t+(e<<3)>>2],c=+m[t+(e<<3)+4>>2],m[r+(e<<3)>>2]=f+(a*A-s*c),m[r+(e<<3)+4>>2]=n+(o*A+u*c),e=e+1|0}while((0|e)!=(0|i))}},ze];return{___errno_location:ne,___muldi3:Ge,___udivdi3:Fe,_bitshift64Lshr:Se,_bitshift64Shl:Ue,_csmFree:function(e){$(e|=0)},_csmGetDrawableConstantFlags:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[872+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3758,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableCount:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+200>>2],w=t,0|r):(l[r>>2]=3720,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=-1))},_csmGetDrawableDrawOrders:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+268>>2],w=t,0|r):(l[r>>2]=3842,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableDynamicFlags:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+260>>2],w=t,0|r):(l[r>>2]=3786,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableIds:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[820+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3740,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableIndexCounts:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[888+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=4044,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableIndices:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[828+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=4070,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableMaskCounts:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[896+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3918,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableMasks:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[832+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3943,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableOpacities:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+276>>2],w=t,0|r):(l[r>>2]=3894,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableRenderOrders:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+264>>2],w=t,0|r):(l[r>>2]=3867,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableTextureIndices:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[868+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3813,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableVertexCounts:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[876+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3963,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableVertexPositions:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+272>>2],w=t,0|r):(l[r>>2]=3990,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetDrawableVertexUvs:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[824+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=4020,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetParameterCount:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+292>>2],w=t,0|r):(l[r>>2]=3493,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=-1))},_csmGetParameterDefaultValues:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[916+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3591,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetParameterIds:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[900+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3514,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetParameterMaximumValues:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[908+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3562,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetParameterMinimumValues:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[912+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3533,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetParameterValues:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+300>>2],w=t,0|r):(l[r>>2]=3620,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetPartCount:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+4>>2],w=t,0|r):(l[r>>2]=3642,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=-1))},_csmGetPartIds:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[712+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3658,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetPartOpacities:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[e+52>>2],w=t,0|r):(l[r>>2]=3672,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetPartParentPartIndices:function(e){var t,r=0;return t=w,w=w+16|0,r=t,(e|=0)?(r=0|l[740+(0|l[e>>2])>>2],w=t,0|r):(l[r>>2]=3692,l[r+4>>2]=3294,X(4,3169,r),w=t,0|(r=0))},_csmGetSizeofModel:H,_csmInitializeModelInPlace:J,_csmMalloc:function(e){return 0|q(e|=0)},_csmMallocMoc:function(e){var t,r;return r=w,w=w+16|0,re(t=r,64,e|=0),w=r,0|l[t>>2]},_csmMallocModelAndInitialize:function(e){var t,r,i=0;return r=w,w=w+16|0,t=r,0!=(0|(e|=0))&&0==(0|re(t,16,i=0|H(e)))?(e=0|J(e,0|l[t>>2],i))||($(0|l[t>>2]),e=0):e=0,w=r,0|e},_csmReadCanvasInfo:function(e,t,r,i){t|=0,r|=0,i|=0;var a,n,s,o,u=0;return o=w,w=w+32|0,n=o+24|0,u=o+16|0,s=o+8|0,a=o,(e|=0)?t?r?i?(u=0|l[708+(0|l[e>>2])>>2],l[t>>2]=l[u+12>>2],l[t+4>>2]=l[u+16>>2],l[r>>2]=l[u+4>>2],l[r+4>>2]=l[u+8>>2],l[i>>2]=l[u>>2],void(w=o)):(l[n>>2]=3276,l[n+4>>2]=3370,X(4,3169,n),void(w=o)):(l[u>>2]=3276,l[u+4>>2]=3341,X(4,3169,u),void(w=o)):(l[s>>2]=3276,l[s+4>>2]=3314,X(4,3169,s),void(w=o)):(l[a>>2]=3276,l[a+4>>2]=3294,X(4,3169,a),void(w=o))},_csmResetDrawableDynamicFlags:function(e){var t,r;return r=w,w=w+16|0,t=r,(e|=0)?(l[e+256>>2]=1,void(w=r)):(l[t>>2]=4092,l[t+4>>2]=3294,X(4,3169,t),void(w=r))},_csmReviveMocInPlace:function(e,t){t|=0;var r,i,a=0,n=0;return i=w,w=w+32|0,n=i+16|0,r=i+8|0,a=i,(e|=0)?((a=e)+63&-64|0)!=(0|a)?(l[r>>2]=3186,l[r+4>>2]=3225,X(4,3169,r),w=i,0|(n=0)):0|t&&(t+63&-64|0)==(0|t)?(n=0|N(e,t),w=i,0|n):(l[n>>2]=3186,l[n+4>>2]=3257,X(4,3169,n),w=i,0|(n=0)):(l[a>>2]=3186,l[a+4>>2]=3206,X(4,3169,a),w=i,0|(n=0))},_csmUpdateModel:function(e){var t,r;return r=w,w=w+16|0,t=r,(e|=0)?(K(e),void(w=r)):(l[t>>2]=3478,l[t+4>>2]=3294,X(4,3169,t),void(w=r))},_emscripten_replace_memory:function(e){return!(16777215&y(e)||y(e)<=16777215||y(e)>2147483648||(a=new i(e),s=new n(e),l=new o(e),f=new u(e),A=new c(e),new d(e),m=new h(e),p=new b(e),r=e,0))},_free:$,_i64Add:Ee,_i64Subtract:Ve,_llvm_bswap_i32:Te,_malloc:q,_memcpy:We,_memset:Ze,_sbrk:Oe,dynCall_ii:function(e,t){return t|=0,0|Ne[1&(e|=0)](0|t)},dynCall_iiii:function(e,t,r,i){return t|=0,r|=0,i|=0,0|He[7&(e|=0)](0|t,0|r,0|i)},dynCall_vi:function(e,t){t|=0,Je[0&(e|=0)](0|t)},dynCall_viii:function(e,t,r,i){t|=0,r|=0,i|=0,Le[3&(e|=0)](0|t,0|r,0|i)},dynCall_viiii:function(e,t,r,i,a){t|=0,r|=0,i|=0,a|=0,je[3&(e|=0)](0|t,0|r,0|i,0|a)},establishStackSpace:function(e,t){w=e|=0,0},setThrew:function(e,t){e|=0,0,_||(_=e)},stackAlloc:function(e){var t;return t=w,w=15+(w=w+(e|=0)|0)&-16,0|t},stackRestore:function(e){w=e|=0},stackSave:function(){return 0|w}}}(i.asmGlobalArg,i.asmLibraryArg,x),Te=(i.___errno_location=Ue.___errno_location,i.___muldi3=Ue.___muldi3,i.___udivdi3=Ue.___udivdi3,i._bitshift64Lshr=Ue._bitshift64Lshr,i._bitshift64Shl=Ue._bitshift64Shl,i._csmFree=Ue._csmFree,i._csmGetDrawableConstantFlags=Ue._csmGetDrawableConstantFlags,i._csmGetDrawableCount=Ue._csmGetDrawableCount,i._csmGetDrawableDrawOrders=Ue._csmGetDrawableDrawOrders,i._csmGetDrawableDynamicFlags=Ue._csmGetDrawableDynamicFlags,i._csmGetDrawableIds=Ue._csmGetDrawableIds,i._csmGetDrawableIndexCounts=Ue._csmGetDrawableIndexCounts,i._csmGetDrawableIndices=Ue._csmGetDrawableIndices,i._csmGetDrawableMaskCounts=Ue._csmGetDrawableMaskCounts,i._csmGetDrawableMasks=Ue._csmGetDrawableMasks,i._csmGetDrawableOpacities=Ue._csmGetDrawableOpacities,i._csmGetDrawableRenderOrders=Ue._csmGetDrawableRenderOrders,i._csmGetDrawableTextureIndices=Ue._csmGetDrawableTextureIndices,i._csmGetDrawableVertexCounts=Ue._csmGetDrawableVertexCounts,i._csmGetDrawableVertexPositions=Ue._csmGetDrawableVertexPositions,i._csmGetDrawableVertexUvs=Ue._csmGetDrawableVertexUvs,i._csmGetParameterCount=Ue._csmGetParameterCount,i._csmGetParameterDefaultValues=Ue._csmGetParameterDefaultValues,i._csmGetParameterIds=Ue._csmGetParameterIds,i._csmGetParameterMaximumValues=Ue._csmGetParameterMaximumValues,i._csmGetParameterMinimumValues=Ue._csmGetParameterMinimumValues,i._csmGetParameterValues=Ue._csmGetParameterValues,i._csmGetPartCount=Ue._csmGetPartCount,i._csmGetPartIds=Ue._csmGetPartIds,i._csmGetPartOpacities=Ue._csmGetPartOpacities,i._csmGetPartParentPartIndices=Ue._csmGetPartParentPartIndices,i._csmGetSizeofModel=Ue._csmGetSizeofModel,i._csmInitializeModelInPlace=Ue._csmInitializeModelInPlace,i._csmMalloc=Ue._csmMalloc,i._csmMallocMoc=Ue._csmMallocMoc,i._csmMallocModelAndInitialize=Ue._csmMallocModelAndInitialize,i._csmReadCanvasInfo=Ue._csmReadCanvasInfo,i._csmResetDrawableDynamicFlags=Ue._csmResetDrawableDynamicFlags,i._csmReviveMocInPlace=Ue._csmReviveMocInPlace,i._csmUpdateModel=Ue._csmUpdateModel,i._emscripten_replace_memory=Ue._emscripten_replace_memory),We=(i._free=Ue._free,i._i64Add=Ue._i64Add,i._i64Subtract=Ue._i64Subtract,i._llvm_bswap_i32=Ue._llvm_bswap_i32,i._malloc=Ue._malloc,i._memcpy=Ue._memcpy,i._memset=Ue._memset,i._sbrk=Ue._sbrk,i.establishStackSpace=Ue.establishStackSpace,i.setThrew=Ue.setThrew,i.stackAlloc=Ue.stackAlloc),Ze=i.stackRestore=Ue.stackRestore,Oe=i.stackSave=Ue.stackSave;if(i.dynCall_ii=Ue.dynCall_ii,i.dynCall_iiii=Ue.dynCall_iiii,i.dynCall_vi=Ue.dynCall_vi,i.dynCall_viii=Ue.dynCall_viii,i.dynCall_viiii=Ue.dynCall_viiii,i.asm=Ue,i.ccall=B,i.Pointer_stringify=P,ge)if(_e(ge)||(ge=A(ge)),o||l){var Xe=i.readBinary(ge);S.set(Xe,w)}else{ye();var Ye=function(e){e.byteLength&&(e=new Uint8Array(e)),S.set(e,w),i.memoryInitializerRequest&&delete i.memoryInitializerRequest.response,ve()};function ze(){i.readAsync(ge,Ye,(function(){throw"could not load memory initializer "+ge}))}var Ne=Se(ge);if(Ne)Ye(Ne.buffer);else if(i.memoryInitializerRequest){function He(){var e=i.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var r=Se(i.memoryInitializerRequestURL);if(!r)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+ge),void ze();t=r.buffer}Ye(t)}i.memoryInitializerRequest.response?setTimeout(He,0):i.memoryInitializerRequest.addEventListener("load",He)}else ze()}function Je(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Le(e){function t(){i.calledRun||(i.calledRun=!0,_||(ue(),fe(),i.onRuntimeInitialized&&i.onRuntimeInitialized(),ce()))}e=e||i.arguments,me>0||(le(),me>0||i.calledRun||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}function je(e){throw i.onAbort&&i.onAbort(e),void 0!==e?(d(e),h(e),e=JSON.stringify(e)):e="",_=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(i.then=function(e){if(i.calledRun)e(i);else{var t=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){t&&t(),e(i)}}return i},Je.prototype=new Error,Je.prototype.constructor=Je,pe=function e(){i.calledRun||Le(),i.calledRun||(pe=e)},i.run=Le,i.abort=je,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return i.noExitRuntime=!0,Le(),e});"object"==typeof exports&&"object"==typeof module?module.exports=r:"function"==typeof define&&define.amd?define([],(function(){return r})):"object"==typeof exports&&(exports._em_module=r);var i=r(),a=function(){function e(){}return e.getSizeofModel=function(e){return i.ccall("csmGetSizeofModel","number",["number"],[e])},e.reviveMocInPlace=function(e,t){return i.ccall("csmReviveMocInPlace","number",["number","number"],[e,t])},e.initializeModelInPlace=function(e,t,r){return i.ccall("csmInitializeModelInPlace","number",["number","number","number"],[e,t,r])},e.getParameterCount=function(e){return i.ccall("csmGetParameterCount","number",["number"],[e])},e.getParameterIds=function(e){return i.ccall("csmGetParameterIds","number",["number"],[e])},e.getParameterMinimumValues=function(e){return i.ccall("csmGetParameterMinimumValues","number",["number"],[e])},e.getParameterMaximumValues=function(e){return i.ccall("csmGetParameterMaximumValues","number",["number"],[e])},e.getParameterDefaultValues=function(e){return i.ccall("csmGetParameterDefaultValues","number",["number"],[e])},e.getParameterValues=function(e){return i.ccall("csmGetParameterValues","number",["number"],[e])},e.getPartCount=function(e){return i.ccall("csmGetPartCount","number",["number"],[e])},e.getPartIds=function(e){return i.ccall("csmGetPartIds","number",["number"],[e])},e.getPartOpacities=function(e){return i.ccall("csmGetPartOpacities","number",["number"],[e])},e.getPartParentPartIndices=function(e){return i.ccall("csmGetPartParentPartIndices","number",["number"],[e])},e.getDrawableCount=function(e){return i.ccall("csmGetDrawableCount","number",["number"],[e])},e.getDrawableIds=function(e){return i.ccall("csmGetDrawableIds","number",["number"],[e])},e.getDrawableConstantFlags=function(e){return i.ccall("csmGetDrawableConstantFlags","number",["number"],[e])},e.getDrawableDynamicFlags=function(e){return i.ccall("csmGetDrawableDynamicFlags","number",["number"],[e])},e.getDrawableTextureIndices=function(e){return i.ccall("csmGetDrawableTextureIndices","number",["number"],[e])},e.getDrawableDrawOrders=function(e){return i.ccall("csmGetDrawableDrawOrders","number",["number"],[e])},e.getDrawableRenderOrders=function(e){return i.ccall("csmGetDrawableRenderOrders","number",["number"],[e])},e.getDrawableOpacities=function(e){return i.ccall("csmGetDrawableOpacities","number",["number"],[e])},e.getDrawableMaskCounts=function(e){return i.ccall("csmGetDrawableMaskCounts","number",["number"],[e])},e.getDrawableMasks=function(e){return i.ccall("csmGetDrawableMasks","number",["number"],[e])},e.getDrawableVertexCounts=function(e){return i.ccall("csmGetDrawableVertexCounts","number",["number"],[e])},e.getDrawableVertexPositions=function(e){return i.ccall("csmGetDrawableVertexPositions","number",["number"],[e])},e.getDrawableVertexUvs=function(e){return i.ccall("csmGetDrawableVertexUvs","number",["number"],[e])},e.getDrawableIndexCounts=function(e){return i.ccall("csmGetDrawableIndexCounts","number",["number"],[e])},e.getDrawableIndices=function(e){return i.ccall("csmGetDrawableIndices","number",["number"],[e])},e.mallocMoc=function(e){return i.ccall("csmMallocMoc","number",["number"],[e])},e.mallocModelAndInitialize=function(e){return i.ccall("csmMallocModelAndInitialize","number",["number"],[e])},e.malloc=function(e){return i.ccall("csmMalloc","number",["number"],[e])},e.updateModel=function(e){i.ccall("csmUpdateModel",null,["number"],[e])},e.readCanvasInfo=function(e,t,r,a){i.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[e,t,r,a])},e.resetDrawableDynamicFlags=function(e){i.ccall("csmResetDrawableDynamicFlags",null,["number"],[e])},e.free=function(e){i.ccall("csmFree",null,["number"],[e])},e}(),n=function(){function e(e){var t=a.mallocMoc(e.byteLength);t&&(new Uint8Array(i.HEAPU8.buffer,t,e.byteLength).set(new Uint8Array(e)),this._ptr=a.reviveMocInPlace(t,e.byteLength),this._ptr||a.free(t))}return e.fromArrayBuffer=function(t){if(!t)return null;var r=new e(t);return r._ptr?r:null},e.prototype._release=function(){a.free(this._ptr),this._ptr=0},e}();e.Moc=n;var s=function(){function e(e){this._ptr=a.mallocModelAndInitialize(e._ptr),this._ptr&&(this.parameters=new l(this._ptr),this.parts=new u(this._ptr),this.drawables=new f(this._ptr),this.canvasinfo=new o(this._ptr))}return e.fromMoc=function(t){var r=new e(t);return r._ptr?r:null},e.prototype.update=function(){a.updateModel(this._ptr)},e.prototype.release=function(){a.free(this._ptr),this._ptr=0},e}();e.Model=s;var o=function(e){if(e){var t=new Float32Array(2),r=t.length*t.BYTES_PER_ELEMENT,n=a.malloc(r),s=new Uint8Array(i.HEAPU8.buffer,n,r);s.set(new Uint8Array(t.buffer));var o=new Float32Array(2),l=o.length*o.BYTES_PER_ELEMENT,u=a.malloc(l),f=new Uint8Array(i.HEAPU8.buffer,u,l);f.set(new Uint8Array(o.buffer));var c=new Float32Array(1),A=c.length*c.BYTES_PER_ELEMENT,d=a.malloc(A),h=new Uint8Array(i.HEAPU8.buffer,d,A);h.set(new Uint8Array(c.buffer)),a.readCanvasInfo(e,s.byteOffset,f.byteOffset,h.byteOffset),t=new Float32Array(s.buffer,s.byteOffset,s.length),o=new Float32Array(f.buffer,f.byteOffset,f.length),c=new Float32Array(h.buffer,h.byteOffset,h.length),this.CanvasWidth=t[0],this.CanvasHeight=t[1],this.CanvasOriginX=o[0],this.CanvasOriginY=o[1],this.PixelsPerUnit=c[0],a.free(s.byteOffset),a.free(f.byteOffset),a.free(h.byteOffset)}};e.CanvasInfo=o;var l=function(e){var t=0;this.count=a.getParameterCount(e),t=a.getParameterCount(e),this.ids=new Array(t);for(var r=new Uint32Array(i.HEAPU32.buffer,a.getParameterIds(e),t),n=0;n<r.length;n++)this.ids[n]=i.Pointer_stringify(r[n]);t=a.getParameterCount(e),this.minimumValues=new Float32Array(i.HEAPF32.buffer,a.getParameterMinimumValues(e),t),t=a.getParameterCount(e),this.maximumValues=new Float32Array(i.HEAPF32.buffer,a.getParameterMaximumValues(e),t),t=a.getParameterCount(e),this.defaultValues=new Float32Array(i.HEAPF32.buffer,a.getParameterDefaultValues(e),t),t=a.getParameterCount(e),this.values=new Float32Array(i.HEAPF32.buffer,a.getParameterValues(e),t)};e.Parameters=l;var u=function(e){var t=0;this.count=a.getPartCount(e),t=a.getPartCount(e),this.ids=new Array(t);for(var r=new Uint32Array(i.HEAPU32.buffer,a.getPartIds(e),t),n=0;n<r.length;n++)this.ids[n]=i.Pointer_stringify(r[n]);t=a.getPartCount(e),this.opacities=new Float32Array(i.HEAPF32.buffer,a.getPartOpacities(e),t),t=a.getPartCount(e),this.parentIndices=new Int32Array(i.HEAP32.buffer,a.getPartParentPartIndices(e),t)};e.Parts=u;var f=function(){function e(e){this._modelPtr=e;var t=0,r=null;this.count=a.getDrawableCount(e),t=a.getDrawableCount(e),this.ids=new Array(t);for(var n=new Uint32Array(i.HEAPU32.buffer,a.getDrawableIds(e),t),s=0;s<n.length;s++)this.ids[s]=i.Pointer_stringify(n[s]);t=a.getDrawableCount(e),this.constantFlags=new Uint8Array(i.HEAPU8.buffer,a.getDrawableConstantFlags(e),t),t=a.getDrawableCount(e),this.dynamicFlags=new Uint8Array(i.HEAPU8.buffer,a.getDrawableDynamicFlags(e),t),t=a.getDrawableCount(e),this.textureIndices=new Int32Array(i.HEAP32.buffer,a.getDrawableTextureIndices(e),t),t=a.getDrawableCount(e),this.drawOrders=new Int32Array(i.HEAP32.buffer,a.getDrawableDrawOrders(e),t),t=a.getDrawableCount(e),this.renderOrders=new Int32Array(i.HEAP32.buffer,a.getDrawableRenderOrders(e),t),t=a.getDrawableCount(e),this.opacities=new Float32Array(i.HEAPF32.buffer,a.getDrawableOpacities(e),t),t=a.getDrawableCount(e),this.maskCounts=new Int32Array(i.HEAP32.buffer,a.getDrawableMaskCounts(e),t),t=a.getDrawableCount(e),this.vertexCounts=new Int32Array(i.HEAP32.buffer,a.getDrawableVertexCounts(e),t),t=a.getDrawableCount(e),this.indexCounts=new Int32Array(i.HEAP32.buffer,a.getDrawableIndexCounts(e),t),t=a.getDrawableCount(e),r=new Int32Array(i.HEAP32.buffer,a.getDrawableMaskCounts(e),t),this.masks=new Array(t);var o=new Uint32Array(i.HEAPU32.buffer,a.getDrawableMasks(e),t);for(s=0;s<o.length;s++)this.masks[s]=new Int32Array(i.HEAP32.buffer,o[s],r[s]);t=a.getDrawableCount(e),r=new Int32Array(i.HEAP32.buffer,a.getDrawableVertexCounts(e),t),this.vertexPositions=new Array(t);var l=new Uint32Array(i.HEAPU32.buffer,a.getDrawableVertexPositions(e),t);for(s=0;s<l.length;s++)this.vertexPositions[s]=new Float32Array(i.HEAPF32.buffer,l[s],2*r[s]);t=a.getDrawableCount(e),r=new Int32Array(i.HEAP32.buffer,a.getDrawableVertexCounts(e),t),this.vertexUvs=new Array(t);var u=new Uint32Array(i.HEAPU32.buffer,a.getDrawableVertexUvs(e),t);for(s=0;s<u.length;s++)this.vertexUvs[s]=new Float32Array(i.HEAPF32.buffer,u[s],2*r[s]);t=a.getDrawableCount(e),r=new Int32Array(i.HEAP32.buffer,a.getDrawableIndexCounts(e),t),this.indices=new Array(t);var f=new Uint32Array(i.HEAPU32.buffer,a.getDrawableIndices(e),t);for(s=0;s<f.length;s++)this.indices[s]=new Uint16Array(i.HEAPU16.buffer,f[s],r[s])}return e.prototype.resetDynamicFlags=function(){a.resetDrawableDynamicFlags(this._modelPtr)},e}();e.Drawables=f;var c=function(){function e(){}return e.hasBlendAdditiveBit=function(e){return 1==(1&e)},e.hasBlendMultiplicativeBit=function(e){return 2==(2&e)},e.hasIsDoubleSidedBit=function(e){return 4==(4&e)},e.hasIsVisibleBit=function(e){return 1==(1&e)},e.hasVisibilityDidChangeBit=function(e){return 2==(2&e)},e.hasOpacityDidChangeBit=function(e){return 4==(4&e)},e.hasDrawOrderDidChangeBit=function(e){return 8==(8&e)},e.hasRenderOrderDidChangeBit=function(e){return 16==(16&e)},e.hasVertexPositionsDidChangeBit=function(e){return 32==(32&e)},e}();e.Utils=c}(Live2DCubismCore||(Live2DCubismCore={})),function(e){var t=function(e,t){this.time=e,this.value=t};e.AnimationPoint=t;var r=function(e,t){this.time=e,this.value=t};e.AnimationUserDataBody=r;var i=function(){function e(){}return e.lerp=function(e,r,i){return new t(e.time+(r.time-e.time)*i,e.value+(r.value-e.value)*i)},e.LINEAR=function(e,t,r){var i=e[t+0],a=e[t+1],n=(r-i.time)/(a.time-i.time);return i.value+(a.value-i.value)*n},e.BEZIER=function(t,r,i){var a=(i-t[r+0].time)/(t[r+3].time-t[r].time),n=e.lerp(t[r+0],t[r+1],a),s=e.lerp(t[r+1],t[r+2],a),o=e.lerp(t[r+2],t[r+3],a),l=e.lerp(n,s,a),u=e.lerp(s,o,a);return e.lerp(l,u,a).value},e.STEPPED=function(e,t,r){return e[t+0].value},e.INVERSE_STEPPED=function(e,t,r){return e[t+1].value},e}();e.BuiltinAnimationSegmentEvaluators=i;var a=function(e,t){this.offset=e,this.evaluate=t};e.AnimationSegment=a;var n=function(){function e(e,t,r){this.targetId=e,this.points=t,this.segments=r}return e.prototype.evaluate=function(e){for(var t=0,r=this.segments.length-1;t<r&&this.points[this.segments[t+1].offset].time<e;++t);return this.segments[t].evaluate(this.points,this.segments[t].offset,e)},e}();e.AnimationTrack=n;var s=function(){function e(e){var s=this;this.modelTracks=new Array,this.parameterTracks=new Array,this.partOpacityTracks=new Array,this.userDataBodys=new Array,this.duration=e.Meta.Duration,this.fps=e.Meta.Fps,this.loop=e.Meta.Loop,this.userDataCount=e.Meta.UserDataCount,this.totalUserDataSize=e.Meta.TotalUserDataSize,null!=e.UserData&&(e.UserData.forEach((function(e){s.userDataBodys.push(new r(e.Time,e.Value))})),console.assert(this.userDataBodys.length===this.userDataCount)),e.Curves.forEach((function(e){var r=e.Segments,o=new Array,l=new Array;o.push(new t(r[0],r[1]));for(var u=2;u<r.length;u+=3){var f=o.length-1,c=i.LINEAR,A=r[u];1==A?(c=i.BEZIER,o.push(new t(r[u+1],r[u+2])),o.push(new t(r[u+3],r[u+4])),u+=4):2==A?c=i.STEPPED:3==A&&(c=i.INVERSE_STEPPED),o.push(new t(r[u+1],r[u+2])),l.push(new a(f,c))}var d=new n(e.Id,o,l);"Model"==e.Target?s.modelTracks.push(d):"Parameter"==e.Target?s.parameterTracks.push(d):"PartOpacity"==e.Target&&s.partOpacityTracks.push(d)}))}return e.fromMotion3Json=function(t){if(null==t)return null;var r=new e(t);return r.isValid?r:null},e.prototype.addAnimationCallback=function(e){null==this._callbackFunctions&&(this._callbackFunctions=new Array),this._callbackFunctions.push(e)},e.prototype.removeAnimationCallback=function(e){if(null!=this._callbackFunctions){for(var t=-1,r=0;r<this._callbackFunctions.length;r++)if(this._callbackFunctions[r]===e){t=r;break}t>=0&&this._callbackFunctions.splice(t,1)}},e.prototype.clearAnimationCallback=function(){this._callbackFunctions=[]},e.prototype.callAnimationCallback=function(e){this._callbackFunctions.length>0&&this._callbackFunctions.forEach((function(t){t(e)}))},e.prototype.evaluate=function(e,t,r,i,a,n){if(void 0===n&&(n=null),!(t<=.01)){if(this.loop)for(;e>this.duration;)e-=this.duration;if(this.parameterTracks.forEach((function(n){var s=i.parameters.ids.indexOf(n.targetId);if(s>=0){var o=n.evaluate(e);1!=a[0][s]&&(i.parameters.values[s]=i.parameters.defaultValues[s],a[0][s]=!0),i.parameters.values[s]=r(i.parameters.values[s],o,n.evaluate(0),t)}})),this.partOpacityTracks.forEach((function(n){var s=i.parts.ids.indexOf(n.targetId);if(s>=0){var o=n.evaluate(e);1!=a[1][s]&&(i.parts.opacities[s]=1,a[1][s]=!0),i.parts.opacities[s]=r(i.parts.opacities[s],o,n.evaluate(0),t)}})),this.modelTracks.forEach((function(s){if(null!=n){var o=n.getGroupById(s.targetId);if(null!=o&&"Parameter"===o.target)for(var l=0,u=o.ids;l<u.length;l++){var f=u[l],c=i.parameters.ids.indexOf(f);if(c>=0){var A=s.evaluate(e);1!=a[0][c]&&(i.parameters.values[c]=i.parameters.defaultValues[c],a[0][c]=!0),i.parameters.values[c]=r(i.parameters.values[c],A,s.evaluate(0),t)}}}})),null!=this._callbackFunctions)for(var s=0,o=this.userDataBodys;s<o.length;s++){var l=o[s];this.isEventTriggered(l.time,e,this._lastTime,this.duration)&&this.callAnimationCallback(l.value)}this._lastTime=e}},e.prototype.isEventTriggered=function(e,t,r,i){if(t>r){if(e>r&&e<t)return!0}else if(e>0&&e<t||e>r&&e<i)return!0;return!1},Object.defineProperty(e.prototype,"isValid",{get:function(){return!0},enumerable:!0,configurable:!0}),e}();e.Animation=s;var o=function(){function e(){}return e.LINEAR=function(e,t){return e/t},e}();e.BuiltinCrossfadeWeighters=o;var l=function(){};e.AnimationState=l;var u=function(){function e(){}return e.OVERRIDE=function(e,t,r,i){return t*i+e*(1-i)},e.ADD=function(e,t,r,i){return e+(t-r)*i},e.MULTIPLY=function(e,t,r){return e*(1+(t-1)*r)},e}();e.BuiltinAnimationBlenders=u;var f=function(){function e(){this.weight=1}return Object.defineProperty(e.prototype,"currentAnimation",{get:function(){return this._animation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._time},set:function(e){this._time=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._play},enumerable:!0,configurable:!0}),e.prototype.play=function(e,t){void 0===t&&(t=0),this._animation&&t>0?(this._goalAnimation=e,this._goalTime=0,this._fadeTime=0,this._fadeDuration=t):(this._animation=e,this.currentTime=0,this._play=!0)},e.prototype.resume=function(){this._play=!0},e.prototype.pause=function(){this._play=!1},e.prototype.stop=function(){this._play=!1,this.currentTime=0},e.prototype._update=function(e){this._play&&(this._time+=e,this._goalTime+=e,this._fadeTime+=e,(null==this._animation||!this._animation.loop&&this._time>this._animation.duration)&&(this.stop(),this._animation=null))},e.prototype._evaluate=function(e,t){if(null!=this._animation){var r=this.weight<1?this.weight:1,i=null!=this._goalAnimation?r*this.weightCrossfade(this._fadeTime,this._fadeDuration):r;this._animation.evaluate(this._time,i,this.blend,e,t,this.groups),null!=this._goalAnimation&&(i=1-r*this.weightCrossfade(this._fadeTime,this._fadeDuration),this._goalAnimation.evaluate(this._goalTime,i,this.blend,e,t,this.groups),this._fadeTime>this._fadeDuration&&(this._animation=this._goalAnimation,this._time=this._goalTime,this._goalAnimation=null))}},e}();e.AnimationLayer=f;var c=function(){function e(e,t,r){this._target=e,this.timeScale=t,this._layers=r}return Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){var e=!1;return this._layers.forEach((function(t){t.isPlaying&&(e=!0)})),e},enumerable:!0,configurable:!0}),e.prototype.addLayer=function(e,t,r){void 0===t&&(t=u.OVERRIDE),void 0===r&&(r=1);var i=new f;i.blend=t,i.weightCrossfade=o.LINEAR,i.weight=r,i.groups=this.groups,this._layers.set(e,i)},e.prototype.getLayer=function(e){return this._layers.has(e)?this._layers.get(e):null},e.prototype.removeLayer=function(e){return this._layers.has(e)?this._layers.delete(e):null},e.prototype.clearLayers=function(){this._layers.clear()},e.prototype.updateAndEvaluate=function(e){var t=this;(e*=this.timeScale>0?this.timeScale:0)>.001&&this._layers.forEach((function(t){t._update(e)}));var r=new Array(this._target.parameters.count).fill(!1),i=new Array(this._target.parts.count).fill(!1),a=new Array(r,i);this._layers.forEach((function(e){e._evaluate(t._target,a)}))},e._create=function(t,r,i){var a=new e(t,r,i);return a.isValid?a:null},Object.defineProperty(e.prototype,"isValid",{get:function(){return null!=this._target},enumerable:!0,configurable:!0}),e}();e.Animator=c;var A=function(){function e(){this._timeScale=1,this._layerNames=new Array,this._layerBlenders=new Array,this._layerCrossfadeWeighters=new Array,this._layerWeights=new Array}return e.prototype.setTarget=function(e){return this._target=e,this},e.prototype.setTimeScale=function(e){return this._timeScale=e,this},e.prototype.addLayer=function(e,t,r){return void 0===t&&(t=u.OVERRIDE),void 0===r&&(r=1),this._layerNames.push(e),this._layerBlenders.push(t),this._layerCrossfadeWeighters.push(o.LINEAR),this._layerWeights.push(r),this},e.prototype.build=function(){for(var e=new Map,t=0;t<this._layerNames.length;++t){var r=new f;r.blend=this._layerBlenders[t],r.weightCrossfade=this._layerCrossfadeWeighters[t],r.weight=this._layerWeights[t],e.set(this._layerNames[t],r)}return c._create(this._target,this._timeScale,e)},e}();e.AnimatorBuilder=A;var d=function(){function e(e,t){this.x=e,this.y=t}return e.distance=function(e,t){return Math.abs(e.substract(t).length)},e.dot=function(e,t){return e.x*t.x+e.y*t.y},Object.defineProperty(e.prototype,"length",{get:function(){return Math.sqrt(e.dot(this,this))},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.substract=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.multiply=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.multiplyByScalar=function(t){return this.multiply(new e(t,t))},e.prototype.divide=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.divideByScalar=function(t){return this.divide(new e(t,t))},e.prototype.rotateByRadians=function(t){return new e(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))},e.prototype.normalize=function(){var t=this.length;return new e(this.x/t,this.y/t)},e.zero=new e(0,0),e}();e.PhysicsVector2=d;var h=function(){function e(){}return e.clampScalar=function(e,t,r){return e<t?t:e>r?r:e},e.directionToDegrees=function(t,r){var i=e.directionToRadians(t,r),a=e.radiansToDegrees(i);return r.x-t.x>0?-a:a},e.radiansToDegrees=function(e){return 180*e/Math.PI},e.radiansToDirection=function(e){return new d(Math.sin(e),Math.cos(e))},e.degreesToRadians=function(e){return e/180*Math.PI},e.directionToRadians=function(e,t){var r=d.dot(e,t),i=e.length*t.length;if(0==i)return 0;var a=r/i;return Math.abs(a)<=1?Math.acos(a):0},e.gravity=new d(0,-1),e.wind=new d(0,0),e.maximumWeight=100,e.airResistance=5,e.movementThreshold=.001,e.correctAngles=!0,e}();e.Physics=h;var m=function(e,t,r,i,a){this.initialPosition=e,this.mobility=t,this.delay=r,this.acceleration=i,this.radius=a,this.position=e,this.lastPosition=this.position,this.lastGravity=new d(0,-1),this.force=new d(0,0),this.velocity=new d(0,0)};e.PhysicsParticle=m;var b=function(){function e(e,t,r){this.x=e,this.y=t,this.angle=r}return e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y,this.angle+t.angle)},e}();e.PhysicsFactorTuple=b;var p=function(e,t,r){this.minimum=e,this.maximum=t,this.def=r};e.PhysicsNormalizationTuple=p;var y=function(e,t){this.position=e,this.angle=t};e.PhysicsNormalizationOptions=y;var v=function(){function e(e,t,r,i){this.targetId=e,this.weight=t,this.factor=r,this.invert=i}return Object.defineProperty(e.prototype,"normalizedWeight",{get:function(){return h.clampScalar(this.weight/h.maximumWeight,0,1)},enumerable:!0,configurable:!0}),e.prototype.evaluateFactor=function(e,t,r,i,a){console.assert(r>t);var n=this.getMiddleValue(t,r),s=e-n;switch(Math.sign(s)){case 1:if(0==(o=r-n))s=a.angle.def;else 0==(l=a.angle.maximum-a.angle.def)?s=a.angle.maximum:(s*=Math.abs(l/o),s+=a.angle.def);break;case-1:var o,l;if(0==(o=n-t))s=a.angle.def;else 0==(l=a.angle.def-a.angle.minimum)?s=a.angle.minimum:(s*=Math.abs(l/o),s+=a.angle.def);break;case 0:s=a.angle.def}var u=this.weight/h.maximumWeight;return s*=this.invert?1:-1,new b(s*this.factor.x*u,s*this.factor.y*u,s*this.factor.angle*u)},e.prototype.getRangeValue=function(e,t){var r=Math.max(e,t),i=Math.min(e,t);return Math.abs(r-i)},e.prototype.getMiddleValue=function(e,t){return Math.min(e,t)+this.getRangeValue(e,t)/2},e}();e.PhysicsInput=v;var g=function(){function e(e,t,r,i,a,n){this.targetId=e,this.particleIndex=t,this.weight=r,this.factor=a,this.invert=n,this.factor.angle*=i}return Object.defineProperty(e.prototype,"normalizedWeight",{get:function(){return h.clampScalar(this.weight/h.maximumWeight,0,1)},enumerable:!0,configurable:!0}),e.prototype.evaluateValue=function(e,t){var r=e.x*this.factor.x+e.y*this.factor.y;if(this.factor.angle>0){var i=h.gravity;h.correctAngles&&this.particleIndex>1&&(i=t[this.particleIndex-2].position.substract(t[this.particleIndex-1].position));var a=h.directionToRadians(i,e);r+=(e.x-i.x>0?-a:a)*this.factor.angle}return r*=this.invert?-1:1},e}();e.PhysicsOutput=g;var w=function(){function e(e,t,r,i){this.input=e,this.output=t,this.particles=r,this.normalization=i}return e.prototype._update=function(e,t){var r=this,i=t.parameters,a=new b(0,0,0);this.input.forEach((function(e){var t=i.ids.indexOf(e.targetId);-1!=t&&(a=a.add(e.evaluateFactor(i.values[t],i.minimumValues[t],i.maximumValues[t],i.defaultValues[t],r.normalization)))}));var n=h.degreesToRadians(-a.angle),s=new d(a.x,a.y).rotateByRadians(n);a.x=s.x,a.y=s.y;var o=n,l=h.radiansToDirection(o).normalize();this.particles.forEach((function(t,i){if(0!=i){t.force=l.multiplyByScalar(t.acceleration).add(h.wind),t.lastPosition=t.position;var n=t.delay*e*30,s=t.position.substract(r.particles[i-1].position),o=d.distance(d.zero,s),u=h.directionToDegrees(t.lastGravity,l),f=h.degreesToRadians(u)/h.airResistance;s=s.rotateByRadians(f).normalize(),t.position=r.particles[i-1].position.add(s.multiplyByScalar(o));var c=t.velocity.multiplyByScalar(n),A=t.force.multiplyByScalar(n).multiplyByScalar(n);t.position=t.position.add(c).add(A);var m=t.position.substract(r.particles[i-1].position).normalize();t.position=r.particles[i-1].position.add(m.multiplyByScalar(t.radius)),Math.abs(t.position.x)<h.movementThreshold&&(t.position.x=0),t.velocity=0!=n?t.position.substract(t.lastPosition).divideByScalar(n).multiplyByScalar(t.mobility):d.zero,t.force=d.zero,t.lastGravity=l}else t.position=new d(a.x,a.y)}))},e.prototype._evaluate=function(e){var t=this,r=e.parameters;this.output.forEach((function(e){if(!(e.particleIndex<1||e.particleIndex>=t.particles.length)){var i=r.ids.indexOf(e.targetId);if(-1!=i){var a=t.particles[e.particleIndex-1].position.substract(t.particles[e.particleIndex].position),n=h.clampScalar(e.evaluateValue(a,t.particles),r.minimumValues[i],r.maximumValues[i]),s=r.values[i]*(1-e.normalizedWeight)+n*e.normalizedWeight;r.values[i]=h.clampScalar(s,r.minimumValues[i],r.maximumValues[i])}}}))},e}();e.PhysicsSubRig=w;var _=function(){function e(e,t,r){var i=this;this.timeScale=1,this.timeScale=t,this._target=e,e&&(this._subRigs=new Array,r.PhysicsSettings.forEach((function(e){var t=new Array;e.Input.forEach((function(e){var r=new b(1,0,0);"Y"==e.Type?(r.x=0,r.y=1):"Angle"==e.Type&&(r.x=0,r.angle=1),t.push(new v(e.Source.Id,e.Weight,r,e.Reflect))}));var r=new Array;e.Output.forEach((function(e){var t=new b(1,0,0);"Y"==e.Type?(t.x=0,t.y=1):"Angle"==e.Type&&(t.x=0,t.angle=1),r.push(new g(e.Destination.Id,e.VertexIndex,e.Weight,e.Scale,t,e.Reflect))}));var a=new Array;e.Vertices.forEach((function(e){var t=new d(e.Position.X,e.Position.Y);a.push(new m(t,e.Mobility,e.Delay,e.Acceleration,e.Radius))}));var n=e.Normalization,s=new p(n.Position.Minimum,n.Position.Maximum,n.Position.Default),o=new p(n.Angle.Minimum,n.Angle.Maximum,n.Angle.Default),l=new y(s,o);i._subRigs.push(new w(t,r,a,l))})))}return e.prototype.updateAndEvaluate=function(e){var t=this;(e*=this.timeScale>0?this.timeScale:0)>.01&&this._subRigs.forEach((function(r){r._update(e,t._target)})),this._subRigs.forEach((function(e){e._evaluate(t._target)}))},e._fromPhysics3Json=function(t,r,i){var a=new e(t,r,i);return a._isValid?a:null},Object.defineProperty(e.prototype,"_isValid",{get:function(){return null!=this._target},enumerable:!0,configurable:!0}),e}();e.PhysicsRig=_;var I=function(){function e(){this._timeScale=1}return e.prototype.setTarget=function(e){return this._target=e,this},e.prototype.setTimeScale=function(e){return this._timeScale=e,this},e.prototype.setPhysics3Json=function(e){return this._physics3Json=e,this},e.prototype.build=function(){return _._fromPhysics3Json(this._target,this._timeScale,this._physics3Json)},e}();e.PhysicsRigBuilder=I;var k=function(){function e(e,t){var r=this;this._target=e,e&&(this._version=t.Version,this._userDataCount=t.Meta.UserDataCount,this._totalUserDataSize=t.Meta.TotalUserDataSize,null!=t.UserData&&(this._userDataBodys=new Array,t.UserData.forEach((function(e){r._userDataBodys.push(new B(e.Target,e.Id,e.Value))})),console.assert(this._userDataBodys.length===this._userDataCount)))}return e._fromUserData3Json=function(t,r){var i=new e(t,r);return i._isValid?i:null},Object.defineProperty(e.prototype,"_isValid",{get:function(){return null!=this._target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userDataCount",{get:function(){return null==this._userDataBodys?0:this._userDataCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalUserDataSize",{get:function(){return null==this._userDataBodys?0:this._totalUserDataSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userDataBodys",{get:function(){return null==this._userDataBodys?null:this._userDataBodys},enumerable:!0,configurable:!0}),e.prototype.isExistUserDataById=function(e){if(null==this._userDataBodys)return!1;for(var t=0,r=this._userDataBodys;t<r.length;t++){if(r[t].id===e)return!0}return!1},e.prototype.getUserDataValueById=function(e){if(null==this._userDataBodys)return null;for(var t=0,r=this._userDataBodys;t<r.length;t++){var i=r[t];if(i.id===e)return i.value}return null},e.prototype.getUserDataTargetById=function(e){if(null==this._userDataBodys)return null;for(var t=0,r=this._userDataBodys;t<r.length;t++){var i=r[t];if(i.id===e)return i.target}return null},e.prototype.getUserDataBodyById=function(e){if(null==this._userDataBodys)return null;for(var t=0,r=this._userDataBodys;t<r.length;t++){var i=r[t];if(i.id===e)return i}return null},e}();e.UserData=k;var M=function(){function e(){}return e.prototype.setTarget=function(e){return this._target=e,this},e.prototype.setUserData3Json=function(e){return this._userData3Json=e},e.prototype.build=function(){return k._fromUserData3Json(this._target,this._userData3Json)},e}();e.UserDataBuilder=M;var D,B=function(e,t,r){this.target=e,this.id=t,this.value=r};e.UserDataBody=B,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ArtMesh=1]="ArtMesh"}(D||(D={}));var P=function(){function e(e){var t=this;void 0!==e.Groups?(this._groupBodys=new Array,e.Groups.forEach((function(e){t._groupBodys.push(new R(e.Target,e.Name,e.Ids))}))):this._groupBodys=null}return Object.defineProperty(e.prototype,"data",{get:function(){return null==this._groupBodys?null:this._groupBodys},enumerable:!0,configurable:!0}),e.fromModel3Json=function(t){return new e(t)},e.prototype.getGroupById=function(e){if(null!=this._groupBodys)for(var t=0,r=this._groupBodys;t<r.length;t++){var i=r[t];if(i.name===e)return i}return null},e}();e.Groups=P;var R=function(e,t,r){this.target=e,this.name=t,this.ids=r};e.GroupBody=R}(LIVE2DCUBISMFRAMEWORK||(LIVE2DCUBISMFRAMEWORK={}));var LIVE2DCUBISMPIXI,__extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();!function(e){var t=function(e){function t(t,i,n,s,o,l){var u=e.call(this)||this;if(u._coreModel=t,u._textures=i,u._animator=n,u._physicsRig=s,u._userData=o,u._groups=l,u._animator.groups=u._groups,null==u._coreModel)return u;u._meshes=new Array(u._coreModel.drawables.ids.length);for(var f=0;f<u._meshes.length;++f){for(var c=u._coreModel.drawables.vertexUvs[f].slice(0,u._coreModel.drawables.vertexUvs[f].length),A=1;A<c.length;A+=2)c[A]=1-c[A];if(u._meshes[f]=new a(i[u._coreModel.drawables.textureIndices[f]],u._coreModel.drawables.vertexPositions[f],c,u._coreModel.drawables.indices[f],PIXI.DRAW_MODES.TRIANGLES),u._meshes[f].name=u._coreModel.drawables.ids[f],u._meshes[f].scale.y*=-1,u._meshes[f].isCulling=!Live2DCubismCore.Utils.hasIsDoubleSidedBit(u._coreModel.drawables.constantFlags[f]),Live2DCubismCore.Utils.hasBlendAdditiveBit(u._coreModel.drawables.constantFlags[f]))if(u._coreModel.drawables.maskCounts[f]>0){var d=new PIXI.Filter;d.blendMode=PIXI.BLEND_MODES.ADD,u._meshes[f].filters=[d]}else u._meshes[f].blendMode=PIXI.BLEND_MODES.ADD;else if(Live2DCubismCore.Utils.hasBlendMultiplicativeBit(u._coreModel.drawables.constantFlags[f]))if(u._coreModel.drawables.maskCounts[f]>0){var h=new PIXI.Filter;h.blendMode=PIXI.BLEND_MODES.MULTIPLY,u._meshes[f].filters=[h]}else u._meshes[f].blendMode=PIXI.BLEND_MODES.MULTIPLY;u.addChild(u._meshes[f])}return u._maskSpriteContainer=new r(t,u),u}return __extends(t,e),Object.defineProperty(t.prototype,"parameters",{get:function(){return this._coreModel.parameters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parts",{get:function(){return this._coreModel.parts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"drawables",{get:function(){return this._coreModel.drawables},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasinfo",{get:function(){return this._coreModel.canvasinfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animator",{get:function(){return this._animator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"meshes",{get:function(){return this._meshes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"masks",{get:function(){return this._maskSpriteContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),t.prototype.update=function(e){var t=this,r=.016*e;this._animator.updateAndEvaluate(r),this._physicsRig&&this._physicsRig.updateAndEvaluate(r),this._coreModel.update();for(var i=!1,a=0;a<this._meshes.length;++a)this._meshes[a].alpha=this._coreModel.drawables.opacities[a],this._meshes[a].visible=Live2DCubismCore.Utils.hasIsVisibleBit(this._coreModel.drawables.dynamicFlags[a]),Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(this._coreModel.drawables.dynamicFlags[a])&&(this._meshes[a].vertices=this._coreModel.drawables.vertexPositions[a],this._meshes[a].dirtyVertex=!0),Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(this._coreModel.drawables.dynamicFlags[a])&&(i=!0);i&&this.children.sort((function(e,r){var i=t._meshes.indexOf(e),a=t._meshes.indexOf(r);return t._coreModel.drawables.renderOrders[i]-t._coreModel.drawables.renderOrders[a]})),this._coreModel.drawables.resetDynamicFlags()},t.prototype.destroy=function(t){null!=this._coreModel&&this._coreModel.release(),e.prototype.destroy.call(this,t),this.masks.destroy(),this._meshes.forEach((function(e){e.destroy()})),(1==t||t.texture)&&this._textures.forEach((function(e){e.destroy()}))},t.prototype.getModelMeshById=function(e){if(null==this._meshes)return null;for(var t=0,r=this._meshes;t<r.length;t++){var i=r[t];if(i.name===e)return i}return null},t.prototype.addParameterValueById=function(e,t){var r=this._coreModel.parameters.ids.indexOf(e);-1!=r&&(this._coreModel.parameters.values[r]=this._coreModel.parameters.values[r]+t)},t._create=function(e,r,i,a,n,s){void 0===a&&(a=null),void 0===n&&(n=null),void 0===s&&(s=null);var o=new t(e,r,i,a,n,s);return o.isValid?o:(o.destroy(),null)},Object.defineProperty(t.prototype,"isValid",{get:function(){return null!=this._coreModel},enumerable:!0,configurable:!0}),t}(PIXI.Container);e.Model=t;var r=function(e){function t(t,r){var i=e.call(this)||this;i._maskShaderVertSrc=new String("\n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n            uniform mat3 projectionMatrix;\n            varying vec2 vTextureCoord;\n            void main(void){\n                gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n                vTextureCoord = aTextureCoord;\n            }\n            "),i._maskShaderFragSrc=new String("\n            varying vec2 vTextureCoord;\n            uniform sampler2D uSampler;\n            void main(void){\n                vec4 c = texture2D(uSampler, vTextureCoord);\n                c.r = c.a;\n                c.g = 0.0;\n                c.b = 0.0;\n                gl_FragColor = c;\n            }\n            "),i._maskShader=new PIXI.Filter(i._maskShaderVertSrc.toString(),i._maskShaderFragSrc.toString());var n=t.drawables.maskCounts,s=t.drawables.masks;i._maskMeshContainers=new Array,i._maskTextures=new Array,i._maskSprites=new Array;for(var o=0;o<r.meshes.length;++o)if(n[o]>0){for(var l=new PIXI.Container,u=0;u<s[o].length;++u){var f=t.drawables.masks[o][u];if(!(f<0)){var c=new a(r.meshes[f].texture,r.meshes[f].vertices,r.meshes[f].uvs,r.meshes[f].indices,PIXI.DRAW_MODES.TRIANGLES);c.name=r.meshes[f].name,c.transform=r.meshes[f].transform,c.worldTransform=r.meshes[f].worldTransform,c.localTransform=r.meshes[f].localTransform,c.isCulling=r.meshes[f].isCulling,c.isMaskMesh=!0,c.filters=[i._maskShader],l.addChild(c)}}l.transform=r.transform,l.worldTransform=r.worldTransform,l.localTransform=r.localTransform,i._maskMeshContainers.push(l);var A=PIXI.RenderTexture.create(0,0);i._maskTextures.push(A);var d=new PIXI.Sprite(A);i._maskSprites.push(d),i.addChild(d),r.meshes[o].mask=d}return i}return __extends(t,e),Object.defineProperty(t.prototype,"maskSprites",{get:function(){return this._maskSprites},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskMeshes",{get:function(){return this._maskMeshContainers},enumerable:!0,configurable:!0}),t.prototype.destroy=function(e){this._maskSprites.forEach((function(e){e.destroy()})),this._maskTextures.forEach((function(e){e.destroy()})),this._maskMeshContainers.forEach((function(e){e.destroy()})),this._maskShader=null},t.prototype.update=function(e){for(var t=0;t<this._maskSprites.length;++t)e.render(this._maskMeshContainers[t],this._maskTextures[t],!0,null,!1)},t.prototype.resize=function(e,t){for(var r=0;r<this._maskTextures.length;++r)this._maskTextures[r].resize(e,t,!1)},t}(PIXI.Container);e.MaskSpriteContainer=r;var i=function(){function e(){this._textures=new Array,this._timeScale=1,this._animatorBuilder=new LIVE2DCUBISMFRAMEWORK.AnimatorBuilder}return e.prototype.setMoc=function(e){return this._moc=e,this},e.prototype.setTimeScale=function(e){return this._timeScale=e,this},e.prototype.setPhysics3Json=function(e){return this._physicsRigBuilder||(this._physicsRigBuilder=new LIVE2DCUBISMFRAMEWORK.PhysicsRigBuilder),this._physicsRigBuilder.setPhysics3Json(e),this},e.prototype.setUserData3Json=function(e){return this._userDataBuilder||(this._userDataBuilder=new LIVE2DCUBISMFRAMEWORK.UserDataBuilder),this._userDataBuilder.setUserData3Json(e),this},e.prototype.addTexture=function(e,t){return this._textures.splice(e,0,t),this},e.prototype.addAnimatorLayer=function(e,t,r){return void 0===t&&(t=LIVE2DCUBISMFRAMEWORK.BuiltinAnimationBlenders.OVERRIDE),void 0===r&&(r=1),this._animatorBuilder.addLayer(e,t,r),this},e.prototype.addGroups=function(e){return this._groups=e,this},e.prototype.buildFromModel3Json=function(e,t,r){var i=this,a=t.url,n=a.substring(0,a.lastIndexOf("/")+1),s=0;void 0!==t.data.FileReferences.Moc&&e.add("moc",n+t.data.FileReferences.Moc,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER}),void 0!==t.data.FileReferences.Textures&&t.data.FileReferences.Textures.forEach((function(t){e.add("texture"+s,n+t),s++})),void 0!==t.data.FileReferences.Physics&&e.add("physics",n+t.data.FileReferences.Physics,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),void 0!==t.data.FileReferences.UserData&&e.add("userdata",n+t.data.FileReferences.UserData,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),t.data.Groups,this._groups=LIVE2DCUBISMFRAMEWORK.Groups.fromModel3Json(t.data),e.load((function(e,t){if(void 0!==t.moc&&i.setMoc(Live2DCubismCore.Moc.fromArrayBuffer(t.moc.data)),void 0!==t.texture0)for(var a=0;a<s;a++)i.addTexture(a,t["texture"+a].texture);void 0!==t.physics&&i.setPhysics3Json(t.physics.data),void 0!==t.userdata&&i.setUserData3Json(t.userdata.data);var n=i.build();r(n)}))},e.prototype.build=function(){var e=Live2DCubismCore.Model.fromMoc(this._moc);if(null==e)return null;var r=this._animatorBuilder.setTarget(e).setTimeScale(this._timeScale).build(),i=null;this._physicsRigBuilder&&(i=this._physicsRigBuilder.setTarget(e).setTimeScale(this._timeScale).build());var a=null;return this._userDataBuilder&&(a=this._userDataBuilder.setTarget(e).build()),t._create(e,this._textures,r,i,a,this._groups)},e}();e.ModelBuilder=i;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isCulling=!1,t.isMaskMesh=!1,t}return __extends(t,e),t.prototype._renderWebGL=function(t){!0===this.isMaskMesh?t.state.setFrontFace(1):t.state.setFrontFace(0),!0===this.isCulling?t.state.setCullFace(1):t.state.setCullFace(0),e.prototype._renderWebGL.call(this,t),t.state.setFrontFace(0)},t}(PIXI.mesh.Mesh);e.CubismMesh=a}(LIVE2DCUBISMPIXI||(LIVE2DCUBISMPIXI={}));class L2D{constructor(e){this.basePath=e,this.loader=new PIXI.loaders.Loader(this.basePath),this.animatorBuilder=new LIVE2DCUBISMFRAMEWORK.AnimatorBuilder,this.timeScale=1,this.models={}}setPhysics3Json(e){return this.physicsRigBuilder||(this.physicsRigBuilder=new LIVE2DCUBISMFRAMEWORK.PhysicsRigBuilder),this.physicsRigBuilder.setPhysics3Json(e),this}load(e,t){if(this.models[e])t.changeCanvas(this.models[e]);else{let r=e+"/",i=e+".model3.json",a=new Array,n=0,s=new Array,o=new Array;this.loader.add(e+"_model",r+i,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),o.push(e+"_model"),this.loader.load(((i,o)=>{let l=o[e+"_model"].data;if(void 0!==l.FileReferences.Moc&&i.add(e+"_moc",r+l.FileReferences.Moc,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.BUFFER}),void 0!==l.FileReferences.Textures&&l.FileReferences.Textures.forEach((t=>{i.add(e+"_texture"+n,r+t),n++})),void 0!==l.FileReferences.Physics&&i.add(e+"_physics",r+l.FileReferences.Physics,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),void 0!==l.FileReferences.Motions)for(let t in l.FileReferences.Motions)l.FileReferences.Motions[t].forEach((t=>{let a=t.File.split("/").pop().split(".").shift();if(s.includes(e+"_"+a)){var n=e+"_"+a+String(Date.now());i.add(n,r+t.File,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),s.push(e+"_"+a)}else i.add(e+"_"+a,r+t.File,{xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.JSON}),s.push(e+"_"+a)}));let u=null;l.Groups,u=LIVE2DCUBISMFRAMEWORK.Groups.fromModel3Json(l),i.load(((r,i)=>{let o=null;if(void 0!==i[e+"_moc"]&&(o=Live2DCubismCore.Moc.fromArrayBuffer(i[e+"_moc"].data)),void 0!==i[e+"_texture0"])for(let t=0;t<n;t++)a.splice(t,0,i[e+"_texture"+t].texture);void 0!==i[e+"_physics"]&&this.setPhysics3Json(i[e+"_physics"].data);let l=new Map;s.forEach((t=>{let r=t.split(e+"_").pop();l.set(r,LIVE2DCUBISMFRAMEWORK.Animation.fromMotion3Json(i[t].data))}));let f=null,c=Live2DCubismCore.Model.fromMoc(o);if(null==c)return;let A=this.animatorBuilder.setTarget(c).setTimeScale(this.timeScale).build(),d=this.physicsRigBuilder.setTarget(c).setTimeScale(this.timeScale).build();f=LIVE2DCUBISMPIXI.Model._create(c,a,A,d,null,u),f.motions=l,this.models[e]=f,t.changeCanvas(f)}))}))}}}class Viewer{constructor(e){let t=e.width||800,r=e.height||600,i=e.role,a=e.left,n=e.top,s=e.right,o=e.bottom,l=e.background,u=e.opacity;!e.mobile&&this.isMobile()||(this.l2d=new L2D(e.basePath),this.canvas=document.getElementById("L2dCanvas"),this.l2d.load(i,this),this.app=new PIXI.Application({width:t,height:r,transparent:!0,antialias:!0,resolution:2}),this.canvas.appendChild(this.app.view),this.canvas.style.position="fixed",l&&(this.canvas.style.background=`url("${l}")`,this.canvas.style.backgroundSize="cover"),u&&(this.canvas.style.opacity=u),n&&(this.canvas.style.top=n),s&&(this.canvas.style.right=s),o&&(this.canvas.style.bottom=o),a&&(this.canvas.style.left=a),this.app.ticker.add((e=>{this.model&&(this.model.update(e),this.model.masks.update(this.app.renderer))})),window.onresize=e=>{void 0===e&&(e=null),this.app.view.style.width=t+"px",this.app.view.style.height=r+"px",this.app.renderer.resize(t,r),this.model&&(this.model.position=new PIXI.Point(.45*t,.45*r),this.model.scale=new PIXI.Point(.22*this.model.position.x,.22*this.model.position.x),this.model.masks.resize(this.app.view.width,this.app.view.height))},this.isClick=!1,this.app.view.addEventListener("mousedown",(e=>{this.isClick=!0})),this.app.view.addEventListener("mousemove",(e=>{if(this.isClick&&(this.isClick=!1,this.model&&(this.model.inDrag=!0)),this.model){let t=this.model.position.x-e.offsetX,r=this.model.position.y-e.offsetY;this.model.pointerX=-t/this.app.view.height,this.model.pointerY=-r/this.app.view.width}})),this.app.view.addEventListener("mouseup",(e=>{if(this.model){if(this.isClick=!0,this.isClick)if(this.isHit("TouchHead",e.offsetX,e.offsetY))this.startAnimation("touch_head","base");else if(this.isHit("TouchSpecial",e.offsetX,e.offsetY))this.startAnimation("touch_special","base");else{const e=["touch_body","main_1","main_2","main_3"];let t=e[Math.floor(Math.random()*e.length)];this.startAnimation(t,"base")}this.isClick=!1,this.model.inDrag=!1}})))}changeCanvas(e){this.app.stage.removeChildren(),e.motions.forEach(((e,t)=>{if("effect"!=t){let e=document.createElement("button"),r=document.createTextNode(t);e.appendChild(r),e.className="btnGenericText",e.addEventListener("click",(()=>{this.startAnimation(t,"base")}))}})),this.model=e,this.model.update=this.onUpdate,this.model.animator.addLayer("base",LIVE2DCUBISMFRAMEWORK.BuiltinAnimationBlenders.OVERRIDE,1),this.app.stage.addChild(this.model),this.app.stage.addChild(this.model.masks),window.onresize()}onUpdate(e){let t=.016*e;if(!this.animator.isPlaying){let e=this.motions.get("idle");this.animator.getLayer("base").play(e)}this._animator.updateAndEvaluate(t),this.inDrag&&(this.addParameterValueById("ParamAngleX",30*this.pointerX),this.addParameterValueById("ParamAngleY",30*-this.pointerY),this.addParameterValueById("ParamBodyAngleX",10*this.pointerX),this.addParameterValueById("ParamBodyAngleY",10*-this.pointerY),this.addParameterValueById("ParamEyeBallX",this.pointerX),this.addParameterValueById("ParamEyeBallY",-this.pointerY)),this._physicsRig&&this._physicsRig.updateAndEvaluate(t),this._coreModel.update();let r=!1;for(let e=0;e<this._meshes.length;++e)this._meshes[e].alpha=this._coreModel.drawables.opacities[e],this._meshes[e].visible=Live2DCubismCore.Utils.hasIsVisibleBit(this._coreModel.drawables.dynamicFlags[e]),Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(this._coreModel.drawables.dynamicFlags[e])&&(this._meshes[e].vertices=this._coreModel.drawables.vertexPositions[e],this._meshes[e].dirtyVertex=!0),Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(this._coreModel.drawables.dynamicFlags[e])&&(r=!0);r&&this.children.sort(((e,t)=>{let r=this._meshes.indexOf(e),i=this._meshes.indexOf(t);return this._coreModel.drawables.renderOrders[r]-this._coreModel.drawables.renderOrders[i]})),this._coreModel.drawables.resetDynamicFlags()}startAnimation(e,t){if(!this.model)return;let r=this.model.motions.get(e);if(!r)return;let i=this.model.animator.getLayer(t);i&&i.play(r)}isHit(e,t,r){if(!this.model)return!1;let i=this.model.getModelMeshById(e);if(!i)return!1;const a=i.vertices;let n=a[0],s=a[0],o=a[1],l=a[1];for(let e=1;e<4;++e){let t=a[0+2*e],r=a[0+2*e+1];t<n&&(n=t),t>s&&(s=t),r<o&&(o=r),r>l&&(l=r)}let u=i.worldTransform.tx-t,f=i.worldTransform.ty-r,c=-u/i.worldTransform.a,A=-f/i.worldTransform.d;return n<=c&&c<=s&&o<=A&&A<=l}isMobile(){var e=window,t=(e.location,e.navigator),r=t.userAgent.toLowerCase();function i(e){return e.test(r)}var a=i(/android|htc/)||/linux/i.test(t.platform+""),n={IsAndroid:a,IsIPhone:!a&&i(/ipod|iphone/),IsWinPhone:i(/windows phone/)},s=e.document.documentElement;for(var o in n)n[o]&&(s.className+=" "+o.replace("Is","").toLowerCase());return n.IsAndroid||n.IsIPhone||n.IsWinPhone}}